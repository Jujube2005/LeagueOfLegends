<div class="filter-form">
    <h3>Search</h3>
    <!-- FormsModule  -->
    <input type="text" [(ngModel)]="filter.name" placeholder="Mission Name" />
    <select [(ngModel)]="filter.status">
        <option value="">-- Select Status --</option>
        <option value="Open">Open</option>
        <option value="InProgress">In Progress</option>
        <option value="Completed">Completed</option>
        <option value="Failed">Failed</option>
    </select>
    <button (click)="onSubmit()">Go</button>
    @if(isSignin()){
        <button class="new-mission-btn" (click)="openDialog()" style="margin-left: auto; background-color: #4CAF50; color: white; border: none; padding: 0 1.5rem; border-radius: 4px; height: 36px; cursor: pointer; font-weight: 500;">
            <mat-icon style="vertical-align: middle; font-size: 18px; width: 18px; height: 18px;">add</mat-icon> New Mission
        </button>
    }
</div>
<div class="mission-list">
    @if((missions$ | async)?.length) {
    <div class="header">
        <span class="name">Name</span>
        <span class="description">Description</span>
        <span class="chief">Chief</span>
        <span class="crew_count">Number of Crew</span>
        <span class="status">Status</span>
        <span class="created_at">Created at</span>
        <span class="updated_at">Updated at</span>
        <span class="action">Actions</span>
    </div>
    @for (mission of missions$ | async; track mission.id) {
    <div class="contents">
        <span class="name">{{mission.name}}</span>
        <span class="description">{{mission.description}}</span>
        <span class="chief">{{mission.chief_display_name}}</span>
        <span class="crew_count">{{mission.crew_count}}</span>
        <span class="status">{{mission.status}}</span>
        <span class="created_at">{{mission.created_at | date:'short'}}</span>
        <span class="updated_at">{{mission.updated_at | date:'short'}}</span>

        <span class="action clickable" (click)="joinMission(mission)">Join</span>
    </div>
    }
    }
</div>
