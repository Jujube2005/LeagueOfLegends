<h2 mat-dialog-title>Invite Member</h2>
<mat-dialog-content>
    <div style="margin-bottom: 1rem;">
        <input style="width: 100%; padding: 0.5rem;" type="text" [(ngModel)]="searchTerm" (ngModelChange)="onSearchChange()" placeholder="Search User" />
    </div>

    <div style="max-height: 400px; overflow-y: auto;">
        @for(user of filteredUsers; track user.id) {
            <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.5rem; border-bottom: 1px solid #ccc;">
                <div style="display: flex; align-items: center;">
                    <img [src]="user.avatar_url || 'assets/default-avatar.png'" style="width: 40px; height: 40px; border-radius: 50%; margin-right: 1rem;" />
                    <span>{{user.display_name}}</span>
                </div>
                <button mat-stroked-button color="primary" (click)="invite(user)" [disabled]="isInvited(user.id)" *ngIf="!currentMembers.has(user.id)">
                    {{ isInvited(user.id) ? 'Invited' : 'Invite' }}
                </button>
            </div>
        }
    </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>
