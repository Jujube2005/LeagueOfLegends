import{a as Nn}from"./chunk-VLM3OJXR.js";import{a as Fe}from"./chunk-SGDN3HFS.js";import{a as lt,b as Ln,c as Ie,e as ct,f as dt,g as mt,h as pt,i as gt,j as Ht}from"./chunk-O7XQD6IO.js";import{a as j,b as oe}from"./chunk-RMDT7ZNO.js";import{B as ft,C as De,D as Ue,F as Rn,G as xt,H as Vn}from"./chunk-OLMDNWOY.js";import{A as Fn,B as Tn,C as Ve,D as rt,E as zn,F as An,G as In,H as Dn,I as at,J as ot,K as st,L as Un,M as Bn,N as Ae,O as jn,b as _n,e as ie,f as Ee,g as yn,h as re,j as vn,k as wn,l as Cn,m as kn,p as Mn,q as W,r as ae,s as Pn,t as On,u as Sn,v as En,w as it,x as Te,y as he,z as ze}from"./chunk-PCHQMVQE.js";import{$b as de,Ab as a,Bb as p,Cb as x,D as sn,Db as u,Eb as X,Hb as D,I as ln,Lb as M,Mb as Vt,Nb as f,Pa as H,Ra as c,U as ue,Ub as Re,Vb as Se,Wb as ce,Xb as Ke,Y as cn,Yb as s,Z as m,Zb as v,_b as y,a as q,aa as dn,ac as me,b as Pe,bc as pe,c as Ze,ca as S,cc as fe,d as nn,da as E,ea as Je,eb as O,ec as et,fa as Xe,fc as xn,gc as tt,h as rn,hc as un,i as te,ic as hn,jc as U,kc as $,la as mn,lc as ge,n as an,oa as pn,oc as ne,pa as A,q as on,qb as fn,ra as Qe,rc as nt,sb as b,tb as Oe,ub as _,vb as gn,wb as L,wc as bn,xb as N,yb as w,zb as r}from"./chunk-JZHJ2IWP.js";var qn=Ze(qt=>{"use strict";qt.read=function(n,t,e,i,o){var l,d,k=o*8-i-1,C=(1<<k)-1,P=C>>1,g=-7,h=e?o-1:0,F=e?-1:1,T=n[t+h];for(h+=F,l=T&(1<<-g)-1,T>>=-g,g+=k;g>0;l=l*256+n[t+h],h+=F,g-=8);for(d=l&(1<<-g)-1,l>>=-g,g+=i;g>0;d=d*256+n[t+h],h+=F,g-=8);if(l===0)l=1-P;else{if(l===C)return d?NaN:(T?-1:1)*(1/0);d=d+Math.pow(2,i),l=l-P}return(T?-1:1)*d*Math.pow(2,l-i)};qt.write=function(n,t,e,i,o,l){var d,k,C,P=l*8-o-1,g=(1<<P)-1,h=g>>1,F=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:l-1,ee=i?1:-1,V=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(k=isNaN(t)?1:0,d=g):(d=Math.floor(Math.log(t)/Math.LN2),t*(C=Math.pow(2,-d))<1&&(d--,C*=2),d+h>=1?t+=F/C:t+=F*Math.pow(2,1-h),t*C>=2&&(d++,C/=2),d+h>=g?(k=0,d=g):d+h>=1?(k=(t*C-1)*Math.pow(2,o),d=d+h):(k=t*Math.pow(2,h-1)*Math.pow(2,o),d=0));o>=8;n[e+T]=k&255,T+=ee,k/=256,o-=8);for(d=d<<o|k,P+=o;P>0;n[e+T]=d&255,T+=ee,d/=256,P-=8);n[e+T-ee]|=V*128}});var ni=Ze((Zo,ti)=>{"use strict";var je=1e3,Le=je*60,Ne=Le*60,ke=Ne*24,Xi=ke*7,Qi=ke*365.25;ti.exports=function(n,t){t=t||{};var e=typeof n;if(e==="string"&&n.length>0)return Ki(n);if(e==="number"&&isFinite(n))return t.long?tr(n):er(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function Ki(n){if(n=String(n),!(n.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(t){var e=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return e*Qi;case"weeks":case"week":case"w":return e*Xi;case"days":case"day":case"d":return e*ke;case"hours":case"hour":case"hrs":case"hr":case"h":return e*Ne;case"minutes":case"minute":case"mins":case"min":case"m":return e*Le;case"seconds":case"second":case"secs":case"sec":case"s":return e*je;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function er(n){var t=Math.abs(n);return t>=ke?Math.round(n/ke)+"d":t>=Ne?Math.round(n/Ne)+"h":t>=Le?Math.round(n/Le)+"m":t>=je?Math.round(n/je)+"s":n+"ms"}function tr(n){var t=Math.abs(n);return t>=ke?Ct(n,t,ke,"day"):t>=Ne?Ct(n,t,Ne,"hour"):t>=Le?Ct(n,t,Le,"minute"):t>=je?Ct(n,t,je,"second"):n+" ms"}function Ct(n,t,e,i){var o=t>=e*1.5;return Math.round(n/e)+" "+i+(o?"s":"")}});var ri=Ze((Jo,ii)=>{"use strict";function nr(n){e.debug=e,e.default=e,e.coerce=C,e.disable=d,e.enable=o,e.enabled=k,e.humanize=ni(),e.destroy=P,Object.keys(n).forEach(g=>{e[g]=n[g]}),e.names=[],e.skips=[],e.formatters={};function t(g){let h=0;for(let F=0;F<g.length;F++)h=(h<<5)-h+g.charCodeAt(F),h|=0;return e.colors[Math.abs(h)%e.colors.length]}e.selectColor=t;function e(g){let h,F=null,T,ee;function V(...Q){if(!V.enabled)return;let _e=V,Ye=Number(new Date),Ci=Ye-(h||Ye);_e.diff=Ci,_e.prev=h,_e.curr=Ye,h=Ye,Q[0]=e.coerce(Q[0]),typeof Q[0]!="string"&&Q.unshift("%O");let Ge=0;Q[0]=Q[0].replace(/%([a-zA-Z%])/g,(Rt,ki)=>{if(Rt==="%%")return"%";Ge++;let tn=e.formatters[ki];if(typeof tn=="function"){let Mi=Q[Ge];Rt=tn.call(_e,Mi),Q.splice(Ge,1),Ge--}return Rt}),e.formatArgs.call(_e,Q),(_e.log||e.log).apply(_e,Q)}return V.namespace=g,V.useColors=e.useColors(),V.color=e.selectColor(g),V.extend=i,V.destroy=e.destroy,Object.defineProperty(V,"enabled",{enumerable:!0,configurable:!1,get:()=>F!==null?F:(T!==e.namespaces&&(T=e.namespaces,ee=e.enabled(g)),ee),set:Q=>{F=Q}}),typeof e.init=="function"&&e.init(V),V}function i(g,h){let F=e(this.namespace+(typeof h>"u"?":":h)+g);return F.log=this.log,F}function o(g){e.save(g),e.namespaces=g,e.names=[],e.skips=[];let h=(typeof g=="string"?g:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let F of h)F[0]==="-"?e.skips.push(F.slice(1)):e.names.push(F)}function l(g,h){let F=0,T=0,ee=-1,V=0;for(;F<g.length;)if(T<h.length&&(h[T]===g[F]||h[T]==="*"))h[T]==="*"?(ee=T,V=F,T++):(F++,T++);else if(ee!==-1)T=ee+1,V++,F=V;else return!1;for(;T<h.length&&h[T]==="*";)T++;return T===h.length}function d(){let g=[...e.names,...e.skips.map(h=>"-"+h)].join(",");return e.enable(""),g}function k(g){for(let h of e.skips)if(l(g,h))return!1;for(let h of e.names)if(l(g,h))return!0;return!1}function C(g){return g instanceof Error?g.stack||g.message:g}function P(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}ii.exports=nr});var ai=Ze((J,kt)=>{"use strict";J.formatArgs=rr;J.save=ar;J.load=or;J.useColors=ir;J.storage=sr();J.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();J.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ir(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function rr(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+kt.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;n.splice(1,0,t,"color: inherit");let e=0,i=0;n[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(e++,o==="%c"&&(i=e))}),n.splice(i,0,t)}J.log=console.debug||console.log||(()=>{});function ar(n){try{n?J.storage.setItem("debug",n):J.storage.removeItem("debug")}catch{}}function or(){let n;try{n=J.storage.getItem("debug")||J.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function sr(){try{return localStorage}catch{}}kt.exports=ri()(J);var{formatters:lr}=kt.exports;lr.j=function(n){try{return JSON.stringify(n)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Pi=(n,t)=>t.id;function Oi(n,t){if(n&1){let e=D();r(0,"div",102),M("click",function(o){return S(e),E(o.stopPropagation())}),s(1," SUCCESS "),a()}}function Si(n,t){if(n&1){let e=D();r(0,"button",103),M("click",function(o){S(e);let l=f().$implicit,d=f();return o.stopPropagation(),E(d._router.navigate(["/missions",l.id]))}),s(1," VIEW MISSION "),a()}}function Ei(n,t){if(n&1){let e=D();r(0,"button",104),M("click",function(o){S(e);let l=f().$implicit,d=f();return o.stopPropagation(),E(d.joinMission(l.id))}),s(1," ENGAGE MISSION "),a()}}function Fi(n,t){if(n&1&&(r(0,"div",69)(1,"div",70)(2,"div",71)(3,"div",72)(4,"div",73)(5,"div",74)(6,"div",75)(7,"span",76),s(8,"lock"),a()(),r(9,"h4",77),s(10,"LOCKED"),a(),r(11,"p",78),s(12,"Encrypted Data "),a(),r(13,"button",79),s(14,"DECRYPT"),a()()(),r(15,"div",80),p(16,"div",81),a()(),r(17,"div",82)(18,"div",83)(19,"div",80),p(20,"div",81),a(),p(21,"div",84)(22,"div",85)(23,"div",86),r(24,"div",87),p(25,"img",88)(26,"div",89),r(27,"div",90),s(28),a()(),r(29,"div",91)(30,"div",92),s(31," MISSION DATA"),a(),r(32,"h4",93),s(33),a(),r(34,"div",94)(35,"div",95)(36,"span",96),s(37,"group"),a(),r(38,"div",97),s(39),a()(),r(40,"div",95)(41,"span",96),s(42,"verified"),a(),r(43,"div",97),s(44),a()()(),r(45,"p",98),s(46),a(),b(47,Oi,2,0,"div",99)(48,Si,2,0,"button",100)(49,Ei,2,0,"button",101),a()()()()()()),n&2){let e=t.$implicit,i=t.$index,o=f();Se("perspective","1500px"),ce("animate-float",i%2===0)("animate-float-delayed",i%2!==0),c(),w("appThreeDTilt",30),c(24),w("src",e.randomImage||o.getMissionImage(e),H)("alt",e.name),c(3),y(" ",e.category||"OPERATION"," "),c(5),y(" ",e.name," "),c(6),de("",e.crew_count,"/",e.max_crew||5," "),c(5),v(e.status),c(2),y(" ",e.description||"Access restricted. Complete priority objectives to sync data."," "),c(),_(e.status.toUpperCase()==="COMPLETED"?47:e.chief_id===o._passport.userId()||e.is_member?48:49)}}function Ti(n,t){n&1&&(r(0,"div",31)(1,"span",105),s(2,"explore_off"),a(),r(3,"p",106),s(4," No active missions available. "),a()())}var ut=class n{_router=m(W);_passport=m(j);_missionService=m(oe);missions=A([]);summary=A(void 0);constructor(){if(!this._passport.data()){this._router.navigate(["/login"]);return}this.loadData()}async loadData(){try{let[t,e]=await Promise.all([this._missionService.getByFilter({}),this._missionService.getMissionSummary()]),i=t.map(o=>Pe(q({},o),{randomImage:`/assets/card/card-img-0${Math.floor(Math.random()*4)+1}.jpg`}));this.missions.set(i),this.summary.set(e)}catch(t){console.error("Error loading data:",t)}}async joinMission(t){try{await this._missionService.joinMission(t),this._router.navigate(["/missions",t])}catch(e){console.error("Error joining mission:",e)}}getStackedCardImage(t){let e=["/assets/card/card-img-01.jpg","/assets/card/card-img-02.jpg","/assets/card/card-img-03.jpg","/assets/card/card-img-04.jpg"];return e[t%e.length]}getMissionImage(t){return t.image_url||this.getStackedCardImage(0)}getRankTitle(t){return t>=50?"Challenger":t>=20?"Grandmaster":t>=10?"Master":t>=5?"Diamond":"Platinum"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-home"]],decls:107,vars:13,consts:[[1,"home-page","text-slate-900","dark:text-slate-100","min-h-screen","transition-colors","duration-300","pt-24","tech-grid-bg"],[1,"max-w-7xl","mx-auto","px-6","py-8","space-y-20"],[1,"relative","overflow-hidden","rounded-3xl","glass-panel","border","border-purple-500/20","shadow-2xl","animate-float"],[1,"absolute","inset-0","opacity-20","bg-[url('https://images.unsplash.com/photo-1614728263952-84ea206f99b6?auto=format&fit=crop&q=80&w=2000')]","bg-cover","bg-center"],[1,"absolute","inset-0","bg-gradient-to-r","from-background-dark","via-background-dark/80","to-transparent"],[1,"relative","grid","md:grid-cols-2","gap-12","p-12","items-center"],[1,"space-y-6"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","bg-primary/10","border","border-primary/30","text-primary","text-[10px]","uppercase","font-bold","tracking-widest"],[1,"font-display","text-5xl","md:text-6xl","font-black","text-white","leading-tight"],[1,"text-slate-400","max-w-lg","leading-relaxed"],[1,"flex","flex-wrap","gap-4","pt-4"],["routerLink","/missions",1,"bg-primary","hover:bg-primary/90","text-white","px-8","py-4","rounded-lg","font-bold","uppercase","tracking-widest","text-sm","transition-all","transform","hover:scale-105","shadow-lg","shadow-primary/20","glow-primary"],["routerLink","/joined-missions",1,"bg-white/10","hover:bg-white/20","text-white","border","border-white/20","px-8","py-4","rounded-lg","font-bold","uppercase","tracking-widest","text-sm","transition-all","backdrop-blur-sm"],[1,"hidden","md:flex","gap-6","justify-end","pt-10"],[1,"relative","w-64","aspect-[3/4]","ornate-border","rounded-xl","overflow-hidden","card-glare-effect","holographic-foil","shadow-xl","glow-primary","transform-3d","animate-float",3,"appThreeDTilt"],[1,"w-64","aspect-[3/4]"],["src","/assets/card/card-img-01.jpg",1,"w-full","h-full","object-cover"],[1,"mission-card-gradient","flex","flex-col","justify-end","p-6","transform-3d"],[1,"font-display","text-white","text-xl","font-black","translate-z-50","neon-text-purple"],[1,"text-[10px]","text-primary","font-bold","translate-z-100","uppercase","tracking-widest"],[1,"relative","w-64","aspect-[3/4]","ornate-border","rounded-xl","overflow-hidden","card-glare-effect","holographic-foil","shadow-2xl","glow-primary","transform-3d","animate-float-delayed",3,"appThreeDTilt"],["src","/assets/card/card-img-02.jpg",1,"w-full","h-full","object-cover"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-12"],[1,"lg:col-span-2","space-y-8"],[1,"font-display","text-xs","font-bold","text-primary","tracking-[0.3em]","uppercase","border-b","border-primary/20","pb-2"],[1,"lg:col-span-10","space-y-8"],[1,"flex","items-center","justify-between"],[1,"font-display","text-2xl","font-bold","tracking-widest","text-slate-100","uppercase"],[1,"h-px","flex-1","mx-8","bg-purple-900/30"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8","justify-items-center","place-content-center","px-4","w-full"],[1,"mission-card-unit","relative","w-[320px]","h-[460px]",3,"perspective","animate-float","animate-float-delayed"],[1,"col-span-full","py-20","text-center","border-2","border-dashed","border-white/5","rounded-3xl","w-full"],[1,"space-y-12"],[1,"font-display","text-xs","font-bold","text-primary","tracking-[0.3em]","uppercase"],[1,"relative","glass-panel","rounded-3xl","p-12","border","border-white/5","overflow-hidden","shadow-2xl","card-glare-effect","animate-float",3,"appThreeDTilt"],[1,"relative","grid","lg:grid-cols-2","gap-16","items-center"],[1,"space-y-8"],[1,"font-display","text-4xl","font-black","text-white","leading-tight","uppercase"],[1,"text-slate-400","text-sm","leading-relaxed","max-w-md"],[1,"grid","grid-cols-2","gap-4","sm:gap-6"],[1,"p-4","sm:p-6","bg-background-dark/50","rounded-xl","border","border-white/5","hover:border-primary/30","transition-colors","group"],[1,"text-[9px]","text-slate-500","uppercase","font-bold","tracking-widest","mb-2","group-hover:text-primary","transition-colors"],[1,"text-2xl","sm:text-3xl","font-display","text-white","group-hover:text-primary","transition-colors"],[1,"p-4","sm:p-6","bg-background-dark/50","rounded-xl","border","border-white/5","hover:border-blue-500/30","transition-colors","group"],[1,"text-[9px]","text-slate-500","uppercase","font-bold","tracking-widest","mb-2","group-hover:text-blue-400","transition-colors"],[1,"text-2xl","sm:text-3xl","font-display","text-white","group-hover:text-blue-400","transition-colors"],[1,"p-4","sm:p-6","bg-background-dark/50","rounded-xl","border","border-white/5","hover:border-emerald-500/30","transition-colors","group"],[1,"text-[9px]","text-slate-500","uppercase","font-bold","tracking-widest","mb-2","group-hover:text-emerald-400","transition-colors"],[1,"text-2xl","sm:text-3xl","font-display","text-white","group-hover:text-emerald-400","transition-colors"],[1,"p-4","sm:p-6","bg-background-dark/50","rounded-xl","border","border-white/5","hover:border-rose-500/30","transition-colors","group"],[1,"text-[9px]","text-slate-500","uppercase","font-bold","tracking-widest","mb-2","group-hover:text-rose-400","transition-colors"],[1,"text-2xl","sm:text-3xl","font-display","text-white","group-hover:text-rose-400","transition-colors"],[1,"bg-background-dark/60","backdrop-blur-sm","p-6","md:p-8","rounded-2xl","border","border-white/10","shadow-2xl","card-glare-effect",3,"appThreeDTilt"],[1,"flex","flex-wrap","sm:flex-nowrap","items-center","justify-between","border-b","border-white/5","pb-4","gap-4"],[1,"flex","items-center","gap-4","min-w-0"],[1,"w-14","h-14","rounded-full","border-2","border-primary","p-1","overflow-hidden","shadow-lg","shadow-primary/20","flex-shrink-0"],[1,"w-full","h-full","rounded-full","object-cover",3,"src"],[1,"min-w-0"],[1,"font-display","text-base","text-white","font-bold","truncate"],[1,"text-[10px]","text-slate-500","uppercase","tracking-widest","truncate"],[1,"px-3","py-1","bg-white/5","rounded","text-[10px]","font-bold","text-primary","border","border-white/5","flex-shrink-0","ml-auto","sm:ml-0"],["routerLink","/missions",1,"w-full","bg-primary","hover:bg-primary/90","text-white","py-4","rounded-xl","font-bold","text-xs","uppercase","tracking-widest","shadow-lg","shadow-primary/20","transition-all"],[1,"glass-panel","border-t","border-purple-900/20","py-16","mt-20"],[1,"max-w-7xl","mx-auto","px-6","text-center","space-y-6"],[1,"flex","items-center","justify-center","gap-2"],[1,"material-symbols-outlined","text-primary","text-3xl"],[1,"font-display","font-black","text-2xl","tracking-[0.5em]","text-primary"],[1,"text-xs","text-slate-500","uppercase","tracking-[0.2em]","max-w-md","mx-auto","leading-relaxed"],[1,"text-[9px]","text-slate-600","uppercase","tracking-widest","pt-8"],[1,"mission-card-unit","relative","w-[320px]","h-[460px]"],[1,"tilt-wrapper","card-glare-effect",3,"appThreeDTilt"],[1,"mission-card-flip"],[1,"card-front","astra-card"],[1,"astra-frame"],[1,"astra-inner","tech-corners"],[1,"astra-lock"],[1,"material-symbols-outlined"],[1,"neon-text-purple","tracking-[0.4em]"],[1,"text-[10px]","opacity-50","tracking-[0.2em]","uppercase"],[1,"claim-btn"],[1,"card-back-decoration"],[1,"scan-line"],[1,"card-back"],[1,"relative","w-full","h-full","bg-[#140c2e]","flex","flex-col","p-4","shadow-inner"],[1,"absolute","inset-2","border-2","border-[#6b4eff]/30","rounded-xl","pointer-events-none"],[1,"absolute","top-0","left-0","w-8","h-8","border-t-4","border-l-4","border-primary/60","rounded-tl-2xl"],[1,"absolute","bottom-0","right-0","w-8","h-8","border-b-4","border-r-4","border-primary/60","rounded-br-2xl"],[1,"relative","h-3/5","rounded-lg","overflow-hidden","border","border-white/10","group-hover:border-primary/40","transition-colors","holographic-sheen"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"absolute","inset-0","bg-gradient-to-t","from-[#140c2e]","via-transparent","to-transparent"],[1,"absolute","top-2","left-2","px-2","py-0.5","bg-primary/20","backdrop-blur-md","rounded","border","border-primary/30","text-[8px]","font-bold","text-primary","uppercase"],[1,"flex-1","flex","flex-col","items-center","justify-center","text-center","px-2","py-4","gap-1"],[1,"text-[8px]","text-primary","font-bold","tracking-[0.3em]","uppercase","opacity-60"],[1,"font-display","text-white","text-lg","font-black","tracking-widest","uppercase","leading-tight","translate-z-40"],[1,"data-stats","translate-z-20"],[1,"stat-item"],[1,"material-symbols-outlined","!text-[12px]"],[1,"val"],[1,"mt-2","text-[9px]","text-slate-400","font-medium","leading-relaxed","line-clamp-2","px-4","translate-z-20"],[1,"mt-auto","w-4/5","py-3","bg-slate-800/50","border","border-white/10","text-slate-500","text-[10px]","font-black","uppercase","tracking-[0.2em]","rounded-lg","cursor-not-allowed"],[1,"mt-auto","w-4/5","py-3","bg-primary","hover:bg-primary/90","text-white","text-[10px]","font-black","uppercase","tracking-[0.2em]","rounded-lg","shadow-[0_5px_15px_rgba(124,58,237,0.3)]","transition-all","transform","active:scale-95","translate-z-60"],[1,"mt-auto","w-4/5","py-3","bg-[#65a30d]","hover:bg-[#84cc16]","text-white","text-[10px]","font-black","uppercase","tracking-[0.2em]","rounded-lg","shadow-[0_5px_15px_rgba(101,163,13,0.3)]","transition-all","transform","active:scale-95","translate-z-60"],[1,"mt-auto","w-4/5","py-3","bg-slate-800/50","border","border-white/10","text-slate-500","text-[10px]","font-black","uppercase","tracking-[0.2em]","rounded-lg","cursor-not-allowed",3,"click"],[1,"mt-auto","w-4/5","py-3","bg-primary","hover:bg-primary/90","text-white","text-[10px]","font-black","uppercase","tracking-[0.2em]","rounded-lg","shadow-[0_5px_15px_rgba(124,58,237,0.3)]","transition-all","transform","active:scale-95","translate-z-60",3,"click"],[1,"mt-auto","w-4/5","py-3","bg-[#65a30d]","hover:bg-[#84cc16]","text-white","text-[10px]","font-black","uppercase","tracking-[0.2em]","rounded-lg","shadow-[0_5px_15px_rgba(101,163,13,0.3)]","transition-all","transform","active:scale-95","translate-z-60",3,"click"],[1,"material-symbols-outlined","text-5xl","text-slate-700","mb-4"],[1,"text-slate-500","uppercase","tracking-widest"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"main",1)(2,"section",2),p(3,"div",3)(4,"div",4),r(5,"div",5)(6,"div",6)(7,"div",7),s(8," Season 1: Astra Begins "),a(),r(9,"h2",8),s(10," ASTRA:"),p(11,"br"),s(12,"MISSION CONTROL "),a(),r(13,"p",9),s(14," Coordinate missions with your crew, complete objectives, and earn rewards through Astra\u2019s unified mission control system. "),a(),r(15,"div",10)(16,"button",11),s(17," Browse Missions "),a(),r(18,"button",12),s(19," My Missions "),a()()(),r(20,"div",13)(21,"div",14)(22,"div",15),p(23,"img",16),a(),r(24,"div",17)(25,"h4",18),s(26," STRIKE OPERATIVE"),a(),r(27,"p",19),s(28," ELITE UNIT"),a()()(),r(29,"div",20)(30,"div",15),p(31,"img",21),a(),r(32,"div",17)(33,"h4",18),s(34,"SCOUT UNIT"),a(),r(35,"p",19),s(36,"RARE FIND"),a()()()()()(),r(37,"section",22)(38,"div",23)(39,"h3",24),s(40," Filters"),a()(),r(41,"div",25)(42,"div",26)(43,"h2",27),s(44," TOP 6 HOT MISSIONS "),a(),p(45,"div",28),a(),r(46,"div",29),L(47,Fi,50,16,"div",30,Pi,!1,Ti,5,0,"div",31),a()()(),r(50,"section",32)(51,"h2",33),s(52," User Status "),a(),r(53,"div",34)(54,"div",35)(55,"div",36)(56,"h2",37),s(57," Mission Control Status "),a(),r(58,"p",38),s(59," Track your mission progress, completed objectives, and crew activity across Astra. "),a(),r(60,"div",39)(61,"div",40)(62,"div",41),s(63," Created "),a(),r(64,"div",42),s(65),a()(),r(66,"div",43)(67,"div",44),s(68," Joined "),a(),r(69,"div",45),s(70),a()(),r(71,"div",46)(72,"div",47),s(73," Completed "),a(),r(74,"div",48),s(75),a()(),r(76,"div",49)(77,"div",50),s(78," Failed "),a(),r(79,"div",51),s(80),a()()()(),r(81,"div",52)(82,"div",6)(83,"div",53)(84,"div",54)(85,"div",55),p(86,"img",56),a(),r(87,"div",57)(88,"h5",58),s(89),a(),r(90,"p",59),s(91),a()()(),r(92,"div",60),s(93),a()(),r(94,"button",61),s(95," Launch New Mission "),a()()()()()()(),r(96,"footer",62)(97,"div",63)(98,"div",64)(99,"span",65),s(100,"auto_awesome"),a(),r(101,"h1",66),s(102,"ASTRA"),a()(),r(103,"p",67),s(104," A unified mission control platform for teams and crews. "),a(),r(105,"p",68),s(106," \xA9 2026 Astra Mission Control. "),a()()()()),e&2){let o,l,d,k,C,P,g;c(21),w("appThreeDTilt",20),c(8),w("appThreeDTilt",30),c(18),N(i.missions()),c(6),w("appThreeDTilt",15),c(12),y(" ",((o=i.summary())==null?null:o.created_count)||0," "),c(5),y(" ",((l=i.summary())==null?null:l.joined_count)||0," "),c(5),y(" ",((d=i.summary())==null?null:d.completed_count)||0," "),c(5),y(" ",((k=i.summary())==null?null:k.failed_count)||0," "),c(),w("appThreeDTilt",30),c(5),w("src",i._passport.avatar(),H),c(3),y(" ",((C=i._passport.data())==null?null:C.display_name)||"Operator"," "),c(2),y(" ",i.getRankTitle(((P=i.summary())==null?null:P.completed_count)||0)," "),c(2),y(" ",((g=i.summary())==null?null:g.completed_count)||0," MISSIONS ")}},dependencies:[re,ae,Fe],styles:['@charset "UTF-8";.home-page[_ngcontent-%COMP%]{background:#0f0714;background-image:radial-gradient(circle at 50% 50%,rgba(76,29,149,.15) 0%,transparent 50%),linear-gradient(0deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent);background-size:100% 100%,50px 50px,50px 50px;position:relative}.home-page[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000008,#00ff0003,#0000ff08);z-index:0;background-size:100% 3px,3px 100%;pointer-events:none}.mission-card-stacked[_ngcontent-%COMP%]{position:absolute;width:320px;height:460px;top:50%;left:50%;transform:translate(-50%,-50%);z-index:var(--z-index);cursor:pointer;perspective:1500px;transform-style:preserve-3d}.mission-card-unit[_ngcontent-%COMP%]{position:relative;cursor:pointer;transform-style:preserve-3d}.tilt-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;transform-style:preserve-3d}.mission-card-flip[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .8s cubic-bezier(.4,0,.2,1)}.card-front[_ngcontent-%COMP%], .card-back[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;backface-visibility:hidden!important;-webkit-backface-visibility:hidden!important;border-radius:18px;overflow:hidden}.card-front[_ngcontent-%COMP%]{transform:rotateY(0);z-index:2}.card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);z-index:1}.lock-icon[_ngcontent-%COMP%]{transition:all .3s ease}.mission-card-stacked[_ngcontent-%COMP%]:hover   .lock-icon[_ngcontent-%COMP%], .mission-card-unit[_ngcontent-%COMP%]:hover   .lock-icon[_ngcontent-%COMP%]{transform:scale(1.25);text-shadow:0 0 12px rgba(192,132,252,.9);color:#c084fc}.lock-circle[_ngcontent-%COMP%]{transition:all .3s ease}.mission-card-stacked[_ngcontent-%COMP%]:hover   .lock-circle[_ngcontent-%COMP%], .mission-card-unit[_ngcontent-%COMP%]:hover   .lock-circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseGlow .8s ease}@keyframes _ngcontent-%COMP%_pulseGlow{0%{box-shadow:0 0 #c084fc00}50%{box-shadow:0 0 30px #c084fcb3}to{box-shadow:0 0 #c084fc00}}.mission-card-stacked[_ngcontent-%COMP%]:hover, .mission-card-unit[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_unlockShake .35s ease,_ngcontent-%COMP%_astraPulse 1.5s infinite alternate}@keyframes _ngcontent-%COMP%_astraPulse{0%{filter:drop-shadow(0 0 10px rgba(124,58,237,.4))}to{filter:drop-shadow(0 0 25px rgba(124,58,237,.8))}}@keyframes _ngcontent-%COMP%_unlockShake{0%{transform:translate(0) rotate(0)}25%{transform:translate(0) rotate(1deg)}50%{transform:translate(0) rotate(-1deg)}75%{transform:translate(0) rotate(.5deg)}to{transform:translate(0) rotate(0)}}.mission-card-stacked[_ngcontent-%COMP%]:hover   .mission-card-flip[_ngcontent-%COMP%], .mission-card-unit[_ngcontent-%COMP%]:hover   .mission-card-flip[_ngcontent-%COMP%]{transform:rotateY(180deg)}.mission-card-flip[_ngcontent-%COMP%]{transition:transform .8s cubic-bezier(.4,0,.2,1);transform-style:preserve-3d}.card-locked[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:18px;overflow:hidden;background:radial-gradient(circle at center,#1b1033,#0b061a);display:flex;align-items:center;justify-content:center}.card-stars[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(white 1px,transparent 1px);background-size:40px 40px;opacity:.15;animation:_ngcontent-%COMP%_starsMove 20s linear infinite}@keyframes _ngcontent-%COMP%_starsMove{0%{transform:translateY(0)}to{transform:translateY(-200px)}}.card-frame[_ngcontent-%COMP%]{position:relative;width:85%;height:90%;border-radius:16px;border:2px solid #6b4eff;box-shadow:0 0 40px #7850ff4d;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:18px}.card-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:2px solid rgba(180,140,255,.4);display:flex;align-items:center;justify-content:center;font-size:34px;color:#c084fc;box-shadow:0 0 30px #a855f74d}.card-frame[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Cinzel;color:#c084fc;letter-spacing:4px}.card-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;letter-spacing:3px;color:#aaa}.claim-btn[_ngcontent-%COMP%]{margin-top:20px;background:#65a30d;color:#fff;padding:10px 22px;border-radius:8px;font-size:11px;letter-spacing:2px;transition:.25s}.claim-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 20px #84cc16}.astra-card[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:18px;background:radial-gradient(circle at center,#140c2e,#070312);display:flex;align-items:center;justify-content:center;overflow:hidden;backface-visibility:hidden}.astra-frame[_ngcontent-%COMP%]{position:relative;width:90%;height:92%;border-radius:18px;padding:2px;background:linear-gradient(120deg,#7c3aed,#22d3ee,#7c3aed);background-size:300% 300%;animation:_ngcontent-%COMP%_borderFlow 6s linear infinite}@keyframes _ngcontent-%COMP%_borderFlow{0%{background-position:0%}to{background-position:300%}}.astra-inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:16px;background:#0a0619f2;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;box-shadow:inset 0 0 40px #7c3aed59}.astra-inner[_ngcontent-%COMP%]:before, .astra-inner[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:8px;border-radius:14px;border:1px solid rgba(180,140,255,.2);pointer-events:none}.astra-inner[_ngcontent-%COMP%]:before, .astra-inner[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;border:2px solid rgba(124,58,237,.6);pointer-events:none;z-index:2}.astra-inner[_ngcontent-%COMP%]:before{top:10px;left:10px;border-right:none;border-bottom:none}.astra-inner[_ngcontent-%COMP%]:after{bottom:10px;right:10px;border-left:none;border-top:none}.tech-corners[_ngcontent-%COMP%]:before, .tech-corners[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;border:2px solid rgba(124,58,237,.6);pointer-events:none;z-index:2}.tech-corners[_ngcontent-%COMP%]:before{top:10px;right:10px;border-left:none;border-bottom:none}.tech-corners[_ngcontent-%COMP%]:after{bottom:10px;left:10px;border-right:none;border-top:none}.astra-lock[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:50%;border:2px solid rgba(124,58,237,.5);display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,rgba(124,58,237,.2) 0%,transparent 70%);box-shadow:0 0 20px #7c3aed4d,inset 0 0 15px #7c3aed4d;position:relative;z-index:1}.astra-lock[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:38px;color:#c084fc;filter:drop-shadow(0 0 8px #c084fc)}.astra-lock[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-10px;border:1px dashed rgba(124,58,237,.4);border-radius:50%;animation:_ngcontent-%COMP%_rotateOrbit 10s linear infinite}@keyframes _ngcontent-%COMP%_rotateOrbit{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.card-back-decoration[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:5}.card-back-decoration[_ngcontent-%COMP%]   .scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,rgba(124,58,237,.8),transparent);animation:_ngcontent-%COMP%_scanVertical 3s linear infinite;opacity:.5}@keyframes _ngcontent-%COMP%_scanVertical{0%{top:0}to{top:100%}}.data-stats[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px}.data-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);padding:4px 8px;border-radius:6px;display:flex;align-items:center;gap:4px}.data-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:#888}.data-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{font-size:10px;font-weight:700;color:#fff}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 20px #a855f766}50%{box-shadow:0 0 40px #a855f7e6}}.astra-inner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#c084fc;letter-spacing:4px;font-family:Cinzel}.astra-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;letter-spacing:3px;color:#aaa}.claim-btn[_ngcontent-%COMP%]{margin-top:14px;background:#65a30d;padding:9px 20px;border-radius:8px;font-size:11px;letter-spacing:2px;transition:.25s}.claim-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 18px #84cc16}.ornate-border[_ngcontent-%COMP%]{position:relative;border:2px solid rgba(168,85,247,.4);box-shadow:0 0 20px #a855f733}.mission-card-gradient[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,rgba(20,12,46,.95) 0%,rgba(20,12,46,.4) 50%,transparent 100%)}.glow-primary[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(124,58,237,.4))}.float-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_floating 6s ease-in-out infinite}.float-alt-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_floating-alt 7s ease-in-out infinite}@keyframes _ngcontent-%COMP%_floating{0%,to{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-20px) rotate(1deg)}}@keyframes _ngcontent-%COMP%_floating-alt{0%,to{transform:translateY(0) rotate(2deg)}50%{transform:translateY(-15px) rotate(-1deg)}}.holographic-sheen[_ngcontent-%COMP%]{position:relative;overflow:hidden}.holographic-sheen[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(110deg,transparent 30%,rgba(255,255,255,.12) 45%,rgba(255,255,255,.25) 50%,rgba(255,255,255,.12) 55%,transparent 70%);background-size:200% 100%;animation:_ngcontent-%COMP%_holoMove 4s linear infinite;pointer-events:none;z-index:5}@keyframes _ngcontent-%COMP%_holoMove{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.animate-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.animate-float-delayed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 6s ease-in-out infinite;animation-delay:3s}']})};var Hn=(n,t)=>e=>{let i=e.value;return i?i.length<n||i.length>t?{invalidLength:!0}:/[a-z]/.test(i)?/[A-Z]/.test(i)?/[0-9]/.test(i)?/[!@#$%^&*(),.?:{}|<>]/.test(i)?null:{invalidSpecialChar:!0}:{invalidNumeric:!0}:{invalidUpperCase:!0}:{invalidLowerCase:!0}:{required:!0}},$t=(n,t)=>e=>{let i=e.get(n),o=e.get(t);return!i||!o||(i.value===o.value?o.setErrors(null):o.setErrors({mismatch:!0})),null};function zi(n,t){if(n&1&&(r(0,"p",42),s(1),a()),n&2){let e=f();c(),y(" ",e.errorMsg.username())}}function Ai(n,t){if(n&1&&(r(0,"p",42),s(1),a()),n&2){let e=f(2);c(),y(" ",e.errorMsg.displayname())}}function Ii(n,t){if(n&1){let e=D();r(0,"div")(1,"label",63),s(2,"Aka (Display Name)"),a(),r(3,"div",39)(4,"span",40),s(5,"badge"),a(),r(6,"input",64),M("input",function(){S(e);let o=f();return E(o.updateErrorMsg("display_name"))}),a()(),b(7,Ai,2,1,"p",42),a()}if(n&2){let e=f();c(7),_(e.form.controls.display_name!=null&&e.form.controls.display_name.invalid&&(e.form.controls.display_name!=null&&e.form.controls.display_name.touched)?7:-1)}}function Di(n,t){if(n&1&&(r(0,"p",42),s(1),a()),n&2){let e=f();c(),y(" ",e.errorMsg.password())}}function Ui(n,t){if(n&1&&(r(0,"p",42),s(1),a()),n&2){let e=f(2);c(),y(" ",e.errorMsg.cf_password())}}function Bi(n,t){if(n&1){let e=D();r(0,"div")(1,"label",65),s(2,"Confirm Password"),a(),r(3,"div",39)(4,"span",40),s(5,"verified_user"),a(),r(6,"input",66),M("input",function(){S(e);let o=f();return E(o.updateErrorMsg("cf_password"))}),a(),r(7,"button",45),M("click",function(){S(e);let o=f();return E(o.showConfirmPassword.set(!o.showConfirmPassword()))}),r(8,"span",46),s(9),a()()(),b(10,Ui,2,1,"p",42),a()}if(n&2){let e=f();c(6),w("type",e.showConfirmPassword()?"text":"password"),c(3),y(" ",e.showConfirmPassword()?"visibility":"visibility_off"," "),c(),_(e.form.controls.cf_password!=null&&e.form.controls.cf_password.invalid&&(e.form.controls.cf_password!=null&&e.form.controls.cf_password.touched)?10:-1)}}function ji(n,t){if(n&1&&(r(0,"div",47)(1,"p",67),s(2),a()()),n&2){let e=f();c(2),v(e.errorMsg.server())}}var ht=class n{onMouseMove(t){let e=(t.clientX-window.innerWidth/2)*.01,i=(t.clientY-window.innerHeight/2)*.01,o=document.querySelector(".yokai-bg-pattern");o&&(o.style.transform=`translate(${e}px, ${i}px)`)}usernameMinLength=4;usernameMaxLength=10;passwordMinLength=8;passwordMaxLength=10;displaynameMinLength=3;mode="login";form;errorMsg={username:A(""),password:A(""),cf_password:A(""),displayname:A(""),server:A("")};showPassword=A(!1);showConfirmPassword=A(!1);_router=m(W);_passport=m(j);constructor(){this._passport.data()&&this._router.navigate(["/"]),this.form=new Tn({username:new Ve(null,[he.required,he.minLength(this.usernameMinLength),he.maxLength(this.usernameMaxLength)]),password:new Ve(null,[he.required,Hn(this.passwordMinLength,this.passwordMaxLength)])})}toggleMode(){this.mode=this.mode==="login"?"register":"login",this.updateForm()}updateForm(){this.mode==="login"?(this.form.removeControl("cf_password"),this.form.removeValidators($t("password","cf_password")),this.form.removeControl("display_name")):(this.form.addControl("cf_password",new Ve(null,[he.required])),this.form.addValidators($t("password","cf_password")),this.form.addControl("display_name",new Ve(null,[he.required,he.minLength(this.displaynameMinLength)])))}updateErrorMsg(t){let e=this.form.controls[t];if(!e)return null;switch(t){case"username":e.hasError("required")?this.errorMsg.username.set("required"):e.hasError("minlength")?this.errorMsg.username.set(`must be at least ${this.usernameMinLength} characters long`):e.hasError("maxlength")?this.errorMsg.username.set(`must be  ${this.usernameMaxLength} characters or fewer`):this.errorMsg.username.set("");break;case"password":e.hasError("required")?this.errorMsg.password.set("required"):e.hasError("invalidLength")?this.errorMsg.password.set(`must be ${this.passwordMinLength} - ${this.passwordMaxLength} characters long`):e.hasError("invalidLowerCase")?this.errorMsg.password.set("must contain minimum of 1 lower-case letter [a-z]"):e.hasError("invalidUpperCase")?this.errorMsg.password.set("must contain minimum of 1 upper-case letter [A-Z]"):e.hasError("invalidNumeric")?this.errorMsg.password.set("must contain minimum of 1 numeric [0-9]"):e.hasError("invalidSpecialChar")?this.errorMsg.password.set("must contain minimum of 1 special character [!@#$%^&*(),.?:{}|<>]"):this.errorMsg.password.set("");break;case"cf_password":e.hasError("required")?this.errorMsg.cf_password.set("required"):e.hasError("mismatch")?this.errorMsg.cf_password.set("do not match password"):this.errorMsg.cf_password.set("");break;case"display_name":e.hasError("required")?this.errorMsg.displayname.set("required"):e.hasError("minlength")?this.errorMsg.displayname.set(`must be at least ${this.displaynameMinLength} characters long`):this.errorMsg.displayname.set("");break}}async onSubmit(){this.errorMsg.server.set("");let t=null;this.mode==="login"?t=await this._passport.get(this.form.value):t=await this._passport.register(this.form.value),t?this.errorMsg.server.set(t):this._router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-login"]],hostBindings:function(e,i){e&1&&M("mousemove",function(l){return i.onMouseMove(l)})},decls:93,vars:15,consts:[[1,"login-page","text-gray-100","font-sans","selection:bg-primary/30","min-h-screen","flex","flex-col","items-center","justify-center","p-6","bg-[#110724]","overflow-hidden","relative"],[1,"grid-pattern"],[1,"scanning-line"],[1,"stars-container"],[1,"stars"],[1,"stars2"],[1,"nebula-container"],[1,"nebula-1"],[1,"nebula-2"],[1,"light-beam"],[1,"yokai-bg-pattern"],[1,"particle","w-1","h-1",2,"left","10%","top","80%","animation-delay","0s"],[1,"particle","w-2","h-2",2,"left","25%","top","90%","animation-delay","5s"],[1,"particle","w-1","h-1",2,"left","60%","top","75%","animation-delay","2s"],[1,"particle","w-1.5","h-1.5",2,"left","85%","top","85%","animation-delay","8s"],[1,"material-symbols-outlined","floating-icon","text-5xl","top-20","left-[10%]","opacity-20","animate-bobbing",2,"animation-delay","-1s"],[1,"material-symbols-outlined","floating-icon","text-4xl","bottom-40","left-[15%]","opacity-10","animate-bobbing",2,"animation-delay","-3s"],[1,"material-symbols-outlined","floating-icon","text-6xl","top-40","right-[12%]","opacity-15","animate-bobbing",2,"animation-delay","-2s"],[1,"material-symbols-outlined","floating-icon","text-3xl","bottom-20","right-[20%]","opacity-20","animate-bobbing",2,"animation-delay","-4s"],[1,"flex","flex-col","items-center","mb-6","animate-bobbing"],[1,"relative","w-20","h-20","mb-4","flex","items-center","justify-center"],[1,"absolute","inset-0","border-2","border-dashed","border-primary/30","rounded-full","rotate-slow"],[1,"absolute","inset-1","border","border-primary/20","rounded-full"],[1,"relative","w-16","h-16","flex","items-center","justify-center","bg-primary/20","border","border-primary/40","rounded-xl","hover:scale-110","transition","duration-300","shadow-[0_0_20px_rgba(234,179,8,0.3)]"],[1,"material-symbols-outlined","text-primary","text-3xl"],[1,"font-display","text-4xl","font-bold","tracking-[0.3em]","text-primary","drop-shadow-[0_0_15px_rgba(234,179,8,0.5)]"],[1,"w-full","max-w-md","relative","mt-4","animate-soft-float"],[1,"absolute","-top-2","-left-2","w-10","h-10","border-t-2","border-l-2","border-border-gold/50","rounded-tl-3xl","z-20"],[1,"absolute","-top-2","-right-2","w-10","h-10","border-t-2","border-r-2","border-border-gold/50","rounded-tr-3xl","z-20"],[1,"absolute","-bottom-2","-left-2","w-10","h-10","border-b-2","border-l-2","border-border-gold/50","rounded-bl-3xl","z-20"],[1,"absolute","-bottom-2","-right-2","w-10","h-10","border-b-2","border-r-2","border-border-gold/50","rounded-br-3xl","z-20"],[1,"ambient-glow"],[1,"bg-surface-dark","border","border-white/10","p-10","rounded-[2.5rem]","shadow-[0_30px_60px_rgba(0,0,0,0.6)]","relative","z-10","overflow-hidden"],[1,"absolute","top-0","left-0","w-full","h-[1px]","bg-gradient-to-r","from-transparent","via-white/20","to-transparent"],[1,"text-center","mb-10"],[1,"font-display","text-2xl","text-white","mb-2","tracking-widest"],[1,"text-gray-400","text-sm","italic","font-medium"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","username",1,"block","text-xs","font-semibold","uppercase","tracking-wider","text-border-gold","mb-2","ml-1"],[1,"relative"],[1,"material-icons-outlined","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-500","text-sm"],["formControlName","username","id","username","placeholder","NAME1234","type","text",1,"w-full","bg-black/30","border","border-white/10","rounded","px-10","py-3","text-white","placeholder-gray-600","focus:outline-none","focus:border-primary","transition-colors","text-sm",3,"input"],[1,"text-[10px]","text-red-400","mt-1","ml-1","uppercase","font-bold","tracking-widest"],["for","password",1,"block","text-xs","font-semibold","uppercase","tracking-wider","text-border-gold","mb-2","ml-1"],["formControlName","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-black/30","border","border-white/10","rounded","px-10","py-3","text-white","placeholder-gray-600","focus:outline-none","focus:border-primary","transition-colors","text-sm",3,"input","type"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-500","hover:text-primary","transition-colors","focus:outline-none",3,"click"],[1,"material-symbols-outlined","text-sm"],[1,"bg-red-500/10","border","border-red-500/50","p-3","rounded","text-center"],[1,"pt-4"],["type","submit",1,"w-full","group","relative","overflow-hidden","bg-primary","text-black","font-display","font-black","py-4","rounded","transition-all","hover:scale-[1.02]","active:scale-95","shadow-lg","shadow-primary/20","disabled:opacity-50","disabled:cursor-not-allowed","disabled:hover:scale-100",3,"disabled"],[1,"relative","z-10","tracking-[0.2em]","text-lg","uppercase"],[1,"absolute","inset-0","bg-white/20","translate-y-full","group-hover:translate-y-0","transition-transform","duration-300"],[1,"mt-8","flex","items-center","justify-between"],[1,"h-[1px]","bg-white/10","flex-grow"],[1,"px-4","text-[10px]","text-gray-500","uppercase","tracking-widest","font-bold"],[1,"mt-6"],[1,"w-full","border","border-accent-purple/50","text-accent-purple","py-3","rounded","text-sm","font-semibold","hover:bg-accent-purple/10","transition-all","uppercase","tracking-widest","flex","items-center","justify-center","gap-2",3,"click"],[1,"material-icons-outlined","text-sm"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","w-[120%]","h-[120%]","bg-accent-purple/10","blur-[100px]","-z-10","rounded-full","pointer-events-none"],[1,"mt-12","flex","flex-wrap","justify-center","gap-8","text-[10px]","uppercase","tracking-[0.2em]","font-bold","text-gray-500"],["href","#",1,"hover:text-primary","transition-colors"],[1,"text-green-500"],["routerLink","/about-us",1,"hover:text-primary","transition-colors"],["for","display_name",1,"block","text-xs","font-semibold","uppercase","tracking-wider","text-border-gold","mb-2","ml-1"],["formControlName","display_name","id","display_name","placeholder","Legendary Samurai","type","text",1,"w-full","bg-black/30","border","border-white/10","rounded","px-10","py-3","text-white","placeholder-gray-600","focus:outline-none","focus:border-primary","transition-colors","text-sm",3,"input"],["for","cf_password",1,"block","text-xs","font-semibold","uppercase","tracking-wider","text-border-gold","mb-2","ml-1"],["formControlName","cf_password","id","cf_password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","bg-black/30","border","border-white/10","rounded","px-10","py-3","text-white","placeholder-gray-600","focus:outline-none","focus:border-primary","transition-colors","text-sm",3,"input","type"],[1,"text-[10px]","text-red-400","uppercase","font-bold","tracking-widest"]],template:function(e,i){e&1&&(r(0,"div",0),p(1,"div",1)(2,"div",2),r(3,"div",3),p(4,"div",4)(5,"div",5),a(),r(6,"div",6),p(7,"div",7)(8,"div",8),a(),p(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14),r(15,"span",15),s(16,"swords"),a(),r(17,"span",16),s(18,"shield"),a(),r(19,"span",17),s(20,"star"),a(),r(21,"span",18),s(22,"local_fire_department"),a(),r(23,"div",19)(24,"div",20),p(25,"div",21)(26,"div",22),r(27,"div",23)(28,"span",24),s(29,"auto_awesome"),a()()(),r(30,"h1",25),s(31," ASTRA "),a()(),r(32,"div",26),p(33,"div",27)(34,"div",28)(35,"div",29)(36,"div",30)(37,"div",31),r(38,"div",32),p(39,"div",33),r(40,"div",34)(41,"h2",35),s(42),a(),r(43,"p",36),s(44),a()(),r(45,"form",37),M("ngSubmit",function(){return i.onSubmit()}),r(46,"div")(47,"label",38),s(48,"Username"),a(),r(49,"div",39)(50,"span",40),s(51,"person"),a(),r(52,"input",41),M("input",function(){return i.updateErrorMsg("username")}),a()(),b(53,zi,2,1,"p",42),a(),b(54,Ii,8,1,"div"),r(55,"div")(56,"label",43),s(57,"Password"),a(),r(58,"div",39)(59,"span",40),s(60,"lock"),a(),r(61,"input",44),M("input",function(){return i.updateErrorMsg("password")}),a(),r(62,"button",45),M("click",function(){return i.showPassword.set(!i.showPassword())}),r(63,"span",46),s(64),a()()(),b(65,Di,2,1,"p",42),a(),b(66,Bi,11,3,"div"),b(67,ji,3,1,"div",47),r(68,"div",48)(69,"button",49)(70,"span",50),s(71),a(),p(72,"div",51),a()()(),r(73,"div",52),p(74,"div",53),r(75,"span",54),s(76),a(),p(77,"div",53),a(),r(78,"div",55)(79,"button",56),M("click",function(){return i.toggleMode()}),r(80,"span",57),s(81),a(),s(82),a()()(),p(83,"div",58),a(),r(84,"div",59)(85,"a",60),s(86,"Server Status: "),r(87,"span",61),s(88,"ONLINE"),a()(),r(89,"a",60),s(90,"Project Version 2.0.4"),a(),r(91,"a",62),s(92,"About"),a()()()),e&2&&(c(42),y(" ",i.mode==="login"?"INITIALIZE ACCESS":"CREATE OPERATOR"," "),c(2),y(' "',i.mode==="login"?"Authenticate to continue.":"Register a new brawler to enter Astra.",'" '),c(),w("formGroup",i.form),c(8),_(i.form.controls.username.invalid&&i.form.controls.username.touched?53:-1),c(),_(i.mode!=="login"?54:-1),c(7),w("type",i.showPassword()?"text":"password"),c(3),y(" ",i.showPassword()?"visibility":"visibility_off"," "),c(),_(i.form.controls.password.invalid&&i.form.controls.password.touched?65:-1),c(),_(i.mode!=="login"?66:-1),c(),_(i.errorMsg.server()!==""?67:-1),c(2),w("disabled",!i.form.valid),c(2),y(" ",i.mode==="login"?"ENTER ASTRA":"CREATE ACCOUNT"," "),c(5),y(" ",i.mode==="login"?"New Brawler?":"Already Registered?"," "),c(5),y(" ",i.mode==="login"?"person_add":"login"," "),c(),y(" ",i.mode==="login"?"Create Account":"Sign In"," "))},dependencies:[Ae,zn,Te,ze,Fn,jn,Dn,In,En,ae,re],styles:[`@font-face{font-family:Material Icons Outlined;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialiconsoutlined/v110/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUce.woff2) format("woff2")}.material-icons-outlined[_ngcontent-%COMP%]{font-family:Material Icons Outlined;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.login-page[_ngcontent-%COMP%]{background:radial-gradient(circle at 20% 30%,rgba(124,58,237,.12) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(168,85,247,.08) 0%,transparent 50%),radial-gradient(circle at center,#1e0f35,#0d051a);overflow:hidden;position:relative;z-index:0}.login-page[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");opacity:.04;mix-blend-mode:overlay;pointer-events:none;z-index:5}.login-page[_ngcontent-%COMP%]   .nebula-container[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-2;filter:blur(120px);opacity:.3;pointer-events:none}.login-page[_ngcontent-%COMP%]   .nebula-1[_ngcontent-%COMP%]{position:absolute;top:-10%;left:-10%;width:70%;height:70%;background:radial-gradient(circle,rgba(124,58,237,.25),transparent 70%);animation:_ngcontent-%COMP%_nebula-float 25s infinite alternate}.login-page[_ngcontent-%COMP%]   .nebula-2[_ngcontent-%COMP%]{position:absolute;bottom:-10%;right:-10%;width:70%;height:70%;background:radial-gradient(circle,rgba(234,179,8,.12),transparent 70%);animation:_ngcontent-%COMP%_nebula-float 30s infinite alternate-reverse}@keyframes _ngcontent-%COMP%_nebula-float{0%{transform:translate(-5%,-5%) scale(1)}to{transform:translate(5%,5%) scale(1.1)}}.login-page[_ngcontent-%COMP%]   .light-beam[_ngcontent-%COMP%]{position:absolute;top:-50%;left:50%;width:200%;height:200%;background:conic-gradient(from 180deg at 50% 50%,transparent 0deg,rgba(255,255,255,.015) 10deg,transparent 20deg);animation:_ngcontent-%COMP%_rotate-slow 80s linear infinite;z-index:-1;pointer-events:none;filter:blur(30px)}.login-page[_ngcontent-%COMP%]   .grid-pattern[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(168,85,247,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(168,85,247,.03) 1px,transparent 1px);background-size:50px 50px;z-index:-1;pointer-events:none}.login-page[_ngcontent-%COMP%]   .scanning-line[_ngcontent-%COMP%]{position:absolute;width:100%;height:100px;background:linear-gradient(to bottom,transparent,rgba(168,85,247,.03),transparent);animation:_ngcontent-%COMP%_scan 12s linear infinite;z-index:-1;pointer-events:none}@keyframes _ngcontent-%COMP%_scan{0%{top:-100px}to{top:100vh}}.login-page[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1;pointer-events:none}.login-page[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{width:1px;height:1px;background:transparent;box-shadow:54vw 22vh #fff,12vw 88vh #fff,95vw 45vh #fff,5vw 12vh #fff,34vw 67vh #fff,78vw 15vh #fff,45vw 92vh #fff,23vw 40vh #fff,67vw 55vh #fff,88vw 10vh #fff,15vw 75vh #fff,55vw 5vh #fff,90vw 90vh #fff,10vw 30vh #fff,60vw 80vh #fff,30vw 20vh #fff,80vw 60vh #fff,40vw 45vh #fff,20vw 85vh #fff,70vw 25vh #fff;animation:_ngcontent-%COMP%_twinkle 4s ease-in-out infinite}.login-page[_ngcontent-%COMP%]   .stars2[_ngcontent-%COMP%]{width:2px;height:2px;background:transparent;box-shadow:15vw 10vh #fffc,85vw 20vh #fffc,45vw 35vh #fffc,65vw 80vh #fffc,25vw 55vh #fffc,75vw 45vh #fffc,5vw 95vh #fffc,95vw 5vh #fffc,35vw 75vh #fffc,55vw 15vh #fffc;animation:_ngcontent-%COMP%_twinkle 6s ease-in-out infinite reverse}@keyframes _ngcontent-%COMP%_twinkle{0%,to{opacity:.3}50%{opacity:1}}.login-page[_ngcontent-%COMP%]   .yokai-bg-pattern[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.04;pointer-events:none;background-image:url(https://lh3.googleusercontent.com/aida-public/AB6AXuAvn4LKN9n_Z8Y4mwa8xQIy5Y9uYlUOWFU9eTAO_6oigrjERrek8nYGXCTurRJ13VEgyGfhOsF-V0m6G9qdL9MaOkNyiaPSemHGvsre207CLvVSIrxrjEmjpIdB-_bOTu_VycIZXALKjVwesXN7KXN2BPTu1YJ1Fymt8q4ztJAnuJUpfEzCkB16q1sAuWaxFFxZgd1Zbg87xrjMejlAqgl2pJzMBPJmFQYYavXW-2djJQj6cUsZ2KxtGQxIfE7vVMuBLBKO3ITufu0);z-index:-1;mix-blend-mode:soft-light;transition:transform .1s ease-out}.login-page[_ngcontent-%COMP%]   .glow-effect[_ngcontent-%COMP%]{box-shadow:0 0 20px #a855f733}.login-page[_ngcontent-%COMP%]   .border-ornate[_ngcontent-%COMP%]{border:2px solid transparent;border-image:linear-gradient(to bottom right,#b4934a,#5c4a25,#b4934a) 1}.login-page[_ngcontent-%COMP%]   .particle[_ngcontent-%COMP%]{position:absolute;background:#eab30866;border-radius:50%;pointer-events:none;animation:_ngcontent-%COMP%_float 20s infinite linear}@keyframes _ngcontent-%COMP%_bobbing{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}@keyframes _ngcontent-%COMP%_rotate-slow{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-page[_ngcontent-%COMP%]   .animate-bobbing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bobbing 5s ease-in-out infinite}.login-page[_ngcontent-%COMP%]   .floating-icon[_ngcontent-%COMP%]{position:absolute;color:#a855f740;z-index:1;pointer-events:none;filter:blur(.5px);-webkit-user-select:none;user-select:none}.login-page[_ngcontent-%COMP%]   .rotate-slow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-slow 25s linear infinite}@keyframes _ngcontent-%COMP%_float{0%{transform:translateY(0) translate(0);opacity:0}50%{opacity:.6}to{transform:translateY(-100vh) translate(50px);opacity:0}}.login-page[_ngcontent-%COMP%]   .font-display[_ngcontent-%COMP%]{font-family:Cinzel,serif}.login-page[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#eab308}.login-page[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#eab308}.login-page[_ngcontent-%COMP%]   .border-primary[_ngcontent-%COMP%]{border-color:#eab308}.login-page[_ngcontent-%COMP%]   .text-accent-purple[_ngcontent-%COMP%]{color:#a855f7}.login-page[_ngcontent-%COMP%]   .border-border-gold[_ngcontent-%COMP%]{border-color:#b4934a}.login-page[_ngcontent-%COMP%]   .bg-surface-dark[_ngcontent-%COMP%]{background-color:#2d1a47a6;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.login-page[_ngcontent-%COMP%]   .bg-background-dark[_ngcontent-%COMP%]{background-color:#1a0b2e}@keyframes _ngcontent-%COMP%_soft-float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(.5deg)}}.login-page[_ngcontent-%COMP%]   .animate-soft-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_soft-float 8s ease-in-out infinite}.login-page[_ngcontent-%COMP%]   .ambient-glow[_ngcontent-%COMP%]{position:absolute;inset:-20px;background:radial-gradient(circle at center,rgba(168,85,247,.15) 0%,transparent 70%);border-radius:24px;z-index:-1;filter:blur(20px)}`]})};var Gn=nn(qn(),1);var Wn={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Li={};for(let[n,t]of Object.entries(Wn))Li[t]=Number.parseInt(n,10);var bt;function Ni(){if(!(typeof globalThis.TextDecoder>"u"))return bt??(bt=new globalThis.TextDecoder("utf-8"))}var ye=32*1024;function Yn(n,t="utf-8"){switch(t.toLowerCase()){case"utf-8":case"utf8":{let e=Ni();return e?e.decode(n):Ri(n)}case"utf-16le":return Vi(n);case"us-ascii":case"ascii":return Hi(n);case"latin1":case"iso-8859-1":return $i(n);case"windows-1252":return qi(n);default:throw new RangeError(`Encoding '${t}' not supported`)}}function Ri(n){let t=[],e="",i=0;for(;i<n.length;){let o=n[i++];if(o<128)e+=String.fromCharCode(o);else if(o<224){let l=n[i++]&63;e+=String.fromCharCode((o&31)<<6|l)}else if(o<240){let l=n[i++]&63,d=n[i++]&63;e+=String.fromCharCode((o&15)<<12|l<<6|d)}else{let l=n[i++]&63,d=n[i++]&63,k=n[i++]&63,C=(o&7)<<18|l<<12|d<<6|k;C-=65536,e+=String.fromCharCode(55296+(C>>10&1023),56320+(C&1023))}e.length>=ye&&(t.push(e),e="")}return e&&t.push(e),t.join("")}function Vi(n){let t=n.length&-2;if(t===0)return"";let e=[],i=ye;for(let o=0;o<t;){let l=Math.min(i,t-o>>1),d=new Array(l);for(let k=0;k<l;k++,o+=2)d[k]=n[o]|n[o+1]<<8;e.push(String.fromCharCode.apply(null,d))}return e.join("")}function Hi(n){let t=[];for(let e=0;e<n.length;e+=ye){let i=Math.min(n.length,e+ye),o=new Array(i-e);for(let l=e,d=0;l<i;l++,d++)o[d]=n[l]&127;t.push(String.fromCharCode.apply(null,o))}return t.join("")}function $i(n){let t=[];for(let e=0;e<n.length;e+=ye){let i=Math.min(n.length,e+ye),o=new Array(i-e);for(let l=e,d=0;l<i;l++,d++)o[d]=n[l];t.push(String.fromCharCode.apply(null,o))}return t.join("")}function qi(n){let t=[],e="";for(let i=0;i<n.length;i++){let o=n[i],l=o>=128&&o<=159?Wn[o]:void 0;e+=l??String.fromCharCode(o),e.length>=ye&&(t.push(e),e="")}return e&&t.push(e),t.join("")}function G(n){return new DataView(n.buffer,n.byteOffset)}var Zn={len:1,get(n,t){return G(n).getUint8(t)},put(n,t,e){return G(n).setUint8(t,e),t+1}},I={len:2,get(n,t){return G(n).getUint16(t,!0)},put(n,t,e){return G(n).setUint16(t,e,!0),t+2}},ve={len:2,get(n,t){return G(n).getUint16(t)},put(n,t,e){return G(n).setUint16(t,e),t+2}};var B={len:4,get(n,t){return G(n).getUint32(t,!0)},put(n,t,e){return G(n).setUint32(t,e,!0),t+4}},Wt={len:4,get(n,t){return G(n).getUint32(t)},put(n,t,e){return G(n).setUint32(t,e),t+4}};var Jn={len:4,get(n,t){return G(n).getInt32(t)},put(n,t,e){return G(n).setInt32(t,e),t+4}};var Xn={len:8,get(n,t){return G(n).getBigUint64(t,!0)},put(n,t,e){return G(n).setBigUint64(t,e,!0),t+8}};var Z=class{constructor(t,e){this.len=t,this.encoding=e}get(t,e=0){let i=t.subarray(e,e+this.len);return Yn(i,this.encoding)}};var Yi="End-Of-Stream",z=class extends Error{constructor(){super(Yi),this.name="EndOfStreamError"}},we=class extends Error{constructor(t="The operation was aborted"){super(t),this.name="AbortError"}};var Ce=class{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(t,e=!1){let i=await this.read(t,e);return this.peekQueue.push(t.subarray(0,i)),i}async read(t,e=!1){if(t.length===0)return 0;let i=this.readFromPeekBuffer(t);if(this.endOfStream||(i+=await this.readRemainderFromStream(t.subarray(i),e)),i===0&&!e)throw new z;return i}readFromPeekBuffer(t){let e=t.length,i=0;for(;this.peekQueue.length>0&&e>0;){let o=this.peekQueue.pop();if(!o)throw new Error("peekData should be defined");let l=Math.min(o.length,e);t.set(o.subarray(0,l),i),i+=l,e-=l,l<o.length&&this.peekQueue.push(o.subarray(l))}return i}async readRemainderFromStream(t,e){let i=0;for(;i<t.length&&!this.endOfStream;){if(this.interrupted)throw new we;let o=await this.readFromStream(t.subarray(i),e);if(o===0)break;i+=o}if(!e&&i<t.length)throw new z;return i}};var _t=class extends Ce{constructor(t){super(),this.reader=t}async abort(){return this.close()}async close(){this.reader.releaseLock()}};var He=class extends _t{async readFromStream(t,e){if(t.length===0)return 0;let i=await this.reader.read(new Uint8Array(t.length),{min:e?void 0:t.length});return i.done&&(this.endOfStream=i.done),i.value?(t.set(i.value),i.value.length):0}};var Be=class extends Ce{constructor(t){super(),this.reader=t,this.buffer=null}writeChunk(t,e){let i=Math.min(e.length,t.length);return t.set(e.subarray(0,i)),i<e.length?this.buffer=e.subarray(i):this.buffer=null,i}async readFromStream(t,e){if(t.length===0)return 0;let i=0;for(this.buffer&&(i+=this.writeChunk(t,this.buffer));i<t.length&&!this.endOfStream;){let o=await this.reader.read();if(o.done){this.endOfStream=!0;break}o.value&&(i+=this.writeChunk(t.subarray(i),o.value))}if(!e&&i===0&&this.endOfStream)throw new z;return i}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}};function Yt(n){try{let t=n.getReader({mode:"byob"});return t instanceof ReadableStreamDefaultReader?new Be(t):new He(t)}catch(t){if(t instanceof TypeError)return new Be(n.getReader());throw t}}var xe=class{constructor(t){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=t?.onClose,t?.abortSignal&&t.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(t,e=this.position){let i=new Uint8Array(t.len);if(await this.readBuffer(i,{position:e})<t.len)throw new z;return t.get(i,0)}async peekToken(t,e=this.position){let i=new Uint8Array(t.len);if(await this.peekBuffer(i,{position:e})<t.len)throw new z;return t.get(i,0)}async readNumber(t){if(await this.readBuffer(this.numBuffer,{length:t.len})<t.len)throw new z;return t.get(this.numBuffer,0)}async peekNumber(t){if(await this.peekBuffer(this.numBuffer,{length:t.len})<t.len)throw new z;return t.get(this.numBuffer,0)}async ignore(t){if(this.fileInfo.size!==void 0){let e=this.fileInfo.size-this.position;if(t>e)return this.position+=e,e}return this.position+=t,t}async close(){await this.abort(),await this.onClose?.()}normalizeOptions(t,e){if(!this.supportsRandomAccess()&&e&&e.position!==void 0&&e.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return q({mayBeLess:!1,offset:0,length:t.length,position:this.position},e)}abort(){return Promise.resolve()}};var Zi=256e3,yt=class extends xe{constructor(t,e){super(e),this.streamReader=t,this.fileInfo=e?.fileInfo??{}}async readBuffer(t,e){let i=this.normalizeOptions(t,e),o=i.position-this.position;if(o>0)return await this.ignore(o),this.readBuffer(t,e);if(o<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(i.length===0)return 0;let l=await this.streamReader.read(t.subarray(0,i.length),i.mayBeLess);if(this.position+=l,(!e||!e.mayBeLess)&&l<i.length)throw new z;return l}async peekBuffer(t,e){let i=this.normalizeOptions(t,e),o=0;if(i.position){let l=i.position-this.position;if(l>0){let d=new Uint8Array(i.length+l);return o=await this.peekBuffer(d,{mayBeLess:i.mayBeLess}),t.set(d.subarray(l)),o-l}if(l<0)throw new Error("Cannot peek from a negative offset in a stream")}if(i.length>0){try{o=await this.streamReader.peek(t.subarray(0,i.length),i.mayBeLess)}catch(l){if(e?.mayBeLess&&l instanceof z)return 0;throw l}if(!i.mayBeLess&&o<i.length)throw new z}return o}async ignore(t){let e=Math.min(Zi,t),i=new Uint8Array(e),o=0;for(;o<t;){let l=t-o,d=await this.readBuffer(i,{length:Math.min(e,l)});if(d<0)return d;o+=d}return o}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}};var vt=class extends xe{constructor(t,e){super(e),this.uint8Array=t,this.fileInfo=Pe(q({},e?.fileInfo??{}),{size:t.length})}async readBuffer(t,e){e?.position&&(this.position=e.position);let i=await this.peekBuffer(t,e);return this.position+=i,i}async peekBuffer(t,e){let i=this.normalizeOptions(t,e),o=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&o<i.length)throw new z;return t.set(this.uint8Array.subarray(i.position,i.position+o)),o}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(t){this.position=t}};var wt=class extends xe{constructor(t,e){super(e),this.blob=t,this.fileInfo=Pe(q({},e?.fileInfo??{}),{size:t.size,mimeType:t.type})}async readBuffer(t,e){e?.position&&(this.position=e.position);let i=await this.peekBuffer(t,e);return this.position+=i,i}async peekBuffer(t,e){let i=this.normalizeOptions(t,e),o=Math.min(this.blob.size-i.position,i.length);if(!i.mayBeLess&&o<i.length)throw new z;let l=await this.blob.slice(i.position,i.position+o).arrayBuffer();return t.set(new Uint8Array(l)),o}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(t){this.position=t}};function Qn(n,t){let e=Yt(n),i=t??{},o=i.onClose;return i.onClose=async()=>{if(await e.close(),o)return o()},new yt(e,i)}function Kn(n,t){return new vt(n,t)}function ei(n,t){return new wt(n,t)}var ci=nn(ai(),1);var Me={LocalFileHeader:67324752,DataDescriptor:134695760,CentralFileHeader:33639248,EndOfCentralDirectory:101010256},Gt={get(n){return{signature:B.get(n,0),compressedSize:B.get(n,8),uncompressedSize:B.get(n,12)}},len:16},oi={get(n){let t=I.get(n,6);return{signature:B.get(n,0),minVersion:I.get(n,4),dataDescriptor:!!(t&8),compressedMethod:I.get(n,8),compressedSize:B.get(n,18),uncompressedSize:B.get(n,22),filenameLength:I.get(n,26),extraFieldLength:I.get(n,28),filename:null}},len:30},si={get(n){return{signature:B.get(n,0),nrOfThisDisk:I.get(n,4),nrOfThisDiskWithTheStart:I.get(n,6),nrOfEntriesOnThisDisk:I.get(n,8),nrOfEntriesOfSize:I.get(n,10),sizeOfCd:B.get(n,12),offsetOfStartOfCd:B.get(n,16),zipFileCommentLength:I.get(n,20)}},len:22},li={get(n){let t=I.get(n,8);return{signature:B.get(n,0),minVersion:I.get(n,6),dataDescriptor:!!(t&8),compressedMethod:I.get(n,10),compressedSize:B.get(n,20),uncompressedSize:B.get(n,24),filenameLength:I.get(n,28),extraFieldLength:I.get(n,30),fileCommentLength:I.get(n,32),relativeOffsetOfLocalHeader:B.get(n,42),filename:null}},len:46};function di(n){let t=new Uint8Array(B.len);return B.put(t,0,n),t}var se=(0,ci.default)("tokenizer:inflate"),Zt=256*1024,cr=di(Me.DataDescriptor),Mt=di(Me.EndOfCentralDirectory),$e=class n{constructor(t){this.tokenizer=t,this.syncBuffer=new Uint8Array(Zt)}async isZip(){return await this.peekSignature()===Me.LocalFileHeader}peekSignature(){return this.tokenizer.peekToken(B)}async findEndOfCentralDirectoryLocator(){let t=this.tokenizer,e=Math.min(16*1024,t.fileInfo.size),i=this.syncBuffer.subarray(0,e);await this.tokenizer.readBuffer(i,{position:t.fileInfo.size-e});for(let o=i.length-4;o>=0;o--)if(i[o]===Mt[0]&&i[o+1]===Mt[1]&&i[o+2]===Mt[2]&&i[o+3]===Mt[3])return t.fileInfo.size-e+o;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess()){se("Cannot reading central-directory without random-read support");return}se("Reading central-directory...");let t=this.tokenizer.position,e=await this.findEndOfCentralDirectoryLocator();if(e>0){se("Central-directory 32-bit signature found");let i=await this.tokenizer.readToken(si,e),o=[];this.tokenizer.setPosition(i.offsetOfStartOfCd);for(let l=0;l<i.nrOfEntriesOfSize;++l){let d=await this.tokenizer.readToken(li);if(d.signature!==Me.CentralFileHeader)throw new Error("Expected Central-File-Header signature");d.filename=await this.tokenizer.readToken(new Z(d.filenameLength,"utf-8")),await this.tokenizer.ignore(d.extraFieldLength),await this.tokenizer.ignore(d.fileCommentLength),o.push(d),se(`Add central-directory file-entry: n=${l+1}/${o.length}: filename=${o[l].filename}`)}return this.tokenizer.setPosition(t),o}this.tokenizer.setPosition(t)}async unzip(t){let e=await this.readCentralDirectory();if(e)return this.iterateOverCentralDirectory(e,t);let i=!1;do{let o=await this.readLocalFileHeader();if(!o)break;let l=t(o);i=!!l.stop;let d;if(await this.tokenizer.ignore(o.extraFieldLength),o.dataDescriptor&&o.compressedSize===0){let k=[],C=Zt;se("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let P=-1;for(;P<0&&C===Zt;){C=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),P=dr(this.syncBuffer.subarray(0,C),cr);let g=P>=0?P:C;if(l.handler){let h=new Uint8Array(g);await this.tokenizer.readBuffer(h),k.push(h)}else await this.tokenizer.ignore(g)}se(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),l.handler&&await this.inflate(o,mr(k),l.handler)}else l.handler?(se(`Reading compressed-file-data: ${o.compressedSize} bytes`),d=new Uint8Array(o.compressedSize),await this.tokenizer.readBuffer(d),await this.inflate(o,d,l.handler)):(se(`Ignoring compressed-file-data: ${o.compressedSize} bytes`),await this.tokenizer.ignore(o.compressedSize));if(se(`Reading data-descriptor at pos=${this.tokenizer.position}`),o.dataDescriptor&&(await this.tokenizer.readToken(Gt)).signature!==134695760)throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position-Gt.len}`)}while(!i)}async iterateOverCentralDirectory(t,e){for(let i of t){let o=e(i);if(o.handler){this.tokenizer.setPosition(i.relativeOffsetOfLocalHeader);let l=await this.readLocalFileHeader();if(l){await this.tokenizer.ignore(l.extraFieldLength);let d=new Uint8Array(i.compressedSize);await this.tokenizer.readBuffer(d),await this.inflate(l,d,o.handler)}}if(o.stop)break}}async inflate(t,e,i){if(t.compressedMethod===0)return i(e);if(t.compressedMethod!==8)throw new Error(`Unsupported ZIP compression method: ${t.compressedMethod}`);se(`Decompress filename=${t.filename}, compressed-size=${e.length}`);let o=await n.decompressDeflateRaw(e);return i(o)}static async decompressDeflateRaw(t){let e=new ReadableStream({start(l){l.enqueue(t),l.close()}}),i=new DecompressionStream("deflate-raw"),o=e.pipeThrough(i);try{let d=await new Response(o).arrayBuffer();return new Uint8Array(d)}catch(l){let d=l instanceof Error?`Failed to deflate ZIP entry: ${l.message}`:"Unknown decompression error in ZIP entry";throw new TypeError(d)}}async readLocalFileHeader(){let t=await this.tokenizer.peekToken(B);if(t===Me.LocalFileHeader){let e=await this.tokenizer.readToken(oi);return e.filename=await this.tokenizer.readToken(new Z(e.filenameLength,"utf-8")),e}if(t===Me.CentralFileHeader)return!1;throw t===3759263696?new Error("Encrypted ZIP"):new Error("Unexpected signature")}};function dr(n,t){let e=n.length,i=t.length;if(i>e)return-1;for(let o=0;o<=e-i;o++){let l=!0;for(let d=0;d<i;d++)if(n[o+d]!==t[d]){l=!1;break}if(l)return o}return-1}function mr(n){let t=n.reduce((o,l)=>o+l.length,0),e=new Uint8Array(t),i=0;for(let o of n)e.set(o,i),i+=o.length;return e}var qe=class{constructor(t){this.tokenizer=t}inflate(){let t=this.tokenizer;return new ReadableStream({async pull(e){let i=new Uint8Array(1024),o=await t.readBuffer(i,{mayBeLess:!0});if(o===0){e.close();return}e.enqueue(i.subarray(0,o))}}).pipeThrough(new DecompressionStream("gzip"))}};var os={utf8:new globalThis.TextDecoder("utf8")};var ss=new globalThis.TextEncoder;var ls=Array.from({length:256},(n,t)=>t.toString(16).padStart(2,"0"));function Jt(n){let{byteLength:t}=n;if(t===6)return n.getUint16(0)*2**32+n.getUint32(2);if(t===5)return n.getUint8(0)*2**32+n.getUint32(1);if(t===4)return n.getUint32(0);if(t===3)return n.getUint8(0)*2**16+n.getUint16(1);if(t===2)return n.getUint16(0);if(t===1)return n.getUint8(0)}function mi(n,t){if(t==="utf-16le"){let e=[];for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);e.push(o&255,o>>8&255)}return e}if(t==="utf-16be"){let e=[];for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);e.push(o>>8&255,o&255)}return e}return[...n].map(e=>e.charCodeAt(0))}function pi(n,t=0){let e=Number.parseInt(new Z(6).get(n,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(e))return!1;let i=256;for(let o=t;o<t+148;o++)i+=n[o];for(let o=t+156;o<t+512;o++)i+=n[o];return e===i}var fi={get:(n,t)=>n[t+3]&127|n[t+2]<<7|n[t+1]<<14|n[t]<<21,len:4};var gi=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","jmp","rm","sav","ppsm","ppsx","tar.gz","reg","dat"],xi=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia","application/x-spss-sav","application/x-ms-regedit","application/x-ft-windows-registry-hive","application/x-jmp-data"];var Xt=4100;async function ui(n,t){return new Kt(t).fromBlob(n)}function Qt(n){switch(n=n.toLowerCase(),n){case"application/epub+zip":return{ext:"epub",mime:n};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:n};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:n};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:n};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:n};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:n};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:n};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:n};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:n};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:n};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:n};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:n};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:n};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:n};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:n};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:n};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"};default:}}function le(n,t,e){e=q({offset:0},e);for(let[i,o]of t.entries())if(e.mask){if(o!==(e.mask[i]&n[i+e.offset]))return!1}else if(o!==n[i+e.offset])return!1;return!0}var Kt=class{constructor(t){this.options=q({mpegOffsetTolerance:0},t),this.detectors=[...t?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:t?.signal}}async fromTokenizer(t){let e=t.position;for(let i of this.detectors){let o=await i.detect(t);if(o)return o;if(e!==t.position)return}}async fromBuffer(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``);let e=t instanceof Uint8Array?t:new Uint8Array(t);if(e?.length>1)return this.fromTokenizer(Kn(e,this.tokenizerOptions))}async fromBlob(t){let e=ei(t,this.tokenizerOptions);try{return await this.fromTokenizer(e)}finally{await e.close()}}async fromStream(t){let e=Qn(t,this.tokenizerOptions);try{return await this.fromTokenizer(e)}finally{await e.close()}}async toDetectionStream(t,e){let{sampleSize:i=Xt}=e,o,l,d=t.getReader({mode:"byob"});try{let{value:P,done:g}=await d.read(new Uint8Array(i));if(l=P,!g&&P)try{o=await this.fromBuffer(P.subarray(0,i))}catch(h){if(!(h instanceof z))throw h;o=void 0}l=P}finally{d.releaseLock()}let k=new TransformStream({async start(P){P.enqueue(l)},transform(P,g){g.enqueue(P)}}),C=t.pipeThrough(k);return C.fileType=o,C}check(t,e){return le(this.buffer,t,e)}checkString(t,e){return this.check(mi(t,e?.encoding),e)}detectConfident=async t=>{if(this.buffer=new Uint8Array(Xt),t.fileInfo.size===void 0&&(t.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=t,await t.peekBuffer(this.buffer,{length:32,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await t.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(t);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8])){let i=new qe(t).inflate(),o=!0;try{let l;try{l=await this.fromStream(i)}catch{o=!1}if(l&&l.ext==="tar")return{ext:"tar.gz",mime:"application/gzip"}}finally{o&&await i.cancel()}return{ext:"gz",mime:"application/gzip"}}if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await t.ignore(6);let e=await t.readToken(fi);return t.position+e>t.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await t.ignore(e),this.fromTokenizer(t))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let e;return await new $e(t).unzip(i=>{switch(i.filename){case"META-INF/mozilla.rsa":return e={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return e={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(o){let l=new TextDecoder("utf-8").decode(o).trim();e=Qt(l)},stop:!0};case"[Content_Types].xml":return{async handler(o){let l=new TextDecoder("utf-8").decode(o),d=l.indexOf('.main+xml"');if(d===-1){let k="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";l.includes(`ContentType="${k}"`)&&(e=Qt(k))}else{l=l.slice(0,Math.max(0,d));let k=l.lastIndexOf('"'),C=l.slice(Math.max(0,k+1));e=Qt(C)}},stop:!0};default:return/classes\d*\.dex/.test(i.filename)?(e={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}}).catch(i=>{if(!(i instanceof z))throw i}),e??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await t.ignore(28);let e=new Uint8Array(8);return await t.readBuffer(e),le(e,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:le(e,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:le(e,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:le(e,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:le(e,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:le(e,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let e=await this.readTiffHeader(!1);if(e)return e}if(this.check([77,77])){let e=await this.readTiffHeader(!0);if(e)return e}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function e(){let k=await t.peekNumber(Zn),C=128,P=0;for(;(k&C)===0&&C!==0;)++P,C>>=1;let g=new Uint8Array(P+1);return await t.readBuffer(g),g}async function i(){let k=await e(),C=await e();C[0]^=128>>C.length-1;let P=Math.min(6,C.length),g=new DataView(k.buffer),h=new DataView(C.buffer,C.length-P,P);return{id:Jt(g),len:Jt(h)}}async function o(k){for(;k>0;){let C=await i();if(C.id===17026)return(await t.readToken(new Z(C.len))).replaceAll(/\00.*$/g,"");await t.ignore(C.len),--k}}let l=await i();switch(await o(l.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([254,237,250,206])||this.check([254,237,250,207])||this.check([206,250,237,254])||this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.checkString("regf"))return{ext:"dat",mime:"application/x-ft-windows-registry-hive"};if(this.checkString("$FL2")||this.checkString("$FL3"))return{ext:"sav",mime:"application/x-spss-sav"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190])){let e=Wt.get(this.buffer,4),i=ve.get(this.buffer,6);if(e>0&&e<=30)return{ext:"macho",mime:"application/x-mach-binary"};if(i>30)return{ext:"class",mime:"application/java-vm"}}if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let e=new Z(4,"latin1").get(this.buffer,2);if(e.match("^d*")&&e>=1e3&&e<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await t.ignore(8),await t.readToken(new Z(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(e=>this.checkString(e,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await t.ignore(8);async function e(){return{length:await t.readToken(Jn),type:await t.readToken(new Z(4,"latin1"))}}do{let i=await e();if(i.length<0)return;switch(i.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await t.ignore(i.length+4)}}while(t.position+8<t.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&(this.buffer[8]&96)!==0){let e=new Z(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(e){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString(`REGEDIT4\r
`))return{ext:"reg",mime:"application/x-ms-regedit"};if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function e(){let i=new Uint8Array(16);return await t.readBuffer(i),{id:i,size:Number(await t.readToken(Xn))}}for(await t.ignore(30);t.position+24<t.fileInfo.size;){let i=await e(),o=i.size-24;if(le(i.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let l=new Uint8Array(16);if(o-=await t.readBuffer(l),le(l,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(le(l,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await t.ignore(o)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await t.ignore(20),await t.readToken(new Z(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.checkString("<?xml ",{offset:2,encoding:"utf-16be"})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await t.peekBuffer(this.buffer,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let e=new DataView(this.buffer.buffer).getUint32(12,!0);if(e>12&&this.buffer.length>=e+16)try{let i=new TextDecoder().decode(this.buffer.subarray(16,e+16));if(JSON.parse(i).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(this.check([255,255,0,0,7,0,0,0,4,0,0,0,1,0,1,0])||this.check([0,0,255,255,0,0,0,7,0,0,0,4,0,1,0,1]))return{ext:"jmp",mime:"application/x-jmp-data"};if(await t.peekBuffer(this.buffer,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\0",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&pi(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254])){let e="utf-16le";return this.checkString("<?xml ",{offset:2,encoding:e})?{ext:"xml",mime:"application/xml"}:this.check([255,14],{offset:2})&&this.checkString("SketchUp Model",{offset:4,encoding:e})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:this.checkString(`Windows Registry Editor Version 5.00\r
`,{offset:2,encoding:e})?{ext:"reg",mime:"application/x-ms-regedit"}:void 0}if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"}};detectImprecise=async t=>{if(this.buffer=new Uint8Array(Xt),await t.peekBuffer(this.buffer,{length:Math.min(8,t.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await t.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,t.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let e=0;e<=this.options.mpegOffsetTolerance;++e){let i=this.scanMpeg(e);if(i)return i}};async readTiffTag(t){let e=await this.tokenizer.readToken(t?ve:I);switch(this.tokenizer.ignore(10),e){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"};default:}}async readTiffIFD(t){let e=await this.tokenizer.readToken(t?ve:I);for(let i=0;i<e;++i){let o=await this.readTiffTag(t);if(o)return o}}async readTiffHeader(t){let e=(t?ve:I).get(this.buffer,2),i=(t?Wt:B).get(this.buffer,4);if(e===42){if(i>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i>=8){let l=(t?ve:I).get(this.buffer,8),d=(t?ve:I).get(this.buffer,10);if(l===28&&d===254||l===31&&d===11)return{ext:"nef",mime:"image/x-nikon-nef"}}}return await this.tokenizer.ignore(i),await this.readTiffIFD(t)??{ext:"tif",mime:"image/tiff"}}if(e===43)return{ext:"tif",mime:"image/tiff"}}scanMpeg(t){if(this.check([255,224],{offset:t,mask:[255,224]})){if(this.check([16],{offset:t+1,mask:[22]}))return this.check([8],{offset:t+1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:t+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:t+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:t+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}},hs=new Set(gi),bs=new Set(xi);function fr(n,t){if(n&1&&(r(0,"div",3),p(1,"img",8),a()),n&2){let e=f();c(),w("src",e.imgPreview(),H)}}function gr(n,t){if(n&1&&(r(0,"p"),s(1),a()),n&2){let e=f();c(),v(e.imgFile.name)}}function xr(n,t){if(n&1&&(r(0,"p",4),s(1),a()),n&2){let e=f();c(),v(e.errorMsg())}}var Pt=class n{acceptedMimeType=["image/jpeg","image/png"];imgFile;imgPreview=A(void 0);errorMsg=A(void 0);_dialogRef=m(lt);onSubmit(){this._dialogRef.close(this.imgFile)}async onImgPicked(t){this.imgFile=void 0,this.imgPreview.set(void 0),this.errorMsg.set(void 0);let e=t.target;if(e.files&&e.files.length>0){this.imgFile=e.files[0];let i=await ui(this.imgFile);if(i&&this.acceptedMimeType.includes(i.mime)){let o=new FileReader;o.onerror=()=>{this.imgFile=void 0,this.errorMsg.set("some thing went wrong")},o.onload=()=>{this.imgPreview.set(o.result)},o.readAsDataURL(this.imgFile)}else this.imgFile=void 0,this.errorMsg.set("image file must be .jpg or .png")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-upload-img"]],decls:14,vars:4,consts:[["filePicker",""],["mat-dialog-title",""],[1,"content-container"],[1,"image-preview"],[1,"error-msg"],["type","file","accept",".jpg, .png",3,"change"],["matButton","",3,"click"],["matButton","",3,"click","disabled"],["alt","upload image",3,"src"]],template:function(e,i){if(e&1){let o=D();r(0,"h2",1),s(1,"Upload Image"),a(),r(2,"mat-dialog-content")(3,"div",2),b(4,fr,2,1,"div",3),b(5,gr,2,1,"p"),b(6,xr,2,1,"p",4),a(),r(7,"input",5,0),M("change",function(d){return S(o),E(i.onImgPicked(d))}),a(),r(9,"mat-dialog-actions")(10,"button",6),M("click",function(){S(o);let d=Re(8);return E(d.click())}),s(11,"Pick Image"),a(),r(12,"button",7),M("click",function(){return S(o),E(i.onSubmit())}),s(13,"Upload"),a()()()}e&2&&(c(4),_(i.imgPreview()?4:-1),c(),_(i.imgFile?5:-1),c(),_(i.errorMsg()?6:-1),c(6),w("disabled",!i.imgFile))},dependencies:[ct,dt,mt,De,ft],styles:["input[type=file][_ngcontent-%COMP%]{visibility:hidden}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;margin:0}.image-preview[_ngcontent-%COMP%]{width:25rem;margin:0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.error-msg[_ngcontent-%COMP%]{color:#690a0a;font-size:medium}p[_ngcontent-%COMP%]{margin:0;padding:0}mat-dialog-actions[_ngcontent-%COMP%]{margin:0;padding:0 0 1em}"],changeDetection:0})};var Ot=class n{_http=m(wn);getAchievements(){return on(this._http.get(`${it.baseUrl}/api/achievements`))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var ur=(n,t,e)=>({"bg-green-900/20 border-green-500/40":n,"bg-red-900/20 border-red-500/40":t,"bg-primary/20 border-primary/40":e}),hr=(n,t)=>({"border-primary bg-primary/5 shadow-[0_0_20px_rgba(139,92,246,0.3)] hover:shadow-[0_0_30px_rgba(139,92,246,0.6)] hover:border-primary/80":n,"border-white/5 bg-black/40 grayscale opacity-60 hover:opacity-100 hover:border-white/20":t}),br=(n,t)=>({"bg-primary/20 border border-primary/40":n,"bg-white/5 border border-white/10":t}),_r=(n,t)=>({"text-white group-hover:text-primary":n,"text-gray-500":t}),yr=(n,t,e,i)=>({"text-green-400":n,"text-blue-300":t,"text-yellow-400":e,"text-red-400":i}),en=(n,t)=>t.id,vr=(n,t)=>t.message;function wr(n,t){n&1&&(r(0,"span",40),s(1," verified "),a())}function Cr(n,t){n&1&&(r(0,"span",41),s(1," block "),a())}function kr(n,t){n&1&&(r(0,"span",42),s(1," pending "),a())}function Mr(n,t){if(n&1&&(r(0,"div",26)(1,"div",39),b(2,wr,2,0,"span",40)(3,Cr,2,0,"span",41)(4,kr,2,0,"span",42),a(),r(5,"div")(6,"h4",43),s(7),a(),r(8,"p",44),s(9),U(10,"date"),a()()()),n&2){let e=t.$implicit;c(),ce("bg-green-500-20",e.status==="Completed")("border-green-500-40",e.status==="Completed")("text-green-400",e.status==="Completed")("bg-red-500-20",e.status==="Failed")("border-red-500-40",e.status==="Failed")("text-red-400",e.status==="Failed")("bg-primary-20",e.status!=="Completed"&&e.status!=="Failed")("border-primary-40",e.status!=="Completed"&&e.status!=="Failed")("text-primary",e.status!=="Completed"&&e.status!=="Failed"),w("ngClass",un(26,ur,e.status==="Completed",e.status==="Failed",e.status!=="Completed"&&e.status!=="Failed")),c(),_(e.status==="Completed"?2:e.status==="Failed"?3:4),c(5),v(e.name),c(2),de("",e.status," \u2022 ",ge(10,23,e.created_at,"mediumDate"))}}function Pr(n,t){n&1&&(r(0,"p",27),s(1,"No mission records found."),a())}function Or(n,t){n&1&&(p(0,"div",55),r(1,"div",56),p(2,"div",57),a())}function Sr(n,t){n&1&&(r(0,"span",47),s(1,"\u{1F3C6}"),a())}function Er(n,t){n&1&&(r(0,"span",48),s(1,"\u{1F512}"),a())}function Fr(n,t){if(n&1&&(r(0,"div",52),s(1),U(2,"date"),a()),n&2){let e=f().$implicit;c(),y(" ",ge(2,1,e.earned_at,"mediumDate")," ")}}function Tr(n,t){n&1&&(r(0,"div",53)(1,"span",58),s(2,"lock"),a(),r(3,"span"),s(4,"LOCKED"),a()())}function zr(n,t){if(n&1&&(r(0,"div",34)(1,"div",45),b(2,Or,3,0),r(3,"div",46),b(4,Sr,2,0,"span",47)(5,Er,2,0,"span",48),a(),r(6,"h4",49),s(7),a(),r(8,"div",50)(9,"p",51),s(10),a(),b(11,Fr,3,4,"div",52)(12,Tr,5,0,"div",53),a(),p(13,"div",54),a()()),n&2){let e=t.$implicit;c(),w("ngClass",tt(8,hr,e.is_earned,!e.is_earned)),c(),_(e.is_earned?2:-1),c(),w("ngClass",tt(11,br,e.is_earned,!e.is_earned)),c(),_(e.is_earned?4:5),c(2),w("ngClass",tt(14,_r,e.is_earned,!e.is_earned)),c(),y(" ",e.name," "),c(3),y(" ",e.description||"Classified Achievement Data"," "),c(),_(e.is_earned&&e.earned_at?11:e.is_earned?-1:12)}}function Ar(n,t){n&1&&(r(0,"div",35)(1,"span",59),s(2,"military_tech"),a(),r(3,"p",60),s(4,"No badges awarded yet."),a()())}function Ir(n,t){if(n&1){let e=D();r(0,"div",37)(1,"div",61)(2,"span",62),s(3,"mail"),a()(),r(4,"div",63)(5,"div",64)(6,"span",65),s(7,"Invitation"),a(),r(8,"span",66),s(9),a()(),r(10,"h3",67),s(11),a(),r(12,"p",68),s(13,"Authorized request to join strategic mission deployment."),a()(),r(14,"div",69)(15,"button",70),M("click",function(){let o=S(e).$implicit,l=f();return E(l.acceptInvite(o.id))}),s(16," Accept "),a(),r(17,"button",71),M("click",function(){let o=S(e).$implicit,l=f();return E(l.declineInvite(o.id))}),s(18," Decline "),a()()()}if(n&2){let e=t.$implicit;c(9),y("From: ",e.chief_name),c(2),y(" ",e.mission_name," ")}}function Dr(n,t){if(n&1&&(r(0,"div",75)(1,"span",76),s(2),U(3,"date"),a(),r(4,"span",77),s(5),a()()),n&2){let e=t.$implicit;c(2),y("[",ge(3,3,e.time,"HH:mm:ss"),"]"),c(2),w("ngClass",hn(6,yr,e.type==="success",e.type==="info",e.type==="warning",e.type==="error")),c(),y(">> ",e.message)}}function Ur(n,t){if(n&1&&(r(0,"div",38)(1,"h3",72),p(2,"span",73),s(3," System Activity Log "),a(),r(4,"div",74),L(5,Dr,6,11,"div",75,vr),a()()),n&2){let e=f();c(5),N(e.systemLogs)}}var St=class n{avatar_url;display_name;achievements=[];invites=[];missions=[];systemLogs=[{type:"success",message:"Neural Link Established",time:new Date},{type:"info",message:"System Diagnostics: Optimal",time:new Date(Date.now()-36e5*2)},{type:"warning",message:"Energy Reserves at 94%",time:new Date(Date.now()-36e5*5)},{type:"info",message:"Protocol v2.4.0 Loaded",time:new Date(Date.now()-36e5*24)}];_passport=m(j);_dialog=m(Ie);_user=m(gt);_achievement=m(Ot);_invite=m(Ue);_cdr=m(nt);constructor(){this.avatar_url=this._passport.avatar,this.display_name=ne(()=>this._passport.data()?.display_name)}xp=this._passport.xp;level=this._passport.level;nextLevelXp=ne(()=>this.level()*1e3);currentLevelProgress=ne(()=>this.xp()%1e3/1e3*100);ngOnInit(){this.loadAchievements(),this.loadInvites(),this.loadMissions()}async loadAchievements(){try{this.achievements=await this._achievement.getAchievements(),this._cdr.detectChanges()}catch(t){console.error("Failed to load achievements",t)}}async loadMissions(){try{this.missions=await this._user.getMyMissions(),this._cdr.detectChanges()}catch(t){console.error("Failed to load missions",t)}}async loadInvites(){try{this.invites=await this._invite.getMyInvites(),this._cdr.detectChanges()}catch(t){console.error("Failed to load invites",t)}}async acceptInvite(t){if(confirm("Accept this mission invite?"))try{await this._invite.accept(t),await this.loadInvites(),alert("Joined mission successfully!")}catch(e){console.error(e),alert(e?.error?.message||e?.message||"Failed to accept invite")}finally{this._cdr.detectChanges()}}async declineInvite(t){if(confirm("Decline this mission invite?"))try{await this._invite.decline(t),await this.loadInvites()}catch(e){alert(e?.error||"Failed to decline invite")}}openDialog(){this._dialog.open(Pt).afterClosed().subscribe(async e=>{if(e){let i=await this._user.uploadAvatarImg(e);i&&console.error(i)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-profile"]],decls:76,vars:14,consts:[[1,"profile-page","text-gray-100","font-sans","selection:bg-primary/30","min-h-screen"],[1,"max-w-7xl","mx-auto","px-6","py-12"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8","mb-12"],[1,"lg:col-span-1","border-2","border-purple-500/20","yokai-card","p-8","text-center","animate-soft-float"],[1,"avatar-container","mb-6","relative"],[1,"avatar-wrapper"],["alt","Avatar",3,"src"],[1,"edit-btn","shadow-lg",3,"click"],[1,"material-icons","text-sm"],[1,"font-display","text-3xl","font-bold","text-white","uppercase","tracking-tighter","glow-text"],[1,"bg-black/40","rounded-2xl","p-4","border","border-white/5","space-y-3"],[1,"flex","justify-between","text-[10px]","font-bold","uppercase","tracking-widest","text-gray-400"],[1,"text-white"],[1,"xp-bar"],[1,"xp-fill"],[1,"lg:col-span-2","grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"yokai-card","p-8","flex","flex-col","justify-between"],[1,"flex","items-center","gap-3","mb-6"],[1,"font-display","text-lg","text-white","uppercase","tracking-widest"],[1,"grid","grid-cols-2","gap-4"],[1,"stat-box"],[1,"text-[9px]","text-gray-500","uppercase","font-black","tracking-widest","mb-1"],[1,"text-2xl","font-display","text-white"],[1,"text-2xl","font-display","text-primary"],[1,"yokai-card","p-8"],[1,"space-y-4"],[1,"skill-row"],[1,"text-[10px]","text-gray-600","italic"],[1,"mb-16"],[1,"flex","items-center","justify-between","mb-8","border-b","border-white/5","pb-4"],[1,"flex","items-center","gap-3"],[1,"font-display","text-2xl","text-white","uppercase","tracking-widest"],[1,"text-primary","hover:text-white","text-[10px]","font-black","uppercase","tracking-widest","transition-colors"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-5","gap-6"],[1,"group","relative"],[1,"col-span-full","py-12","text-center","border-2","border-dashed","border-white/5","rounded-2xl","bg-white/5"],[1,"flex","items-center","gap-3","mb-8","border-b","border-white/5","pb-4"],[1,"history-card","flex","flex-wrap","md:flex-nowrap","items-center","gap-6","group"],[1,"system-logs","border","border-white/10","rounded-2xl","p-6","bg-black/40","backdrop-blur-sm"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","border","shrink-0",3,"ngClass"],[1,"material-symbols-outlined","text-emerald-400","drop-shadow"],[1,"material-symbols-outlined","text-rose-400"],[1,"material-symbols-outlined","text-purple-400","animate-pulse"],[1,"text-xs","font-black","text-white","uppercase","tracking-widest","line-clamp-1"],[1,"text-[10px]","text-gray-500"],[1,"relative","aspect-square","rounded-2xl","border-2","transition-all","duration-300","overflow-hidden","flex","flex-col","items-center","justify-center","p-6",3,"ngClass"],[1,"relative","z-10","w-16","h-16","flex","items-center","justify-center","rounded-full","mb-3","transition-transform","duration-300","group-hover:scale-110",3,"ngClass"],[1,"text-4xl","select-none","transform","group-hover:scale-110","transition-transform"],[1,"text-3xl","opacity-30","select-none","grayscale"],[1,"relative","z-10","text-xs","font-black","uppercase","tracking-widest","text-center","transition-colors","line-clamp-2",3,"ngClass"],[1,"absolute","inset-0","bg-black/90","backdrop-blur-sm","flex","flex-col","items-center","justify-center","p-4","text-center","opacity-0","group-hover:opacity-100","transition-opacity","duration-300","z-20"],[1,"text-[10px]","text-gray-300","leading-relaxed","font-medium","mb-3"],[1,"px-2","py-1","rounded","bg-primary/20","border","border-primary/30","text-[9px]","text-primary","font-bold","uppercase","tracking-widest"],[1,"flex","items-center","gap-1","text-[9px]","text-red-400","font-bold","uppercase","tracking-widest"],[1,"absolute","bottom-0","left-0","w-full","h-1","bg-gradient-to-r","from-transparent","via-primary/50","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"absolute","inset-0","bg-gradient-to-tr","from-primary/20","via-transparent","to-transparent","opacity-50"],[1,"absolute","top-0","right-0","p-2"],[1,"w-1.5","h-1.5","rounded-full","bg-green-400","shadow-[0_0_8px_#4ade80]","animate-pulse"],[1,"material-icons","text-[10px]"],[1,"material-icons","text-4xl","text-gray-600","mb-2"],[1,"text-gray-500","text-xs","uppercase","tracking-widest"],[1,"img-wrapper","shrink-0","bg-primary/10","flex","items-center","justify-center"],[1,"material-icons","text-primary","text-3xl"],[1,"flex-grow"],[1,"flex","items-center","gap-3","mb-1"],[1,"text-[9px]","bg-primary/20","text-primary","px-2","py-0.5","rounded","uppercase","font-black","tracking-widest"],[1,"text-[10px]","text-gray-500","uppercase","font-medium"],[1,"font-display","text-xl","text-white","group-hover:text-primary","transition-colors","tracking-wide"],[1,"text-[11px]","text-gray-400","mt-1"],[1,"flex","items-center","gap-4","shrink-0","w-full","md:w-auto"],[1,"flex-1","md:flex-none","px-6","py-2.5","bg-green-600/20","hover:bg-green-600/40","border","border-green-500/30","text-green-400","text-[10px]","font-black","uppercase","tracking-widest","rounded-lg","transition-all","transform","active:scale-95",3,"click"],[1,"flex-1","md:flex-none","px-6","py-2.5","bg-red-600/20","hover:bg-red-600/40","border","border-red-500/30","text-red-400","text-[10px]","font-black","uppercase","tracking-widest","rounded-lg","transition-all","transform","active:scale-95",3,"click"],[1,"text-xs","font-black","uppercase","tracking-widest","text-gray-500","mb-4","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-green-500","shadow-[0_0_10px_#22c55e]","animate-pulse"],[1,"space-y-3","font-mono","text-[11px]","tracking-wide"],[1,"flex","items-start","gap-4","hover:bg-white/5","p-1","rounded","transition-colors","cursor-default"],[1,"text-gray-600","shrink-0","w-16","opacity-70"],[3,"ngClass"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"main",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),p(6,"img",6),a(),r(7,"button",7),M("click",function(){return i.openDialog()}),r(8,"span",8),s(9,"edit"),a()()(),r(10,"h1",9),s(11),a(),r(12,"div",10)(13,"div",11)(14,"span"),s(15),a(),r(16,"span",12),s(17),U(18,"number"),U(19,"number"),a()(),r(20,"div",13),p(21,"div",14),a()()(),r(22,"div",15)(23,"div",16)(24,"div")(25,"div",17)(26,"h2",18),s(27,"Statistics"),a()(),r(28,"div",19)(29,"div",20)(30,"p",21),s(31,"Missions "),a(),r(32,"p",22),s(33,"142"),a()(),r(34,"div",20)(35,"p",21),s(36,"Banished "),a(),r(37,"p",22),s(38,"893"),a()(),r(39,"div",20)(40,"p",21),s(41,"Accuracy "),a(),r(42,"p",23),s(43,"98.2%"),a()(),r(44,"div",20)(45,"p",21),s(46,"Time"),a(),r(47,"p",22),s(48,"248h"),a()()()()(),r(49,"div",24)(50,"div",17)(51,"h2",18),s(52,"Recent Missions"),a()(),r(53,"div",25),L(54,Mr,11,30,"div",26,en,!1,Pr,2,0,"p",27),a()()()(),r(57,"div",28)(58,"div",29)(59,"div",30)(60,"h2",31),s(61,"Badge Collection"),a()(),r(62,"button",32),s(63," Access Archive "),a()(),r(64,"div",33),L(65,zr,14,17,"div",34,en,!1,Ar,5,0,"div",35),a()(),r(68,"div")(69,"div",36)(70,"h2",31),s(71,"Pending Protocols"),a()(),r(72,"div",25),L(73,Ir,19,2,"div",37,en,!1,Ur,7,0,"div",38),a()()()()),e&2){let o;c(6),w("src",((o=i._passport.data())==null?null:o.avatar_url)||"assets/default.avatar.jpg",H),c(5),y(" ",i.display_name()||"OPERATOR"," "),c(4),y("Sync Progress \u2022 Level ",i.level()),c(2),de("",$(18,10,i.xp())," / ",$(19,12,i.nextLevelXp())," XP"),c(4),Se("width",i.currentLevelProgress(),"%"),c(33),N(i.missions.slice(0,3)),c(11),N(i.achievements),c(8),N(i.invites)}},dependencies:[re,_n,Ee,yn],styles:['.profile-page[_ngcontent-%COMP%]{background:#0f0714;background-image:radial-gradient(circle at 50% 50%,rgba(76,29,149,.15) 0%,transparent 50%),linear-gradient(0deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent);background-size:100% 100%,50px 50px,50px 50px;min-height:100vh;padding-top:5rem;padding-bottom:5rem;position:relative;overflow-x:hidden}.profile-page[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000008,#00ff0003,#0000ff08);z-index:0;background-size:100% 3px,3px 100%;pointer-events:none}[_nghost-%COMP%]{--primary: #c08d3a;--primary-glow: rgba(192, 141, 58, .6);--secondary: #00bcd4;--secondary-glow: rgba(0, 188, 212, .5);--surface-dark: #0a0a12;--border-tech: rgba(255, 255, 255, .15);--font-header: "Orbitron", sans-serif;--font-body: "Rajdhani", sans-serif}@keyframes _ngcontent-%COMP%_soft-float{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes _ngcontent-%COMP%_holographic-pulse{0%,to{opacity:.8;box-shadow:0 0 10px var(--secondary-glow)}50%{opacity:1;box-shadow:0 0 20px var(--secondary-glow),0 0 40px var(--secondary-glow)}}.animate-soft-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_soft-float 6s ease-in-out infinite}.yokai-card[_ngcontent-%COMP%]{background:#14141eb3;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-tech);border-top:1px solid rgba(255,255,255,.2);border-radius:12px;box-shadow:0 20px 50px #00000080,inset 0 0 0 1px #ffffff0d;overflow:hidden;position:relative;transition:all .4s cubic-bezier(.4,0,.2,1)}.yokai-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--primary),transparent);opacity:.5}.yokai-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 30px 60px #0009,inset 0 0 0 1px #c08d3a4d;border-color:#c08d3a4d}.yokai-card[_ngcontent-%COMP%]:hover:before{opacity:1}.avatar-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.avatar-container[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-10px;border:1px solid var(--primary);border-radius:50%;opacity:.3;animation:spin 20s linear infinite}.avatar-container[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;margin:0 auto;border:2px solid var(--primary);padding:4px;background:#000;border-radius:50%;box-shadow:0 0 30px var(--primary-glow);z-index:2}.avatar-container[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;filter:sepia(20%) contrast(1.1)}.avatar-container[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;background:#1a1a1a;border:1px solid var(--primary);color:var(--primary);width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s;z-index:3;box-shadow:0 4px 10px #00000080}.avatar-container[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{background:var(--primary);color:#000;transform:scale(1.1);box-shadow:0 0 15px var(--primary-glow)}.stat-box[_ngcontent-%COMP%]{background:#ffffff08;border:1px solid var(--border-tech);border-left:2px solid var(--primary);border-radius:4px;padding:1rem;position:relative;overflow:hidden;transition:all .3s}.stat-box[_ngcontent-%COMP%]:hover{background:#ffffff0f;transform:translate(5px)}.stat-box[_ngcontent-%COMP%]   p.text-2xl[_ngcontent-%COMP%]{text-shadow:0 0 15px rgba(0,0,0,.5)}.skill-row[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,255,255,.03),transparent);border-bottom:1px solid var(--border-tech);border-radius:4px;padding:1rem;display:flex;align-items:center;gap:1.25rem;transition:all .3s;position:relative}.skill-row[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--border-tech);transition:background .3s}.skill-row[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,rgba(255,255,255,.08),transparent)}.skill-row[_ngcontent-%COMP%]:hover:before{background:var(--primary)}.badge-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;transition:transform .3s}.badge-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.badge-item[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]{width:80px;height:80px;position:relative;background:#333;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);display:flex;align-items:center;justify-content:center;margin-bottom:1rem;transition:all .4s ease}.badge-item[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:2px;background:#0f0f15;clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);z-index:1;transition:background .4s}.badge-item[_ngcontent-%COMP%]   .badge-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:2;font-size:2rem;color:#444;transition:all .4s}.badge-item[_ngcontent-%COMP%]   .badge-icon.earned[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706,#92400e,#f59e0b);background-size:200% 200%;animation:_ngcontent-%COMP%_metal-shine 4s infinite linear;filter:drop-shadow(0 0 5px rgba(245,158,11,.3))}.badge-item[_ngcontent-%COMP%]   .badge-icon.earned[_ngcontent-%COMP%]:after{background:linear-gradient(135deg,#2d1a47,#150a25)}.badge-item[_ngcontent-%COMP%]   .badge-icon.earned[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--primary);text-shadow:0 0 15px var(--primary-glow)}.badge-item[_ngcontent-%COMP%]   .badge-icon.earned[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.1);filter:drop-shadow(0 0 20px var(--primary-glow))}.badge-item[_ngcontent-%COMP%]   .badge-icon.earned[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff;text-shadow:0 0 25px var(--primary)}.badge-item[_ngcontent-%COMP%]   .badge-icon.locked[_ngcontent-%COMP%]{opacity:.5;background:#333}.badge-item[_ngcontent-%COMP%]   .badge-icon.locked[_ngcontent-%COMP%]:after{background:#111}.badge-item[_ngcontent-%COMP%]   span.text-\\__ph-0__[_ngcontent-%COMP%]{font-family:Courier New,monospace;letter-spacing:.05em}@keyframes _ngcontent-%COMP%_metal-shine{0%{background-position:0% 50%}to{background-position:100% 50%}}.system-logs[_ngcontent-%COMP%]{position:relative;overflow:hidden}.system-logs[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(34,197,94,.5),transparent);opacity:.3}.history-card[_ngcontent-%COMP%]{background:linear-gradient(90deg,#14141ecc,#14141e66);border:1px solid var(--border-tech);border-left:3px solid #333;border-radius:8px;padding:1.5rem;transition:all .3s}.history-card[_ngcontent-%COMP%]:hover{border-left-color:var(--secondary);background:linear-gradient(90deg,#1e1e2de6,#14141e99);transform:translate(5px);box-shadow:-5px 5px 20px #0000004d}.history-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;background:#111;border:1px solid var(--border-tech);box-shadow:inset 0 0 20px #00000080}.xp-bar[_ngcontent-%COMP%]{height:6px;background:#ffffff1a;border-radius:2px;margin-top:.5rem;position:relative}.xp-bar[_ngcontent-%COMP%]   .xp-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--primary),#fff);box-shadow:0 0 15px var(--primary-glow);border-radius:2px}.glow-text[_ngcontent-%COMP%]{text-shadow:0 0 20px var(--primary-glow);background:linear-gradient(180deg,#fff,var(--primary));-webkit-background-clip:text;-webkit-text-fill-color:transparent}']})};function Br(n,t){if(n&1&&(x(0,"p"),s(1),u()),n&2){let e=f();c(),v(e.errorMsg)}}var Et=class n{_router=m(W);errorMsg=void 0;constructor(){this.errorMsg=this._router.currentNavigation()?.extras.state?.error}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-server-error"]],decls:3,vars:1,template:function(e,i){e&1&&(x(0,"p"),s(1,"server-error works!"),u(),b(2,Br,2,1,"p")),e&2&&(c(2),_(i.errorMsg?2:-1))},encapsulation:2})};var Ft=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-not-found"]],decls:17,vars:0,consts:[[1,"bg-purple"],[1,"stars"],[1,"central-body"],["src","http://salehriaz.com/404Page/img/404.svg","width","300px",1,"image-404"],[1,"objects"],["src","http://salehriaz.com/404Page/img/rocket.svg","width","40px",1,"object_rocket"],[1,"earth-moon"],["src","http://salehriaz.com/404Page/img/earth.svg","width","100px",1,"object_earth"],["src","http://salehriaz.com/404Page/img/moon.svg","width","80px",1,"object_moon"],[1,"box_astronaut"],["src","http://salehriaz.com/404Page/img/astronaut.svg","width","140px",1,"object_astronaut"],[1,"glowing_stars"],[1,"star"]],template:function(e,i){e&1&&(x(0,"div",0)(1,"div",1)(2,"div",2),X(3,"img",3),u(),x(4,"div",4),X(5,"img",5),x(6,"div",6),X(7,"img",7)(8,"img",8),u(),x(9,"div",9),X(10,"img",10),u()(),x(11,"div",11),X(12,"div",12)(13,"div",12)(14,"div",12)(15,"div",12)(16,"div",12),u()()())},styles:['@font-face{font-family:Dosis;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzlnC_W6EQ.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Dosis;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzlmC_W6EQ.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Dosis;font-style:normal;font-weight:300;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzloC_U.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Dosis;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzlnC_W6EQ.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Dosis;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzlmC_W6EQ.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Dosis;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzloC_U.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Dosis;font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzlnC_W6EQ.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Dosis;font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzlmC_W6EQ.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Dosis;font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/dosis/v34/HhyaU5sn9vOmLzloC_U.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@-moz-keyframes rocket-movement{to{-moz-transform:translate(1200px,-600px)}}@-webkit-keyframes _ngcontent-%COMP%_rocket-movement{to{-webkit-transform:translate(1200px,-600px)}}@keyframes _ngcontent-%COMP%_rocket-movement{to{transform:translate(1200px,-600px)}}@-moz-keyframes spin-earth{to{-moz-transform:rotate(-360deg);transition:transform 20s}}@-webkit-keyframes _ngcontent-%COMP%_spin-earth{to{-webkit-transform:rotate(-360deg);transition:transform 20s}}@keyframes _ngcontent-%COMP%_spin-earth{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg);transition:transform 20s}}@-moz-keyframes move-astronaut{to{-moz-transform:translate(-160px,-160px)}}@-webkit-keyframes _ngcontent-%COMP%_move-astronaut{to{-webkit-transform:translate(-160px,-160px)}}@keyframes _ngcontent-%COMP%_move-astronaut{to{-webkit-transform:translate(-160px,-160px);transform:translate(-160px,-160px)}}@-moz-keyframes rotate-astronaut{to{-moz-transform:rotate(-720deg)}}@-webkit-keyframes _ngcontent-%COMP%_rotate-astronaut{to{-webkit-transform:rotate(-720deg)}}@keyframes _ngcontent-%COMP%_rotate-astronaut{to{-webkit-transform:rotate(-720deg);transform:rotate(-720deg)}}@-moz-keyframes glow-star{40%{-moz-opacity:.3}90%,to{-moz-opacity:1;-moz-transform:scale(1.2)}}@-webkit-keyframes _ngcontent-%COMP%_glow-star{40%{-webkit-opacity:.3}90%,to{-webkit-opacity:1;-webkit-transform:scale(1.2)}}@keyframes _ngcontent-%COMP%_glow-star{40%{-webkit-opacity:.3;opacity:.3}90%,to{-webkit-opacity:1;opacity:1;-webkit-transform:scale(1.2);transform:scale(1.2);border-radius:999999px}}.spin-earth-on-hover[_ngcontent-%COMP%]{transition:ease 200s!important;transform:rotate(-3600deg)!important}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;font-family:Dosis,sans-serif;font-weight:300;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bg-purple[_ngcontent-%COMP%]{background:url(http://salehriaz.com/404Page/img/bg_purple.png);background-repeat:repeat-x;background-size:cover;background-position:left top;height:100%;overflow:hidden}.custom-navbar[_ngcontent-%COMP%]{padding-top:15px}.brand-logo[_ngcontent-%COMP%]{margin-left:25px;margin-top:5px;display:inline-block}.navbar-links[_ngcontent-%COMP%]{display:inline-block;margin-right:15px;text-transform:uppercase}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex;align-items:center}li[_ngcontent-%COMP%]{float:left;padding:0 15px}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;text-decoration:none;letter-spacing:2px;font-size:12px;-webkit-transition:all .3s ease-in;-moz-transition:all .3s ease-in;-ms-transition:all .3s ease-in;-o-transition:all .3s ease-in;transition:all .3s ease-in}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffcb39}.btn-request[_ngcontent-%COMP%]{padding:10px 25px;border:1px solid #FFCB39;border-radius:100px;font-weight:400}.btn-request[_ngcontent-%COMP%]:hover{background-color:#ffcb39;color:#fff;transform:scale(1.05);box-shadow:0 20px 20px #0000001a}.btn-go-home[_ngcontent-%COMP%]{position:relative;z-index:200;margin:15px auto;width:100px;padding:10px 15px;border:1px solid #FFCB39;border-radius:100px;font-weight:400;display:block;color:#fff;text-align:center;text-decoration:none;letter-spacing:2px;font-size:11px;-webkit-transition:all .3s ease-in;-moz-transition:all .3s ease-in;-ms-transition:all .3s ease-in;-o-transition:all .3s ease-in;transition:all .3s ease-in}.btn-go-home[_ngcontent-%COMP%]:hover{background-color:#ffcb39;color:#fff;transform:scale(1.05);box-shadow:0 20px 20px #0000001a}.central-body[_ngcontent-%COMP%]{height:100%;padding:17% 5% 10%;text-align:center}.objects[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{z-index:90;pointer-events:none}.object_rocket[_ngcontent-%COMP%]{z-index:95;position:absolute;transform:translate(-50px);top:75%;pointer-events:none;animation:_ngcontent-%COMP%_rocket-movement 200s linear infinite both running}.object_earth[_ngcontent-%COMP%]{position:absolute;top:20%;left:15%;z-index:90}.object_moon[_ngcontent-%COMP%]{position:absolute;top:12%;left:25%}.object_astronaut[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-astronaut 200s infinite linear both alternate}.box_astronaut[_ngcontent-%COMP%]{z-index:110!important;position:absolute;top:60%;right:20%;will-change:transform;animation:_ngcontent-%COMP%_move-astronaut 50s infinite linear both alternate}.image-404[_ngcontent-%COMP%]{position:relative;z-index:100;pointer-events:none}.stars[_ngcontent-%COMP%]{background:url(http://salehriaz.com/404Page/img/overlay_stars.svg);background-repeat:repeat;background-size:contain;background-position:left top}.glowing_stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{position:absolute;border-radius:100%;background-color:#fff;width:3px;height:3px;opacity:.3;will-change:opacity}.glowing_stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:nth-child(1){top:80%;left:25%;animation:_ngcontent-%COMP%_glow-star 2s infinite ease-in-out alternate 1s}.glowing_stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:nth-child(2){top:20%;left:40%;animation:_ngcontent-%COMP%_glow-star 2s infinite ease-in-out alternate 3s}.glowing_stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:nth-child(3){top:25%;left:25%;animation:_ngcontent-%COMP%_glow-star 2s infinite ease-in-out alternate 5s}.glowing_stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:nth-child(4){top:75%;left:80%;animation:_ngcontent-%COMP%_glow-star 2s infinite ease-in-out alternate 7s}.glowing_stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]:nth-child(5){top:90%;left:50%;animation:_ngcontent-%COMP%_glow-star 2s infinite ease-in-out alternate 9s}@media only screen and (max-width:600px){.navbar-links[_ngcontent-%COMP%]{display:none}.custom-navbar[_ngcontent-%COMP%]{text-align:center}.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px}.box_astronaut[_ngcontent-%COMP%]{top:70%}.central-body[_ngcontent-%COMP%]{padding-top:25%}}']})};var K=(n,t)=>{let e=m(j),i=m(W);return e.data()?.token?!0:(i.navigate(["/login"]),!1)};var jr=()=>[1,2,3,4,5,6],Lr=(n,t)=>t.id;function Nr(n,t){n&1&&(r(0,"button",6)(1,"span",25),s(2,"settings"),a(),s(3," MISSION CONTROL "),a())}function Rr(n,t){n&1&&(r(0,"div",26),p(1,"div",27),r(2,"div",28),p(3,"div",29)(4,"div",30)(5,"div",31),a()())}function Vr(n,t){n&1&&L(0,Rr,6,0,"div",26,gn),n&2&&N(et(0,jr))}function Hr(n,t){n&1&&s(0," FULL ")}function $r(n,t){n&1&&s(0," DONE ")}function qr(n,t){n&1&&s(0," ENGAGE ")}function Wr(n,t){if(n&1){let e=D();r(0,"button",56),M("click",function(){S(e);let o=f(2).$implicit,l=f(2);return E(l.joinMission(o.id))}),b(1,Hr,1,0)(2,$r,1,0)(3,qr,1,0),a()}if(n&2){let e=f(2).$implicit;w("disabled",e.crew_count>=e.max_crew||e.status==="Completed"||e.status==="Failed"),c(),_(e.crew_count>=e.max_crew?1:e.status==="Completed"?2:3)}}function Yr(n,t){n&1&&s(0," CHIEF ")}function Gr(n,t){n&1&&s(0," ASSIGNED ")}function Zr(n,t){if(n&1&&(r(0,"button",54),b(1,Yr,1,0)(2,Gr,1,0),a()),n&2){let e=f(2).$implicit,i=f(2);Se("background","#334155"),w("disabled",!0),c(),_(e.chief_id===i.userId()?1:2)}}function Jr(n,t){if(n&1&&b(0,Wr,4,2,"button",54)(1,Zr,3,4,"button",55),n&2){let e=f().$implicit,i=f(2);_(!e.is_member&&e.chief_id!==i.userId()?0:1)}}function Xr(n,t){n&1&&(r(0,"button",53),s(1,"LOGIN"),a())}function Qr(n,t){if(n&1){let e=D();r(0,"div",32)(1,"div",34),p(2,"div",35),r(3,"div",36),p(4,"div",37),r(5,"div",38),s(6),a(),r(7,"div",39),p(8,"img",40),r(9,"div"),s(10),a(),p(11,"div",41)(12,"div",42),a(),r(13,"div",28)(14,"h4",43),s(15),a(),r(16,"p",44),s(17),a(),r(18,"div",45)(19,"div",46),Je(),r(20,"svg",47),p(21,"path",48),a(),Xe(),r(22,"span",49),s(23),a()(),r(24,"div",46),Je(),r(25,"svg",47),p(26,"path",50),a(),Xe(),r(27,"span"),s(28),a()()(),r(29,"div",51)(30,"button",52),M("click",function(){let o=S(e).$implicit,l=f(2);return E(l.openMissionModal(o.id))}),s(31," VIEW DATA "),a(),b(32,Jr,2,1)(33,Xr,2,0,"button",53),a()()()()()}if(n&2){let e=t.$implicit,i=f(2);w("appThreeDTilt",15),c(6),v(e.category||"OPERATION"),c(2),w("src",e.image_url||"/assets/card/card-img-0"+(e.id%4+1)+".jpg",H)("alt",e.name),c(),Ke("status-badge "+e.status),c(),v(e.status),c(5),v(e.name),c(2),v(e.description),c(6),v(e.chief_display_name),c(5),de("",e.crew_count," / ",e.max_crew||5),c(4),_(i.isSignin()?32:33)}}function Kr(n,t){n&1&&(r(0,"div",33)(1,"span",57),s(2,"cloud_off"),a(),r(3,"p"),s(4,"No active protocols found in current sector."),a()())}function ea(n,t){if(n&1&&(L(0,Qr,34,13,"div",32,Lr,!1,Kr,5,0,"div",33),U(3,"async")),n&2){let e=f();N($(3,1,e.missions$))}}function ta(n,t){if(n&1){let e=D();r(0,"div",24)(1,"div",58),M("click",function(){S(e);let o=f();return E(o.closeMissionModal())}),a(),r(2,"div",59),p(3,"div",60),r(4,"div",61)(5,"button",62),M("click",function(){S(e);let o=f();return E(o.closeMissionModal())}),r(6,"span",63),s(7,"\u274C"),a()(),p(8,"app-mission-detail",64),a()()()}if(n&2){let e=f();c(8),w("id",e.selectedMissionId())}}var Tt=class n{_mission=m(oe);_passport=m(j);selectedMissionId=A(null);showModal=A(!1);filter={};_missionsSubject=new te([]);missions$=this._missionsSubject.asObservable();isSignin;userId=this._passport.userId;isLoading=A(!0);constructor(){this.isSignin=ne(()=>this._passport.data()!==void 0),this.filter=this._mission.filter,this.loadMyMission()}async loadMyMission(){this.isLoading.set(!0);try{let t=await this._mission.getByFilter(this.filter);this._missionsSubject.next(t)}finally{this.isLoading.set(!1)}}async onSubmit(){this.loadMyMission()}openMissionModal(t){this.selectedMissionId.set(t),this.showModal.set(!0),document.body.style.overflow="hidden"}closeMissionModal(){this.showModal.set(!1),this.selectedMissionId.set(null),document.body.style.overflow="auto"}async joinMission(t){try{await this._mission.joinMission(t),await this.loadMyMission()}catch(e){alert(e?.error?.message??"Join failed")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-missions"]],decls:43,vars:6,consts:[[1,"missions-page"],[1,"content-wrapper"],[1,"flex","items-center","justify-between","mb-12"],[1,"font-display","text-4xl","font-black","text-white","tracking-widest","uppercase","mb-2"],[1,"text-slate-500","text-xs","uppercase","tracking-[0.3em]"],[1,"h-px","flex-1","mx-12","bg-primary/20","hidden","md:block"],["routerLink","/chief",1,"bg-primary","hover:bg-primary/90","text-white","px-6","py-3","rounded-xl","font-bold","uppercase","tracking-widest","text-xs","transition-all","transform","hover:scale-105","shadow-lg","shadow-primary/20","flex","items-center","gap-2"],[1,"filter-panel"],[1,"search-input-group"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","left-4","top-1/2","-translate-y-1/2","z-10","pointer-events-none","text-white/50","w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","SEARCH PROTOCOL NAME...",3,"ngModelChange","keyup.enter","ngModel"],[1,"filter-select",3,"ngModelChange","ngModel"],["value",""],["value","Open"],["value","InProgress"],["value","Completed"],["value","Failed"],["value","Game"],["value","General"],["value","Sport"],["value","Work"],[1,"filter-btn",3,"click"],[1,"missions-grid"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4","sm:p-10"],[1,"material-symbols-outlined","text-sm"],[1,"mission-card","opacity-50","animate-pulse"],[1,"card-image","bg-slate-800"],[1,"card-content"],[1,"h-6","w-3/4","bg-slate-700","mb-4","rounded"],[1,"h-4","w-full","bg-slate-800","mb-2","rounded"],[1,"h-4","w-5/6","bg-slate-800","mb-6","rounded"],[1,"group","h-full",3,"appThreeDTilt"],[1,"empty-state"],[1,"astra-card","w-full","h-full"],[1,"astra-frame"],[1,"astra-inner","tech-corners","p-0","overflow-hidden"],[1,"scan-line"],[1,"category-tag"],[1,"card-image","holographic-sheen"],[3,"src","alt"],[1,"img-scanlines"],[1,"absolute","inset-0","bg-gradient-to-t","from-[#140c2e]","via-transparent","to-transparent","pointer-events-none"],[1,"mission-name"],[1,"mission-desc"],[1,"card-stats"],[1,"stat"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5","text-[#7c3aed]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"truncate","max-w-[100px]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"card-actions"],[1,"btn-view",3,"click"],["routerLink","/login",1,"btn-join"],[1,"btn-join",3,"disabled"],[1,"btn-join",3,"disabled","background"],[1,"btn-join",3,"click","disabled"],[1,"material-icons"],[1,"absolute","inset-0","bg-[#030105]/80","backdrop-blur-md","transition-opacity","animate-in","fade-in","duration-500",3,"click"],[1,"relative","w-full","max-w-6xl","max-h-[92vh]","bg-[#07040a]/90","backdrop-blur-2xl","border","border-white/10","rounded-[2.5rem]","shadow-[0_20px_100px_rgba(0,0,0,0.8),0_0_40px_rgba(124,58,237,0.1)]","animate-in","zoom-in-95","duration-500","flex","flex-col","overflow-hidden"],[1,"absolute","top-0","left-1/4","right-1/4","h-[1px]","bg-gradient-to-r","from-transparent","via-primary","to-transparent","opacity-50","z-[120]"],[1,"flex-1","overflow-y-auto","custom-scrollbar","overflow-x-hidden","relative"],[1,"absolute","top-6","right-6","z-[130]","text-white","transition-colors","group","opacity-50","hover:opacity-100",3,"click"],[1,"text-2xl"],[3,"id"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),s(5," ACTIVE OPERATIONS "),a(),r(6,"p",4),s(7," Real-time mission intelligence and deployment "),a()(),p(8,"div",5),b(9,Nr,4,0,"button",6),a(),r(10,"div",7)(11,"div",8),Je(),r(12,"svg",9),p(13,"path",10),a(),Xe(),r(14,"input",11),fe("ngModelChange",function(l){return pe(i.filter.name,l)||(i.filter.name=l),l}),M("keyup.enter",function(){return i.onSubmit()}),a()(),r(15,"select",12),fe("ngModelChange",function(l){return pe(i.filter.status,l)||(i.filter.status=l),l}),r(16,"option",13),s(17,"-- ALL STATUS --"),a(),r(18,"option",14),s(19,"OPEN"),a(),r(20,"option",15),s(21,"IN PROGRESS"),a(),r(22,"option",16),s(23,"COMPLETED"),a(),r(24,"option",17),s(25,"FAILED"),a()(),r(26,"select",12),fe("ngModelChange",function(l){return pe(i.filter.category,l)||(i.filter.category=l),l}),r(27,"option",13),s(28,"-- ALL CATEGORIES --"),a(),r(29,"option",18),s(30,"GAME"),a(),r(31,"option",19),s(32,"GENERAL"),a(),r(33,"option",20),s(34,"SPORT"),a(),r(35,"option",21),s(36,"WORK"),a()(),r(37,"button",22),M("click",function(){return i.onSubmit()}),s(38," SYNC DATA "),a()(),r(39,"div",23),b(40,Vr,2,1)(41,ea,4,3),a()()(),b(42,ta,9,1,"div",24)),e&2&&(c(9),_(i.isSignin()?9:-1),c(5),me("ngModel",i.filter.name),c(),me("ngModel",i.filter.status),c(11),me("ngModel",i.filter.category),c(14),_(i.isLoading()?40:41),c(2),_(i.showModal()?42:-1))},dependencies:[Ae,ot,st,Te,at,ze,rt,ae,Nn,Fe,ie],styles:['@tailwind base;@tailwind components;@tailwind utilities;html[_ngcontent-%COMP%]{height:100%;--mat-sys-background: light-dark(#faf9fd, #121316);--mat-sys-error: light-dark(#ba1a1a, #ffb4ab);--mat-sys-error-container: light-dark(#ffdad6, #93000a);--mat-sys-inverse-on-surface: light-dark(#f2f0f4, #2f3033);--mat-sys-inverse-primary: light-dark(#abc7ff, #005cbb);--mat-sys-inverse-surface: light-dark(#2f3033, #e3e2e6);--mat-sys-on-background: light-dark(#1a1b1f, #e3e2e6);--mat-sys-on-error: light-dark(#ffffff, #690005);--mat-sys-on-error-container: light-dark(#93000a, #ffdad6);--mat-sys-on-primary: light-dark(#ffffff, #002f65);--mat-sys-on-primary-container: light-dark(#00458f, #d7e3ff);--mat-sys-on-primary-fixed: light-dark(#001b3f, #001b3f);--mat-sys-on-primary-fixed-variant: light-dark(#00458f, #00458f);--mat-sys-on-secondary: light-dark(#ffffff, #283041);--mat-sys-on-secondary-container: light-dark(#3e4759, #dae2f9);--mat-sys-on-secondary-fixed: light-dark(#131c2b, #131c2b);--mat-sys-on-secondary-fixed-variant: light-dark(#3e4759, #3e4759);--mat-sys-on-surface: light-dark(#1a1b1f, #e3e2e6);--mat-sys-on-surface-variant: light-dark(#44474e, #e0e2ec);--mat-sys-on-tertiary: light-dark(#ffffff, #0001ac);--mat-sys-on-tertiary-container: light-dark(#0000ef, #e0e0ff);--mat-sys-on-tertiary-fixed: light-dark(#00006e, #00006e);--mat-sys-on-tertiary-fixed-variant: light-dark(#0000ef, #0000ef);--mat-sys-outline: light-dark(#74777f, #8e9099);--mat-sys-outline-variant: light-dark(#c4c6d0, #44474e);--mat-sys-primary: light-dark(#005cbb, #abc7ff);--mat-sys-primary-container: light-dark(#d7e3ff, #00458f);--mat-sys-primary-fixed: light-dark(#d7e3ff, #d7e3ff);--mat-sys-primary-fixed-dim: light-dark(#abc7ff, #abc7ff);--mat-sys-scrim: light-dark(#000000, #000000);--mat-sys-secondary: light-dark(#565e71, #bec6dc);--mat-sys-secondary-container: light-dark(#dae2f9, #3e4759);--mat-sys-secondary-fixed: light-dark(#dae2f9, #dae2f9);--mat-sys-secondary-fixed-dim: light-dark(#bec6dc, #bec6dc);--mat-sys-shadow: light-dark(#000000, #000000);--mat-sys-surface: light-dark(#faf9fd, #121316);--mat-sys-surface-bright: light-dark(#faf9fd, #38393c);--mat-sys-surface-container: light-dark(#efedf0, #1f2022);--mat-sys-surface-container-high: light-dark(#e9e7eb, #292a2c);--mat-sys-surface-container-highest: light-dark(#e3e2e6, #343537);--mat-sys-surface-container-low: light-dark(#f4f3f6, #1a1b1f);--mat-sys-surface-container-lowest: light-dark(#ffffff, #0d0e11);--mat-sys-surface-dim: light-dark(#dbd9dd, #121316);--mat-sys-surface-tint: light-dark(#005cbb, #abc7ff);--mat-sys-surface-variant: light-dark(#e0e2ec, #44474e);--mat-sys-tertiary: light-dark(#343dff, #bec2ff);--mat-sys-tertiary-container: light-dark(#e0e0ff, #0000ef);--mat-sys-tertiary-fixed: light-dark(#e0e0ff, #e0e0ff);--mat-sys-tertiary-fixed-dim: light-dark(#bec2ff, #bec2ff);--mat-sys-neutral-variant20: #2d3038;--mat-sys-neutral10: #1a1b1f;--mat-sys-level0: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-sys-level1: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mat-sys-level2: 0px 3px 3px -2px rgba(0, 0, 0, .2), 0px 3px 4px 0px rgba(0, 0, 0, .14), 0px 1px 8px 0px rgba(0, 0, 0, .12);--mat-sys-level3: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mat-sys-level4: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mat-sys-level5: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12);--mat-sys-body-large: 400 1rem / 1.5rem Roboto;--mat-sys-body-large-font: Roboto;--mat-sys-body-large-line-height: 1.5rem;--mat-sys-body-large-size: 1rem;--mat-sys-body-large-tracking: .031rem;--mat-sys-body-large-weight: 400;--mat-sys-body-medium: 400 .875rem / 1.25rem Roboto;--mat-sys-body-medium-font: Roboto;--mat-sys-body-medium-line-height: 1.25rem;--mat-sys-body-medium-size: .875rem;--mat-sys-body-medium-tracking: .016rem;--mat-sys-body-medium-weight: 400;--mat-sys-body-small: 400 .75rem / 1rem Roboto;--mat-sys-body-small-font: Roboto;--mat-sys-body-small-line-height: 1rem;--mat-sys-body-small-size: .75rem;--mat-sys-body-small-tracking: .025rem;--mat-sys-body-small-weight: 400;--mat-sys-display-large: 400 3.562rem / 4rem Roboto;--mat-sys-display-large-font: Roboto;--mat-sys-display-large-line-height: 4rem;--mat-sys-display-large-size: 3.562rem;--mat-sys-display-large-tracking: -.016rem;--mat-sys-display-large-weight: 400;--mat-sys-display-medium: 400 2.812rem / 3.25rem Roboto;--mat-sys-display-medium-font: Roboto;--mat-sys-display-medium-line-height: 3.25rem;--mat-sys-display-medium-size: 2.812rem;--mat-sys-display-medium-tracking: 0;--mat-sys-display-medium-weight: 400;--mat-sys-display-small: 400 2.25rem / 2.75rem Roboto;--mat-sys-display-small-font: Roboto;--mat-sys-display-small-line-height: 2.75rem;--mat-sys-display-small-size: 2.25rem;--mat-sys-display-small-tracking: 0;--mat-sys-display-small-weight: 400;--mat-sys-headline-large: 400 2rem / 2.5rem Roboto;--mat-sys-headline-large-font: Roboto;--mat-sys-headline-large-line-height: 2.5rem;--mat-sys-headline-large-size: 2rem;--mat-sys-headline-large-tracking: 0;--mat-sys-headline-large-weight: 400;--mat-sys-headline-medium: 400 1.75rem / 2.25rem Roboto;--mat-sys-headline-medium-font: Roboto;--mat-sys-headline-medium-line-height: 2.25rem;--mat-sys-headline-medium-size: 1.75rem;--mat-sys-headline-medium-tracking: 0;--mat-sys-headline-medium-weight: 400;--mat-sys-headline-small: 400 1.5rem / 2rem Roboto;--mat-sys-headline-small-font: Roboto;--mat-sys-headline-small-line-height: 2rem;--mat-sys-headline-small-size: 1.5rem;--mat-sys-headline-small-tracking: 0;--mat-sys-headline-small-weight: 400;--mat-sys-label-large: 500 .875rem / 1.25rem Roboto;--mat-sys-label-large-font: Roboto;--mat-sys-label-large-line-height: 1.25rem;--mat-sys-label-large-size: .875rem;--mat-sys-label-large-tracking: .006rem;--mat-sys-label-large-weight: 500;--mat-sys-label-large-weight-prominent: 700;--mat-sys-label-medium: 500 .75rem / 1rem Roboto;--mat-sys-label-medium-font: Roboto;--mat-sys-label-medium-line-height: 1rem;--mat-sys-label-medium-size: .75rem;--mat-sys-label-medium-tracking: .031rem;--mat-sys-label-medium-weight: 500;--mat-sys-label-medium-weight-prominent: 700;--mat-sys-label-small: 500 .688rem / 1rem Roboto;--mat-sys-label-small-font: Roboto;--mat-sys-label-small-line-height: 1rem;--mat-sys-label-small-size: .688rem;--mat-sys-label-small-tracking: .031rem;--mat-sys-label-small-weight: 500;--mat-sys-title-large: 400 1.375rem / 1.75rem Roboto;--mat-sys-title-large-font: Roboto;--mat-sys-title-large-line-height: 1.75rem;--mat-sys-title-large-size: 1.375rem;--mat-sys-title-large-tracking: 0;--mat-sys-title-large-weight: 400;--mat-sys-title-medium: 500 1rem / 1.5rem Roboto;--mat-sys-title-medium-font: Roboto;--mat-sys-title-medium-line-height: 1.5rem;--mat-sys-title-medium-size: 1rem;--mat-sys-title-medium-tracking: .009rem;--mat-sys-title-medium-weight: 500;--mat-sys-title-small: 500 .875rem / 1.25rem Roboto;--mat-sys-title-small-font: Roboto;--mat-sys-title-small-line-height: 1.25rem;--mat-sys-title-small-size: .875rem;--mat-sys-title-small-tracking: .006rem;--mat-sys-title-small-weight: 500;--mat-sys-corner-extra-large: 28px;--mat-sys-corner-extra-large-top: 28px 28px 0 0;--mat-sys-corner-extra-small: 4px;--mat-sys-corner-extra-small-top: 4px 4px 0 0;--mat-sys-corner-full: 9999px;--mat-sys-corner-large: 16px;--mat-sys-corner-large-end: 0 16px 16px 0;--mat-sys-corner-large-start: 16px 0 0 16px;--mat-sys-corner-large-top: 16px 16px 0 0;--mat-sys-corner-medium: 12px;--mat-sys-corner-none: 0;--mat-sys-corner-small: 8px;--mat-sys-dragged-state-layer-opacity: .16;--mat-sys-focus-state-layer-opacity: .12;--mat-sys-hover-state-layer-opacity: .08;--mat-sys-pressed-state-layer-opacity: .12}body[_ngcontent-%COMP%]{color-scheme:dark;background-color:#050a14;color:#e2e8f0;font:var(--mat-sys-body-medium);margin:0;height:100%}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;box-sizing:border-box}.content[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 auto;overflow-x:hidden;overflow-y:auto}@keyframes _ngcontent-%COMP%_techFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.tech-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 6s ease-in-out infinite}.tech-float-delay-1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 7s ease-in-out infinite;animation-delay:1.5s}.tech-float-delay-2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 8s ease-in-out infinite;animation-delay:3s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in-scale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .6s ease-out forwards}.perspective-800[_ngcontent-%COMP%]{perspective:800px}.transform-3d[_ngcontent-%COMP%]{transform-style:preserve-3d!important}.translate-z-10[_ngcontent-%COMP%]{transform:translateZ(10px)!important}.translate-z-30[_ngcontent-%COMP%]{transform:translateZ(30px)!important}.translate-z-50[_ngcontent-%COMP%]{transform:translateZ(50px)!important}.translate-z-80[_ngcontent-%COMP%]{transform:translateZ(80px)!important}.translate-z-100[_ngcontent-%COMP%]{transform:translateZ(100px)!important}.card-glare-effect[_ngcontent-%COMP%]{position:relative;overflow:hidden;transform-style:preserve-3d}.card-glare-effect[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at var(--mx, 50%) var(--my, 50%),rgba(255,255,255,.25) 0%,transparent 50%);opacity:var(--opacity, 0);pointer-events:none;transition:opacity .3s;z-index:50}.holographic-foil[_ngcontent-%COMP%]{position:relative}.holographic-foil[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;z-index:20;pointer-events:none;background-image:linear-gradient(115deg,transparent 0%,rgba(255,100,255,.1) 30%,rgba(100,200,255,.15) 35%,rgba(100,255,100,.1) 40%,transparent 70%);background-position:var(--mx) var(--my);background-size:200% 200%;mix-blend-mode:color-dodge;opacity:var(--opacity, 0);transition:opacity .3s}.glass-panel[_ngcontent-%COMP%]{background:#0f172a99;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.08);box-shadow:0 8px 32px #0000005e}.neon-text-purple[_ngcontent-%COMP%]{text-shadow:0 0 10px rgba(168,85,247,.8),0 0 20px rgba(168,85,247,.4)}.tech-grid-bg[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(rgba(124,58,237,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(124,58,237,.05) 1px,transparent 1px);background-size:50px 50px;background-position:center center}.tech-grid-bg[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,transparent 0%,rgba(15,23,42,.7) 90%);pointer-events:none;z-index:-1}.premium-dialog-panel[_ngcontent-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%], .premium-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%], .premium-dialog-panel[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{--mdc-dialog-container-color: transparent !important;--mdc-dialog-container-elevation-shadow: none !important;background:transparent!important;box-shadow:none!important;border:none!important;padding:0!important;overflow:hidden!important;border-radius:20px!important}.floating-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 6s ease-in-out infinite}[_nghost-%COMP%]{--primary-neon: #7c3aed;--primary-glow: rgba(124, 58, 237, .4);--bg-dark: #07040a;--card-bg: rgba(15, 23, 42, .8);--border-subtle: rgba(255, 255, 255, .08)}.missions-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:#0f0714;background-image:radial-gradient(circle at 50% 50%,rgba(76,29,149,.15) 0%,transparent 50%),linear-gradient(0deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent);background-size:100% 100%,50px 50px,50px 50px;color:#e2e8f0;padding-top:100px;padding-bottom:5rem;overflow-x:hidden}.missions-page[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000008,#00ff0003,#0000ff08);background-size:100% 3px,3px 100%;pointer-events:none;z-index:1;opacity:.8}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:1300px;margin:0 auto;padding:0 2rem}.font-display[_ngcontent-%COMP%]{font-family:Outfit,sans-serif;text-shadow:0 0 20px rgba(124,58,237,.3)}.filter-panel[_ngcontent-%COMP%]{background:var(--card-bg);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-subtle);border-radius:20px;padding:1.25rem;display:flex;flex-wrap:wrap;gap:1rem;align-items:center;margin-bottom:3.5rem;box-shadow:0 10px 40px #00000080;border-top:1px solid rgba(255,255,255,.15)}.search-input-group[_ngcontent-%COMP%]{flex:2;min-width:300px;position:relative}.search-input-group[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--primary-neon);font-size:1.2rem;z-index:10;pointer-events:none;width:24px;height:24px;overflow:hidden;display:flex;align-items:center;justify-content:center}.search-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#ffffff08;border:1px solid rgba(255,255,255,.05);border-radius:12px;padding:.9rem 1rem .9rem 4.5rem;color:#fff;font-family:Outfit,sans-serif;font-size:.9rem;transition:all .3s ease}.search-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-neon);background:#7c3aed0d;box-shadow:0 0 15px #7c3aed33}.filter-select[_ngcontent-%COMP%]{flex:1;background:#ffffff08;border:1px solid rgba(255,255,255,.05);color:#cbd5e1;padding:.9rem 1.2rem;border-radius:12px;cursor:pointer;font-size:.85rem;transition:all .3s}.filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-neon)}.filter-btn[_ngcontent-%COMP%]{background:var(--primary-neon);color:#fff;border:none;padding:.9rem 2.2rem;border-radius:12px;font-weight:800;letter-spacing:.05em;text-transform:uppercase;font-size:.85rem;cursor:pointer;box-shadow:0 4px 20px #7c3aed66;transition:all .3s cubic-bezier(.4,0,.2,1)}.filter-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #7c3aed99;filter:brightness(1.1)}.missions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:2.5rem}.mission-card[_ngcontent-%COMP%]{position:relative;background:radial-gradient(circle at center,#140c2e,#070312);border:1px solid rgba(124,58,237,.2);border-radius:24px;overflow:hidden;transition:all .5s cubic-bezier(.23,1,.32,1);box-shadow:0 10px 40px #0009;transform-style:preserve-3d}.mission-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(124,58,237,.5),transparent);z-index:10}.mission-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);border-color:#7c3aed99;box-shadow:0 25px 50px #000c,0 0 30px #7c3aed33}.mission-card[_ngcontent-%COMP%]:hover   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.08)}.mission-card[_ngcontent-%COMP%]:hover   .card-glow[_ngcontent-%COMP%]{opacity:1}.holographic-sheen[_ngcontent-%COMP%]{position:relative;overflow:hidden}.holographic-sheen[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(110deg,transparent 30%,rgba(255,255,255,.1) 45%,rgba(255,255,255,.2) 50%,rgba(255,255,255,.1) 55%,transparent 70%);background-size:200% 100%;animation:_ngcontent-%COMP%_holoMove 4s linear infinite;pointer-events:none;z-index:5}@keyframes _ngcontent-%COMP%_holoMove{0%{background-position:200% 0}to{background-position:-200% 0}}.card-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 50% 0%,rgba(124,58,237,.15),transparent 70%);pointer-events:none;opacity:0;transition:opacity .5s;z-index:1}.card-image[_ngcontent-%COMP%]{height:180px;overflow:hidden;position:relative}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .8s cubic-bezier(.23,1,.32,1)}.category-tag[_ngcontent-%COMP%]{position:absolute;top:1.25rem;left:1.25rem;background:#0009;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.1);color:var(--primary-neon);font-size:.7rem;font-weight:800;text-transform:uppercase;letter-spacing:.15em;padding:.4rem .9rem;border-radius:8px;z-index:5}.status-badge[_ngcontent-%COMP%]{position:absolute;bottom:1.25rem;right:1.25rem;font-size:.75rem;font-weight:900;text-transform:uppercase;letter-spacing:.1em;z-index:5;background:#0006;padding:.2rem .6rem;border-radius:4px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.status-badge[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:6px;height:6px;border-radius:50%;margin-right:6px;vertical-align:middle}.status-badge.Open[_ngcontent-%COMP%]{color:#4ade80}.status-badge.Open[_ngcontent-%COMP%]:before{background:#4ade80;box-shadow:0 0 10px #4ade80}.status-badge.InProgress[_ngcontent-%COMP%]{color:#facc15}.status-badge.InProgress[_ngcontent-%COMP%]:before{background:#facc15;box-shadow:0 0 10px #facc15}.status-badge.Completed[_ngcontent-%COMP%]{color:#60a5fa}.status-badge.Completed[_ngcontent-%COMP%]:before{background:#60a5fa;box-shadow:0 0 10px #60a5fa}.status-badge.Failed[_ngcontent-%COMP%]{color:#f87171}.status-badge.Failed[_ngcontent-%COMP%]:before{background:#f87171;box-shadow:0 0 10px #f87171}.card-content[_ngcontent-%COMP%]{padding:1.25rem 1.75rem 1.75rem}.mission-name[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:800;color:#fff;margin-bottom:1rem;letter-spacing:-.02em}.mission-desc[_ngcontent-%COMP%]{color:#94a3b8;font-size:.9rem;line-height:1.6;margin-bottom:1.75rem;height:2.8em;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.card-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;border-top:1px solid rgba(255,255,255,.05);padding-top:1.25rem;margin-bottom:1.75rem}.stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.8rem;color:#94a3b8;font-weight:600}.stat[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--primary-neon)}.card-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.btn-view[_ngcontent-%COMP%], .btn-join[_ngcontent-%COMP%]{padding:.85rem;border-radius:12px;font-size:.75rem;font-weight:800;text-transform:uppercase;letter-spacing:.08em;cursor:pointer;transition:all .3s}.btn-view[_ngcontent-%COMP%]{background:#ffffff08;border:1px solid rgba(255,255,255,.08);color:#fff}.btn-view[_ngcontent-%COMP%]:hover{background:#ffffff14;border-color:#ffffff4d}.btn-join[_ngcontent-%COMP%]{background:var(--primary-neon);color:#fff;border:none;box-shadow:0 4px 15px #7c3aed4d}.btn-join[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 8px 20px #7c3aed80;transform:translateY(-2px)}.btn-join[_ngcontent-%COMP%]:disabled{background:#1e293b;color:#64748b;cursor:not-allowed;box-shadow:none}.empty-state[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;padding:6rem 2rem;background:#0f172a33;border:1px dashed rgba(255,255,255,.1);border-radius:32px}.empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:5rem;background:linear-gradient(135deg,var(--primary-neon),transparent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1.5rem;opacity:.4}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-weight:700;letter-spacing:.1em;text-transform:uppercase}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#7c3aed33;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7c3aed66}.img-scanlines[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#fff0,#fff0 50%,#0006 50%,#0006);background-size:100% 4px;pointer-events:none;z-index:4;opacity:.6}.astra-card[_ngcontent-%COMP%]{position:relative;border-radius:24px;background:radial-gradient(circle at center,#140c2e,#070312);display:flex;flex-direction:column;overflow:hidden;backface-visibility:hidden;transition:all .5s cubic-bezier(.4,0,.2,1);box-shadow:0 10px 40px #0009;height:100%}.astra-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 25px 50px #000c,0 0 30px #7c3aed33}.astra-card[_ngcontent-%COMP%]:hover   .astra-frame[_ngcontent-%COMP%]{box-shadow:0 0 30px #7c3aed66;background:linear-gradient(120deg,var(--primary-neon),#fff,var(--primary-neon));background-size:200% 200%}.astra-frame[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:24px;padding:1px;background:linear-gradient(120deg,#7c3aed4d,#ffffff1a,#7c3aed4d);background-size:200% 200%;animation:_ngcontent-%COMP%_borderFlow 4s linear infinite;mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;z-index:10;transition:all .5s ease}.astra-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:24px;background:#0f071a99;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;flex-direction:column;z-index:1}@keyframes _ngcontent-%COMP%_borderFlow{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.tech-corners[_ngcontent-%COMP%]:before, .tech-corners[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;border:2px solid rgba(124,58,237,.5);pointer-events:none;transition:all .3s ease;z-index:20}.tech-corners[_ngcontent-%COMP%]:before{top:12px;left:12px;border-right:none;border-bottom:none;border-top-left-radius:6px}.tech-corners[_ngcontent-%COMP%]:after{bottom:12px;right:12px;border-left:none;border-top:none;border-bottom-right-radius:6px}.scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--primary-neon),transparent);animation:_ngcontent-%COMP%_scanVertical 3s linear infinite;opacity:.5;pointer-events:none;z-index:5;box-shadow:0 0 10px var(--primary-neon)}@keyframes _ngcontent-%COMP%_scanVertical{0%{top:-10%;opacity:0}10%{opacity:1}90%{opacity:1}to{top:110%;opacity:0}}']})};var We=class n{_data=m(Ln,{optional:!0});addMission={name:this._data?.name||"",description:this._data?.description||"",category:this._data?.category||"",max_crew:this._data?.max_crew||5};_dialogRef=m(lt);onSubmit(){let t=this.clean(this.addMission);this._dialogRef.close(t)}clean(t){let e=t.max_crew||5;return e<2&&(e=2),e>10&&(e=10),{name:t.name.trim()||"untitled",description:t.description?.trim()||void 0,category:t.category?.trim()||void 0,max_crew:e}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-new-mission"]],decls:25,vars:5,consts:[["mat-dialog-title",""],["type","text","placeholder","Mission Name",3,"ngModelChange","ngModel"],["placeholder","Mission Description",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],["value","Game"],["value","General"],["value","Sport"],["value","Work"],[2,"margin-bottom","1rem"],["for","max_crew"],["id","max_crew","type","number","min","2","max","10","placeholder","Max Crew",3,"ngModelChange","ngModel"],["matButton","","mat-dialog-close",""],["mat-stroked-button","","type","submit",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"h4",0),s(1,"New Mission"),a(),r(2,"mat-dialog-content")(3,"input",1),fe("ngModelChange",function(l){return pe(i.addMission.name,l)||(i.addMission.name=l),l}),a(),r(4,"textarea",2),fe("ngModelChange",function(l){return pe(i.addMission.description,l)||(i.addMission.description=l),l}),a(),r(5,"select",3),fe("ngModelChange",function(l){return pe(i.addMission.category,l)||(i.addMission.category=l),l}),r(6,"option",4),s(7,"-- Select Category --"),a(),r(8,"option",5),s(9,"Game"),a(),r(10,"option",6),s(11,"General"),a(),r(12,"option",7),s(13,"Sport"),a(),r(14,"option",8),s(15,"Work"),a()(),r(16,"div",9)(17,"label",10),s(18,"Crew Capacity (2-10):"),a(),r(19,"input",11),fe("ngModelChange",function(l){return pe(i.addMission.max_crew,l)||(i.addMission.max_crew=l),l}),a()(),r(20,"mat-dialog-actions")(21,"button",12),s(22,"Cancel"),a(),r(23,"button",13),M("click",function(){return i.onSubmit()}),s(24," Create"),a()()()),e&2&&(c(3),me("ngModel",i.addMission.name),c(),me("ngModel",i.addMission.description),c(),me("ngModel",i.addMission.category),c(14),me("ngModel",i.addMission.max_crew),c(4),w("disabled",!i.addMission.name))},dependencies:[ct,dt,mt,De,ft,Ae,ot,st,Te,An,at,ze,Bn,Un,rt],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#f0f4f8;border:1px solid transparent;border-radius:8px;margin-bottom:1rem;font-family:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2;background:#fff}textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}mat-dialog-content[_ngcontent-%COMP%]{min-width:300px;padding-top:1rem!important}"]})};var be=class n{constructor(t){this.zone=t;this.connect(),Qe(()=>{this.passportService.data()?this.connect():this.disconnect()})}eventSource;notificationSubject=new rn;notifications$=this.notificationSubject.asObservable();passportService=m(j);showLocalNotification(t){this.zone.run(()=>{this.notificationSubject.next(t)})}connect(){if(this.eventSource&&this.eventSource.close(),typeof EventSource<"u"){let t=this.passportService.data()?.token;if(console.log("[NotificationService] Connecting with token:",t?"YES":"NO"),!t)return;let e=`${it.baseUrl}/api/notifications/events?token=${t}`;console.log("[NotificationService] URL:",e),this.eventSource=new EventSource(e),this.eventSource.onopen=i=>{console.log("[NotificationService] Connection opened")},this.eventSource.onmessage=i=>{console.log("[NotificationService] Message received:",i.data),this.zone.run(()=>{try{let o=JSON.parse(i.data),l={title:o.title,message:o.message,type:o.notification_type,metadata:o.metadata};console.log("[NotificationService] Emitting notification:",l),this.notificationSubject.next(l)}catch(o){console.error("[NotificationService] Error parsing notification",o)}})},this.eventSource.onerror=i=>{console.error("[NotificationService] EventSource error:",i),this.eventSource?.readyState===EventSource.CLOSED&&console.log("[NotificationService] Connection closed")}}}disconnect(){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0)}static \u0275fac=function(e){return new(e||n)(cn(mn))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var na=(n,t)=>t.id;function ia(n,t){n&1&&X(0,"div",13)}function ra(n,t){if(n&1){let e=D();x(0,"div",11),Vt("click",function(){let o=S(e).$implicit,l=f(2);return E(l.navigateToMission(o.id))}),x(1,"div",12),b(2,ia,1,0,"div",13),x(3,"span",14),s(4),u()(),x(5,"div",15)(6,"span",16),s(7),u()(),x(8,"div",17),s(9),u(),x(10,"div",18),s(11),u(),x(12,"div",19)(13,"span",20),s(14),u()(),x(15,"div",21),s(16),u(),x(17,"div",22)(18,"span",23),s(19),u()(),x(20,"div",24)(21,"span",5),s(22,"chevron_right"),u()()()}if(n&2){let e=t.$implicit,i=f(2);c(2),_(i.hasJoinAlert(e.id)?2:-1),c(2),v(e.name),c(2),ce("chief",e.chief_id===i.passport.userId())("member",e.chief_id!==i.passport.userId()),c(),y(" ",e.chief_id===i.passport.userId()?"CHIEF":"MEMBER"," "),c(2),y(" ",e.chief_display_name," "),c(2),y(" ",e.description||"No classified intelligence available."," "),c(3),v(e.category||"General"),c(2),de(" ",e.crew_count," / ",e.max_crew||5," "),c(2),Ke(e.status),c(),y(" ",e.status," ")}}function aa(n,t){if(n&1&&(x(0,"div",8)(1,"span"),s(2,"Protocol Name"),u(),x(3,"span"),s(4,"Access Level"),u(),x(5,"span"),s(6,"Operative"),u(),x(7,"span"),s(8,"Briefing"),u(),x(9,"span"),s(10,"Sector"),u(),x(11,"span"),s(12,"Unit Capacity"),u(),x(13,"span"),s(14,"Status"),u(),X(15,"span"),u(),x(16,"div",9),L(17,ra,23,15,"div",10,na),U(19,"async"),u()),n&2){let e=f();c(17),N($(19,0,e.myMissions$))}}function oa(n,t){n&1&&(x(0,"div",7)(1,"span",25),s(2,"leaderboard"),u(),x(3,"p",26),s(4,"No active deployments found."),u()())}var zt=class n{_mission=m(oe);_dialog=m(Ie);passport=m(j);_missionsSubject=new te([]);myMissions$=this._missionsSubject.asObservable();_notification=m(be);_router=m(W);joinAlerts=new Set;constructor(){this.loadMyMission(),this._notification.notifications$.subscribe(t=>{t.type==="JoinMission"&&t.metadata?.mission_id&&this.joinAlerts.add(Number(t.metadata.mission_id))})}async loadMyMission(){try{let[t,e]=await Promise.all([this._mission.getMyMissions(),this._mission.getJoinedMissions()]),i=new Map;t.forEach(l=>i.set(l.id,l)),e.forEach(l=>i.set(l.id,l));let o=Array.from(i.values());o.sort((l,d)=>new Date(d.updated_at).getTime()-new Date(l.updated_at).getTime()),this._missionsSubject.next(o)}catch(t){console.error("Failed to load missions",t)}}navigateToMission(t){this.joinAlerts.delete(t),this._router.navigate(["/chief/mission",t])}hasJoinAlert(t){return this.joinAlerts.has(t)}clearJoinAlert(t){this.joinAlerts.delete(t)}openDialog(){let t=this.passport.data()?.display_name||"unnamed";this._dialog.open(We).afterClosed().subscribe(async i=>{if(i){let o=await this._mission.add(i),l=new Date,d={id:o,name:i.name,description:i.description,category:i.category,max_crew:i.max_crew||5,status:"Open",chief_id:0,chief_display_name:t,crew_count:0,created_at:l,updated_at:l},k=this._missionsSubject.value;this._missionsSubject.next([...k,d])}})}openEditDialog(t){this._dialog.open(We,{data:{name:t.name,description:t.description,category:t.category,max_crew:t.max_crew}}).afterClosed().subscribe(async i=>{if(i)try{await this._mission.edit(t.id,i);let o=this._missionsSubject.value,l=o.findIndex(d=>d.id===t.id);l!==-1&&(o[l]=q(q({},o[l]),i),this._missionsSubject.next([...o]))}catch(o){alert(o?.error?.message??o?.error??"Edit failed")}})}async deleteMission(t){if(confirm("Are you sure you want to delete this mission?"))try{await this._mission.delete(t);let e=this._missionsSubject.value.filter(i=>i.id!==t);this._missionsSubject.next(e)}catch(e){alert(e?.error?.message??e?.error??"Delete failed")}}async startMission(t){if(confirm("Start this mission?"))try{await this._mission.startMission(t),await this.loadMyMission()}catch(e){alert(e?.error?.message??e?.error??"Start mission failed")}}async completeMission(t){if(confirm("Complete this mission?"))try{await this._mission.completeMission(t),await this.loadMyMission()}catch(e){alert(e?.error?.message??e?.error??"Complete mission failed")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-mission-manager"]],decls:17,vars:3,consts:[[1,"mission-manager-page"],[1,"manager-container"],[1,"manager-header"],[1,"title-group"],[1,"new-mission-btn",3,"click"],[1,"material-symbols-outlined"],[1,"mission-manager-list","floating-container"],[1,"p-20","text-center"],[1,"header-row"],[1,"mission-rows-container"],[1,"mission-row","group"],[1,"mission-row","group",3,"click"],[1,"name-cell"],["title","New deployment request",1,"alert-dot"],[1,"mission-name"],[1,"role-cell"],[1,"role-badge"],[1,"chief-cell"],[1,"desc-cell"],[1,"category-cell"],[1,"category-badge"],[1,"crew-cell"],[1,"status-cell"],[1,"status-badge"],[1,"action-cell"],[1,"material-symbols-outlined","text-6xl","text-slate-800","mb-4"],[1,"text-slate-500","font-bold","uppercase","tracking-widest"]],template:function(e,i){if(e&1&&(x(0,"div",0)(1,"div",1)(2,"header",2)(3,"div",3)(4,"p"),s(5,"Strategic Intelligence"),u(),x(6,"h1"),s(7,"Mission Control"),u()(),x(8,"button",4),Vt("click",function(){return i.openDialog()}),x(9,"span",5),s(10,"add_circle"),u(),x(11,"span"),s(12,"Initialize Protocol"),u()()(),x(13,"div",6),b(14,aa,20,2),U(15,"async"),Oe(16,oa,5,0,"div",7),u()()()),e&2){let o;c(14),_((o=$(15,1,i.myMissions$))!=null&&o.length?14:16)}},dependencies:[Rn,De,pt,ie],styles:['@tailwind base;@tailwind components;@tailwind utilities;html[_ngcontent-%COMP%]{height:100%;--mat-sys-background: light-dark(#faf9fd, #121316);--mat-sys-error: light-dark(#ba1a1a, #ffb4ab);--mat-sys-error-container: light-dark(#ffdad6, #93000a);--mat-sys-inverse-on-surface: light-dark(#f2f0f4, #2f3033);--mat-sys-inverse-primary: light-dark(#abc7ff, #005cbb);--mat-sys-inverse-surface: light-dark(#2f3033, #e3e2e6);--mat-sys-on-background: light-dark(#1a1b1f, #e3e2e6);--mat-sys-on-error: light-dark(#ffffff, #690005);--mat-sys-on-error-container: light-dark(#93000a, #ffdad6);--mat-sys-on-primary: light-dark(#ffffff, #002f65);--mat-sys-on-primary-container: light-dark(#00458f, #d7e3ff);--mat-sys-on-primary-fixed: light-dark(#001b3f, #001b3f);--mat-sys-on-primary-fixed-variant: light-dark(#00458f, #00458f);--mat-sys-on-secondary: light-dark(#ffffff, #283041);--mat-sys-on-secondary-container: light-dark(#3e4759, #dae2f9);--mat-sys-on-secondary-fixed: light-dark(#131c2b, #131c2b);--mat-sys-on-secondary-fixed-variant: light-dark(#3e4759, #3e4759);--mat-sys-on-surface: light-dark(#1a1b1f, #e3e2e6);--mat-sys-on-surface-variant: light-dark(#44474e, #e0e2ec);--mat-sys-on-tertiary: light-dark(#ffffff, #0001ac);--mat-sys-on-tertiary-container: light-dark(#0000ef, #e0e0ff);--mat-sys-on-tertiary-fixed: light-dark(#00006e, #00006e);--mat-sys-on-tertiary-fixed-variant: light-dark(#0000ef, #0000ef);--mat-sys-outline: light-dark(#74777f, #8e9099);--mat-sys-outline-variant: light-dark(#c4c6d0, #44474e);--mat-sys-primary: light-dark(#005cbb, #abc7ff);--mat-sys-primary-container: light-dark(#d7e3ff, #00458f);--mat-sys-primary-fixed: light-dark(#d7e3ff, #d7e3ff);--mat-sys-primary-fixed-dim: light-dark(#abc7ff, #abc7ff);--mat-sys-scrim: light-dark(#000000, #000000);--mat-sys-secondary: light-dark(#565e71, #bec6dc);--mat-sys-secondary-container: light-dark(#dae2f9, #3e4759);--mat-sys-secondary-fixed: light-dark(#dae2f9, #dae2f9);--mat-sys-secondary-fixed-dim: light-dark(#bec6dc, #bec6dc);--mat-sys-shadow: light-dark(#000000, #000000);--mat-sys-surface: light-dark(#faf9fd, #121316);--mat-sys-surface-bright: light-dark(#faf9fd, #38393c);--mat-sys-surface-container: light-dark(#efedf0, #1f2022);--mat-sys-surface-container-high: light-dark(#e9e7eb, #292a2c);--mat-sys-surface-container-highest: light-dark(#e3e2e6, #343537);--mat-sys-surface-container-low: light-dark(#f4f3f6, #1a1b1f);--mat-sys-surface-container-lowest: light-dark(#ffffff, #0d0e11);--mat-sys-surface-dim: light-dark(#dbd9dd, #121316);--mat-sys-surface-tint: light-dark(#005cbb, #abc7ff);--mat-sys-surface-variant: light-dark(#e0e2ec, #44474e);--mat-sys-tertiary: light-dark(#343dff, #bec2ff);--mat-sys-tertiary-container: light-dark(#e0e0ff, #0000ef);--mat-sys-tertiary-fixed: light-dark(#e0e0ff, #e0e0ff);--mat-sys-tertiary-fixed-dim: light-dark(#bec2ff, #bec2ff);--mat-sys-neutral-variant20: #2d3038;--mat-sys-neutral10: #1a1b1f;--mat-sys-level0: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-sys-level1: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mat-sys-level2: 0px 3px 3px -2px rgba(0, 0, 0, .2), 0px 3px 4px 0px rgba(0, 0, 0, .14), 0px 1px 8px 0px rgba(0, 0, 0, .12);--mat-sys-level3: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mat-sys-level4: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mat-sys-level5: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12);--mat-sys-body-large: 400 1rem / 1.5rem Roboto;--mat-sys-body-large-font: Roboto;--mat-sys-body-large-line-height: 1.5rem;--mat-sys-body-large-size: 1rem;--mat-sys-body-large-tracking: .031rem;--mat-sys-body-large-weight: 400;--mat-sys-body-medium: 400 .875rem / 1.25rem Roboto;--mat-sys-body-medium-font: Roboto;--mat-sys-body-medium-line-height: 1.25rem;--mat-sys-body-medium-size: .875rem;--mat-sys-body-medium-tracking: .016rem;--mat-sys-body-medium-weight: 400;--mat-sys-body-small: 400 .75rem / 1rem Roboto;--mat-sys-body-small-font: Roboto;--mat-sys-body-small-line-height: 1rem;--mat-sys-body-small-size: .75rem;--mat-sys-body-small-tracking: .025rem;--mat-sys-body-small-weight: 400;--mat-sys-display-large: 400 3.562rem / 4rem Roboto;--mat-sys-display-large-font: Roboto;--mat-sys-display-large-line-height: 4rem;--mat-sys-display-large-size: 3.562rem;--mat-sys-display-large-tracking: -.016rem;--mat-sys-display-large-weight: 400;--mat-sys-display-medium: 400 2.812rem / 3.25rem Roboto;--mat-sys-display-medium-font: Roboto;--mat-sys-display-medium-line-height: 3.25rem;--mat-sys-display-medium-size: 2.812rem;--mat-sys-display-medium-tracking: 0;--mat-sys-display-medium-weight: 400;--mat-sys-display-small: 400 2.25rem / 2.75rem Roboto;--mat-sys-display-small-font: Roboto;--mat-sys-display-small-line-height: 2.75rem;--mat-sys-display-small-size: 2.25rem;--mat-sys-display-small-tracking: 0;--mat-sys-display-small-weight: 400;--mat-sys-headline-large: 400 2rem / 2.5rem Roboto;--mat-sys-headline-large-font: Roboto;--mat-sys-headline-large-line-height: 2.5rem;--mat-sys-headline-large-size: 2rem;--mat-sys-headline-large-tracking: 0;--mat-sys-headline-large-weight: 400;--mat-sys-headline-medium: 400 1.75rem / 2.25rem Roboto;--mat-sys-headline-medium-font: Roboto;--mat-sys-headline-medium-line-height: 2.25rem;--mat-sys-headline-medium-size: 1.75rem;--mat-sys-headline-medium-tracking: 0;--mat-sys-headline-medium-weight: 400;--mat-sys-headline-small: 400 1.5rem / 2rem Roboto;--mat-sys-headline-small-font: Roboto;--mat-sys-headline-small-line-height: 2rem;--mat-sys-headline-small-size: 1.5rem;--mat-sys-headline-small-tracking: 0;--mat-sys-headline-small-weight: 400;--mat-sys-label-large: 500 .875rem / 1.25rem Roboto;--mat-sys-label-large-font: Roboto;--mat-sys-label-large-line-height: 1.25rem;--mat-sys-label-large-size: .875rem;--mat-sys-label-large-tracking: .006rem;--mat-sys-label-large-weight: 500;--mat-sys-label-large-weight-prominent: 700;--mat-sys-label-medium: 500 .75rem / 1rem Roboto;--mat-sys-label-medium-font: Roboto;--mat-sys-label-medium-line-height: 1rem;--mat-sys-label-medium-size: .75rem;--mat-sys-label-medium-tracking: .031rem;--mat-sys-label-medium-weight: 500;--mat-sys-label-medium-weight-prominent: 700;--mat-sys-label-small: 500 .688rem / 1rem Roboto;--mat-sys-label-small-font: Roboto;--mat-sys-label-small-line-height: 1rem;--mat-sys-label-small-size: .688rem;--mat-sys-label-small-tracking: .031rem;--mat-sys-label-small-weight: 500;--mat-sys-title-large: 400 1.375rem / 1.75rem Roboto;--mat-sys-title-large-font: Roboto;--mat-sys-title-large-line-height: 1.75rem;--mat-sys-title-large-size: 1.375rem;--mat-sys-title-large-tracking: 0;--mat-sys-title-large-weight: 400;--mat-sys-title-medium: 500 1rem / 1.5rem Roboto;--mat-sys-title-medium-font: Roboto;--mat-sys-title-medium-line-height: 1.5rem;--mat-sys-title-medium-size: 1rem;--mat-sys-title-medium-tracking: .009rem;--mat-sys-title-medium-weight: 500;--mat-sys-title-small: 500 .875rem / 1.25rem Roboto;--mat-sys-title-small-font: Roboto;--mat-sys-title-small-line-height: 1.25rem;--mat-sys-title-small-size: .875rem;--mat-sys-title-small-tracking: .006rem;--mat-sys-title-small-weight: 500;--mat-sys-corner-extra-large: 28px;--mat-sys-corner-extra-large-top: 28px 28px 0 0;--mat-sys-corner-extra-small: 4px;--mat-sys-corner-extra-small-top: 4px 4px 0 0;--mat-sys-corner-full: 9999px;--mat-sys-corner-large: 16px;--mat-sys-corner-large-end: 0 16px 16px 0;--mat-sys-corner-large-start: 16px 0 0 16px;--mat-sys-corner-large-top: 16px 16px 0 0;--mat-sys-corner-medium: 12px;--mat-sys-corner-none: 0;--mat-sys-corner-small: 8px;--mat-sys-dragged-state-layer-opacity: .16;--mat-sys-focus-state-layer-opacity: .12;--mat-sys-hover-state-layer-opacity: .08;--mat-sys-pressed-state-layer-opacity: .12}body[_ngcontent-%COMP%]{color-scheme:dark;background-color:#050a14;color:#e2e8f0;font:var(--mat-sys-body-medium);margin:0;height:100%}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;box-sizing:border-box}.content[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 auto;overflow-x:hidden;overflow-y:auto}@keyframes _ngcontent-%COMP%_techFloat{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.tech-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 6s ease-in-out infinite}.tech-float-delay-1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 7s ease-in-out infinite;animation-delay:1.5s}.tech-float-delay-2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 8s ease-in-out infinite;animation-delay:3s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in-scale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .6s ease-out forwards}.perspective-800[_ngcontent-%COMP%]{perspective:800px}.transform-3d[_ngcontent-%COMP%]{transform-style:preserve-3d!important}.translate-z-10[_ngcontent-%COMP%]{transform:translateZ(10px)!important}.translate-z-30[_ngcontent-%COMP%]{transform:translateZ(30px)!important}.translate-z-50[_ngcontent-%COMP%]{transform:translateZ(50px)!important}.translate-z-80[_ngcontent-%COMP%]{transform:translateZ(80px)!important}.translate-z-100[_ngcontent-%COMP%]{transform:translateZ(100px)!important}.card-glare-effect[_ngcontent-%COMP%]{position:relative;overflow:hidden;transform-style:preserve-3d}.card-glare-effect[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at var(--mx, 50%) var(--my, 50%),rgba(255,255,255,.25) 0%,transparent 50%);opacity:var(--opacity, 0);pointer-events:none;transition:opacity .3s;z-index:50}.holographic-foil[_ngcontent-%COMP%]{position:relative}.holographic-foil[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;z-index:20;pointer-events:none;background-image:linear-gradient(115deg,transparent 0%,rgba(255,100,255,.1) 30%,rgba(100,200,255,.15) 35%,rgba(100,255,100,.1) 40%,transparent 70%);background-position:var(--mx) var(--my);background-size:200% 200%;mix-blend-mode:color-dodge;opacity:var(--opacity, 0);transition:opacity .3s}.glass-panel[_ngcontent-%COMP%]{background:#0f172a99;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.08);box-shadow:0 8px 32px #0000005e}.neon-text-purple[_ngcontent-%COMP%]{text-shadow:0 0 10px rgba(168,85,247,.8),0 0 20px rgba(168,85,247,.4)}.tech-grid-bg[_ngcontent-%COMP%]{position:relative;background-image:linear-gradient(rgba(124,58,237,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(124,58,237,.05) 1px,transparent 1px);background-size:50px 50px;background-position:center center}.tech-grid-bg[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,transparent 0%,rgba(15,23,42,.7) 90%);pointer-events:none;z-index:-1}.premium-dialog-panel[_ngcontent-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%], .premium-dialog-panel[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%], .premium-dialog-panel[_ngcontent-%COMP%]   .mdc-dialog__surface[_ngcontent-%COMP%]{--mdc-dialog-container-color: transparent !important;--mdc-dialog-container-elevation-shadow: none !important;background:transparent!important;box-shadow:none!important;border:none!important;padding:0!important;overflow:hidden!important;border-radius:20px!important}.floating-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_techFloat 6s ease-in-out infinite}[_nghost-%COMP%]{--primary-neon: #7c3aed;--primary-glow: rgba(124, 58, 237, .4);--bg-dark: #07040a}.mission-manager-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:#0f0714;background-image:radial-gradient(circle at 50% 50%,rgba(76,29,149,.15) 0%,transparent 50%),linear-gradient(0deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent);background-size:100% 100%,50px 50px,50px 50px;color:#e2e8f0;padding-top:100px;padding-bottom:5rem;overflow-x:hidden}.mission-manager-page[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000008,#00ff0003,#0000ff08);background-size:100% 3px,3px 100%;pointer-events:none;z-index:1;opacity:.8}.manager-container[_ngcontent-%COMP%]{position:relative;z-index:10;max-width:1300px;margin:0 auto;padding:0 2rem}.manager-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:3rem}.manager-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Outfit,sans-serif;font-size:3rem;font-weight:900;letter-spacing:.1em;text-transform:uppercase;text-shadow:0 0 20px rgba(124,58,237,.4);margin-bottom:.5rem}.manager-header[_ngcontent-%COMP%]   .title-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:.75rem;text-transform:uppercase;letter-spacing:.3em;font-weight:700}.new-mission-btn[_ngcontent-%COMP%]{background:var(--primary-neon);color:#fff;padding:1rem 2rem;border-radius:12px;font-weight:800;letter-spacing:.1em;text-transform:uppercase;font-size:.85rem;box-shadow:0 4px 20px #7c3aed66;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:.75rem}.new-mission-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 30px #7c3aed99;filter:brightness(1.1)}.new-mission-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.25rem;width:1.25rem;height:1.25rem}.mission-manager-list[_ngcontent-%COMP%]{background:#0f172a99;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.08);border-radius:24px;overflow:hidden;box-shadow:0 20px 50px #00000080;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.mission-manager-list[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 2.5fr 1fr 1fr 1.5fr .5fr;padding:1.5rem 2rem;background:#ffffff08;border-bottom:1px solid rgba(255,255,255,.05);color:#64748b;font-size:.65rem;font-weight:900;text-transform:uppercase;letter-spacing:.2em}.mission-manager-list[_ngcontent-%COMP%]   .mission-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr 1fr 2.5fr 1fr 1fr 1.5fr .5fr;padding:1.25rem 2rem;align-items:center;border-bottom:1px solid rgba(255,255,255,.05);transition:all .3s;cursor:pointer;position:relative}.mission-manager-list[_ngcontent-%COMP%]   .mission-row[_ngcontent-%COMP%]:hover{background:#ffffff08}.mission-manager-list[_ngcontent-%COMP%]   .mission-row[_ngcontent-%COMP%]:hover   .name-cell[_ngcontent-%COMP%]   .mission-name[_ngcontent-%COMP%]{color:var(--primary-neon)}.mission-manager-list[_ngcontent-%COMP%]   .mission-row[_ngcontent-%COMP%]:hover   .action-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:translate(5px);color:var(--primary-neon)}.mission-manager-list[_ngcontent-%COMP%]   .mission-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.name-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.name-cell[_ngcontent-%COMP%]   .alert-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#f87171;border-radius:50%;box-shadow:0 0 10px #f87171;animation:_ngcontent-%COMP%_pulse 2s infinite}.name-cell[_ngcontent-%COMP%]   .mission-name[_ngcontent-%COMP%]{font-weight:800;color:#fff;font-size:1rem;transition:color .3s}.role-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:6px;font-size:.65rem;font-weight:900;text-transform:uppercase;letter-spacing:.1em;width:fit-content}.role-badge.chief[_ngcontent-%COMP%]{background:#eab3081a;color:#f59e0b;border:1px solid rgba(234,179,8,.2)}.role-badge.member[_ngcontent-%COMP%]{background:#94a3b81a;color:#94a3b8;border:1px solid rgba(148,163,184,.2)}.chief-cell[_ngcontent-%COMP%]{font-size:.85rem;color:#e2e8f0;font-weight:600}.desc-cell[_ngcontent-%COMP%]{font-size:.8rem;color:#94a3b8;max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.category-badge[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;color:var(--primary-neon);text-transform:uppercase;letter-spacing:.1em}.crew-cell[_ngcontent-%COMP%]{font-family:Mono,monospace;font-size:.85rem;color:#e2e8f0}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:6px;font-size:.65rem;font-weight:900;text-transform:uppercase;display:inline-flex;align-items:center;gap:.5rem}.status-badge[_ngcontent-%COMP%]:before{content:"";width:4px;height:4px;border-radius:50%}.status-badge.Open[_ngcontent-%COMP%]{color:#4ade80;background:#4ade801a}.status-badge.Open[_ngcontent-%COMP%]:before{background:#4ade80;box-shadow:0 0 8px #4ade80}.status-badge.InProgress[_ngcontent-%COMP%]{color:#facc15;background:#facc151a}.status-badge.InProgress[_ngcontent-%COMP%]:before{background:#facc15;box-shadow:0 0 8px #facc15}.status-badge.Completed[_ngcontent-%COMP%]{color:#60a5fa;background:#60a5fa1a}.status-badge.Completed[_ngcontent-%COMP%]:before{background:#60a5fa;box-shadow:0 0 8px #60a5fa}.action-cell[_ngcontent-%COMP%]{text-align:right;display:flex;justify-content:flex-end;align-items:center}.action-cell[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:1.25rem;color:#334155;transition:all .3s;display:inline-block;width:24px;height:24px;line-height:normal;overflow:hidden}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.3);opacity:.5}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-15px)}}@media(max-width:1024px){.mission-manager-list[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%], .mission-manager-list[_ngcontent-%COMP%]   .mission-row[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr 1fr 2fr 1fr .5fr}.mission-manager-list[_ngcontent-%COMP%]   .desc-cell[_ngcontent-%COMP%], .mission-manager-list[_ngcontent-%COMP%]   .crew-cell[_ngcontent-%COMP%]{display:none}}']})};var sa=n=>["/mission-chat",n],la=(n,t)=>t.id;function ca(n,t){if(n&1){let e=D();r(0,"div",10)(1,"span",3),s(2),a(),r(3,"span",4),s(4),a(),r(5,"span",3),s(6),a(),r(7,"span",5),s(8),a(),r(9,"span",6),s(10),a(),r(11,"span",7),s(12),U(13,"date"),a(),r(14,"span",8),s(15),U(16,"date"),a(),r(17,"div",11)(18,"button",12),s(19,"Chat"),a(),r(20,"button",13),M("click",function(){let o=S(e).$implicit,l=f(2);return E(l.leaveMission(o.id))}),s(21,"Leave"),a()()()}if(n&2){let e=t.$implicit;c(2),v(e.name),c(2),v(e.description),c(2),v(e.chief_display_name),c(2),v(e.crew_count),c(2),v(e.status),c(2),v(ge(13,8,e.created_at,"short")),c(3),v(ge(16,11,e.updated_at,"short")),c(3),w("routerLink",xn(14,sa,e.id))}}function da(n,t){if(n&1&&(r(0,"div",2)(1,"span",3),s(2,"Name"),a(),r(3,"span",4),s(4,"Description"),a(),r(5,"span",3),s(6,"Chief"),a(),r(7,"span",5),s(8,"Number of Crew"),a(),r(9,"span",6),s(10,"Status"),a(),r(11,"span",7),s(12,"Created at"),a(),r(13,"span",8),s(14,"Updated at"),a(),r(15,"span",9),s(16,"Actions"),a()(),L(17,ca,22,16,"div",10,la),U(19,"async")),n&2){let e=f();c(17),N($(19,0,e.missions$))}}function ma(n,t){n&1&&(r(0,"p",1),s(1,"You have not joined any missions yet."),a())}var At=class n{_mission=m(oe);_missionsSubject=new te([]);missions$=this._missionsSubject.asObservable();constructor(){this.loadMissions()}async loadMissions(){try{let t=await this._mission.getJoinedMissions();this._missionsSubject.next(t)}catch(t){console.error(t)}}async leaveMission(t){if(confirm("Are you sure you want to leave this mission?"))try{await this._mission.leaveMission(t),await this.loadMissions()}catch(e){alert(e?.error?.message??e?.error??"Leave failed")}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-joined-missions"]],decls:4,vars:3,consts:[[1,"mission-list"],[2,"padding","1rem"],[1,"header"],[1,"name"],[1,"description"],[1,"crew_count"],[1,"status"],[1,"created_at"],[1,"updated_at"],[1,"action"],[1,"contents"],[1,"actions"],[1,"primary",2,"margin-right","5px",3,"routerLink"],[1,"warn",3,"click"]],template:function(e,i){if(e&1&&(r(0,"div",0),b(1,da,20,2),U(2,"async"),Oe(3,ma,2,0,"p",1),a()),e&2){let o;c(),_((o=$(2,1,i.missions$))!=null&&o.length?1:3)}},dependencies:[ae,ie,Ee],styles:[".mission-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;padding:.5rem 0 1rem;overflow-x:auto}.mission-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .mission-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 2fr 1fr 1fr 1fr 1.5fr 1.5fr 1fr;align-items:center;padding:.75rem 1.5rem;font-size:1rem}.mission-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#f5f7fa;font-weight:500;color:#333;border-bottom:2px solid #e0e0e0;border-radius:12px 12px 0 0}.mission-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{background:#fafbfc;border-bottom:1px solid #ececec;transition:background .2s}.mission-list[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]:hover{background:#f0f4f8}.actions[_ngcontent-%COMP%]   button.warn[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}.actions[_ngcontent-%COMP%]   button.warn[_ngcontent-%COMP%]:hover{background:#b71c1c}"]})};function pa(n,t){if(n&1&&(x(0,"div",2)(1,"div",4)(2,"div",5)(3,"h2",6),s(4,"Created"),u(),x(5,"p",7),s(6),u(),x(7,"p",8),s(8,"Missions you created"),u()()(),x(9,"div",4)(10,"div",5)(11,"h2",6),s(12,"Joined"),u(),x(13,"p",9),s(14),u(),x(15,"p",8),s(16,"Missions you joined"),u()()(),x(17,"div",4)(18,"div",5)(19,"h2",6),s(20,"Completed"),u(),x(21,"p",10),s(22),u(),x(23,"p",8),s(24,"Missions completed"),u()()(),x(25,"div",4)(26,"div",5)(27,"h2",6),s(28,"Failed"),u(),x(29,"p",11),s(30),u(),x(31,"p",8),s(32,"Missions failed"),u()()()()),n&2){let e=t;c(6),v(e.created_count),c(8),v(e.joined_count),c(8),v(e.completed_count),c(8),v(e.failed_count)}}function fa(n,t){n&1&&(x(0,"div",3),X(1,"span",12),u())}var It=class n{_mission=m(oe);_summarySubject=new te(null);summary$=this._summarySubject.asObservable();constructor(){this.loadSummary()}async loadSummary(){try{let t=await this._mission.getMissionSummary();this._summarySubject.next(t)}catch(t){console.error(t)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-mission-summary"]],decls:6,vars:3,consts:[[1,"summary-container"],[1,"page-title"],[1,"summary-grid"],[1,"loading-container"],[1,"summary-card"],[1,"card-body"],[1,"card-title"],[1,"stat-value","text-primary"],[1,"stat-desc"],[1,"stat-value","text-secondary"],[1,"stat-value","text-success"],[1,"stat-value","text-error"],[1,"loading-spinner"]],template:function(e,i){if(e&1&&(x(0,"div",0)(1,"h1",1),s(2,"Mission Status Summary"),u(),b(3,pa,33,4,"div",2),U(4,"async"),Oe(5,fa,2,0,"div",3),u()),e&2){let o;c(3),_((o=$(4,1,i.summary$))?3:5,o)}},dependencies:[ie],styles:[".summary-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:3rem 2rem;min-height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;text-align:center;margin-bottom:3rem;color:#1f2937}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:2rem;width:100%}.summary-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;padding:2rem;transition:transform .2s;border:1px solid #f3f4f6}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.summary-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.summary-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;margin:0 0 1rem;color:#4b5563}.summary-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;margin:0 0 .5rem;line-height:1}.summary-card[_ngcontent-%COMP%]   .stat-desc[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;margin:0}.text-primary[_ngcontent-%COMP%]{color:#3b82f6}.text-secondary[_ngcontent-%COMP%]{color:#a855f7}.text-success[_ngcontent-%COMP%]{color:#22c55e}.text-error[_ngcontent-%COMP%]{color:#ef4444}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:3rem;width:100%}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;border:4px solid #e5e7eb;border-radius:50%;border-top-color:#3b82f6;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media(max-width:768px){.summary-container[_ngcontent-%COMP%]{padding:1.5rem 1rem;min-height:auto}.page-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:2rem}.summary-grid[_ngcontent-%COMP%]{gap:1.5rem}}"]})};var ga=(n,t)=>t.id;function xa(n,t){if(n&1&&(r(0,"div",12)(1,"div",33)(2,"div",34),s(3," 2"),a(),r(4,"div",35),p(5,"div",36),r(6,"div",37),p(7,"div",38),r(8,"div",39),p(9,"img",40),a(),r(10,"h3",41),s(11),a(),r(12,"p",42),s(13),a(),r(14,"div",43)(15,"span",44),s(16,"MISSIONS"),a(),r(17,"p",45),s(18),a()()()()()()),n&2){let e=f(),i=f();c(),w("appThreeDTilt",15),c(8),w("src",e[1].avatar_url||"assets/default.avatar.jpg",H),c(2),v(e[1].display_name),c(2),y(" ",i.getRankTitle(e[1].mission_success_count)),c(5),v(e[1].mission_success_count)}}function ua(n,t){if(n&1&&(r(0,"div",13)(1,"div",46)(2,"div",47)(3,"span",48),s(4,"emoji_events"),a(),r(5,"div",49),s(6," 1"),a()(),r(7,"div",50),p(8,"div",36),r(9,"div",51),p(10,"div",38),r(11,"div",52),p(12,"img",40),a(),r(13,"h3",53),s(14),a(),r(15,"p",54),s(16),a(),r(17,"div",55)(18,"span",56),s(19,"TOTAL MISSIONS"),a(),r(20,"p",57),s(21),a()()()()()()),n&2){let e=f(),i=f();c(),w("appThreeDTilt",20),c(11),w("src",e[0].avatar_url||"assets/default.avatar.jpg",H),c(2),v(e[0].display_name),c(2),y(" ",i.getRankTitle(e[0].mission_success_count)),c(5),v(e[0].mission_success_count)}}function ha(n,t){if(n&1&&(r(0,"div",14)(1,"div",33)(2,"div",58),s(3," 3"),a(),r(4,"div",59),p(5,"div",36),r(6,"div",37),p(7,"div",38),r(8,"div",39),p(9,"img",40),a(),r(10,"h3",41),s(11),a(),r(12,"p",60),s(13),a(),r(14,"div",61)(15,"span",44),s(16,"MISSIONS"),a(),r(17,"p",45),s(18),a()()()()()()),n&2){let e=f(),i=f();c(),w("appThreeDTilt",15),c(8),w("src",e[2].avatar_url||"assets/default.avatar.jpg",H),c(2),v(e[2].display_name),c(2),y(" ",i.getRankTitle(e[2].mission_success_count)," "),c(5),v(e[2].mission_success_count)}}function ba(n,t){if(n&1&&(r(0,"tr",29)(1,"td",26)(2,"span",62),s(3),a()(),r(4,"td",26)(5,"div",63)(6,"div",64),p(7,"img",65)(8,"div",66),a(),r(9,"span",67),s(10),a()()(),r(11,"td",26)(12,"span",68),s(13),a()(),r(14,"td",69),s(15),a(),r(16,"td",27)(17,"span",70),s(18),a()()()),n&2){let e=t.$implicit,i=t.$index,o=f(2);c(3),y("#",i+4<10?"0"+(i+4):i+4),c(4),w("src",e.avatar_url||"assets/default.avatar.jpg",H),c(3),v(e.display_name),c(3),v(o.getRankTitle(e.mission_success_count)),c(2),y(" ",e.mission_success_count),c(3),v(o.getSuccessRate(e.mission_success_count,e.mission_join_count))}}function _a(n,t){if(n&1&&(r(0,"div",11),b(1,xa,19,5,"div",12),b(2,ua,22,5,"div",13),b(3,ha,19,5,"div",14),a(),r(4,"div",6)(5,"div",15)(6,"div",16)(7,"h2",17)(8,"span",18),s(9,"military_tech"),a(),s(10," GLOBAL RANKINGS "),a(),r(11,"div",19)(12,"div",20)(13,"span",21),s(14,"search"),a(),p(15,"input",22),a()()(),r(16,"div",23)(17,"table",24)(18,"thead")(19,"tr",25)(20,"th",26),s(21,"Rank"),a(),r(22,"th",26),s(23,"Hunter"),a(),r(24,"th",26),s(25,"Title"),a(),r(26,"th",27),s(27,"Completed"),a(),r(28,"th",27),s(29,"Success Rate"),a()()(),r(30,"tbody",28),L(31,ba,19,6,"tr",29,ga),a()()(),r(33,"div",30)(34,"button",31),s(35," Load More Rankings "),r(36,"span",32),s(37,"expand_more"),a()()()()()),n&2){let e=t;c(),_(e[1]?1:-1),c(),_(e[0]?2:-1),c(),_(e[2]?3:-1),c(28),N(e.slice(3))}}var Dt=class n{_userService=m(gt);leaderboard$=new te([]);async ngOnInit(){try{let t=await this._userService.getLeaderboard();this.leaderboard$.next(t)}catch(t){console.error("Failed to load leaderboard",t)}}getRankTitle(t){return t>=50?"Challenger":t>=20?"Grandmaster":t>=10?"Master":t>=5?"Diamond":"Platinum"}getSuccessRate(t,e){return e?Math.round(t/e*100)+"%":"0%"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-leaderboard"]],decls:16,vars:4,consts:[[1,"leaderboard-page"],[1,"fixed","inset-0","pointer-events-none","overflow-hidden","z-0"],[1,"absolute","top-[20%]","left-[10%]","w-1","h-1","bg-amber-500","rounded-full","blur-[1px]","animate-float","opacity-60",2,"animation-delay","0s"],[1,"absolute","top-[60%]","left-[15%]","w-1","h-1","bg-amber-500","rounded-full","blur-[1px]","animate-float","opacity-60",2,"animation-delay","1s"],[1,"absolute","top-[30%]","left-[80%]","w-1","h-1","bg-amber-500","rounded-full","blur-[1px]","animate-float","opacity-60",2,"animation-delay","2s"],[1,"relative","z-10","max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","pt-32","pb-12","space-y-16"],[1,"animate-float"],[1,"text-center","space-y-4","animate-fade-in-up","cursor-default",3,"appThreeDTilt"],[1,"font-display","text-5xl","md:text-7xl","font-black","tracking-tighter","text-white"],[1,"text-transparent","bg-clip-text","bg-gradient-to-r","from-amber-400","to-yellow-600"],[1,"text-slate-400","max-w-2xl","mx-auto","text-lg","tracking-wide"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8","items-end","max-w-5xl","mx-auto","mb-20","perspective-1000"],[1,"order-2","md:order-1","flex","flex-col","items-center","animate-fade-in-up","animate-float",2,"animation-delay","0.2s"],[1,"order-1","md:order-2","flex","flex-col","items-center","z-10","animate-fade-in-up","animate-float",2,"animation-delay","0.1s"],[1,"order-3","flex","flex-col","items-center","animate-fade-in-up","animate-float",2,"animation-delay","0.3s"],[1,"bg-[#1d1135]/80","backdrop-blur-md","rounded-2xl","border","border-white/5","overflow-hidden","shadow-2xl","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"p-6","border-b","border-white/5","flex","flex-col","md:flex-row","justify-between","items-center","gap-4","bg-white/[0.02]"],[1,"font-display","text-xl","tracking-widest","font-bold","flex","items-center","gap-3","text-white"],[1,"material-symbols-outlined","text-primary","text-2xl"],[1,"flex","gap-2"],[1,"search-box-expandable"],[1,"material-symbols-outlined","search-icon"],["type","text","placeholder","Search hunter..."],[1,"overflow-x-auto"],[1,"w-full","text-left","border-collapse"],[1,"text-slate-500","text-[10px]","font-black","uppercase","tracking-[0.2em]","border-b","border-white/5","bg-black/20"],[1,"px-8","py-5"],[1,"px-8","py-5","text-right"],[1,"divide-y","divide-white/5"],[1,"hover:bg-white/[0.03]","transition-colors","group","cursor-pointer"],[1,"p-6","border-t","border-white/5","bg-white/[0.02]","text-center"],[1,"text-primary","hover:text-white","font-bold","text-xs","tracking-[0.2em]","uppercase","transition-colors","flex","items-center","justify-center","gap-2","mx-auto","group"],[1,"material-symbols-outlined","text-sm","group-hover:translate-y-1","transition-transform"],[1,"relative","w-full","group","cursor-pointer",3,"appThreeDTilt"],[1,"absolute","-top-6","left-1/2","-translate-x-1/2","bg-slate-400","text-white","w-10","h-10","rounded-full","flex","items-center","justify-center","font-display","text-xl","font-bold","shadow-lg","border-2","border-slate-300","z-20","rank-badge-3d"],[1,"astra-card","rank-2","w-full"],[1,"astra-frame"],[1,"astra-inner","tech-corners"],[1,"scan-line"],[1,"w-24","h-24","mb-4","avatar-ring"],[1,"w-full","h-full","object-cover",3,"src"],[1,"font-display","text-xl","font-bold","text-white","mb-1","tracking-widest","text-center"],[1,"text-[10px]","text-slate-400","font-bold","uppercase","tracking-[0.2em]","mb-4","text-center"],[1,"bg-white/5","py-2","px-4","rounded-lg","border","border-white/5","group-hover:border-slate-400/30","transition-colors","w-full","text-center"],[1,"text-[10px]","font-mono","text-slate-500","block","mb-1"],[1,"text-xl","font-black","text-white"],[1,"relative","w-full","group","cursor-pointer","transform","md:scale-110",3,"appThreeDTilt"],[1,"absolute","-top-8","left-1/2","-translate-x-1/2","flex","flex-col","items-center","rank-badge-3d","z-30"],[1,"material-symbols-outlined","text-amber-500","text-4xl","drop-shadow-[0_0_10px_rgba(245,158,11,0.8)]","animate-bounce-slow"],[1,"bg-amber-500","text-black","w-12","h-12","rounded-full","flex","items-center","justify-center","font-display","text-2xl","font-black","shadow-lg","border-4","border-[#1d1135]","-mt-4"],[1,"astra-card","rank-1","w-full"],[1,"astra-inner","tech-corners","pt-10"],[1,"w-32","h-32","mb-6","avatar-ring","mt-2"],[1,"font-display","text-3xl","font-black","text-white","mb-1","tracking-widest","text-center"],[1,"text-xs","text-amber-500","font-bold","uppercase","tracking-[0.3em]","mb-6","glow-text-gold","text-center"],[1,"bg-gradient-to-r","from-amber-500/10","to-amber-600/10","py-3","px-6","rounded-xl","border","border-amber-500/20","group-hover:border-amber-500/50","transition-colors","w-full","text-center"],[1,"text-xs","font-mono","text-amber-500/70","block","mb-1"],[1,"text-3xl","font-black","text-white"],[1,"absolute","-top-6","left-1/2","-translate-x-1/2","bg-orange-800","text-white","w-10","h-10","rounded-full","flex","items-center","justify-center","font-display","text-xl","font-bold","shadow-lg","border-2","border-white","z-20","rank-badge-3d"],[1,"astra-card","rank-3","w-full"],[1,"text-[10px]","text-orange-400","font-bold","uppercase","tracking-[0.2em]","mb-4","text-center"],[1,"bg-white/5","py-2","px-4","rounded-lg","border","border-white/5","group-hover:border-orange-700/30","transition-colors","w-full","text-center"],[1,"font-display","text-lg","font-bold","text-slate-600","group-hover:text-white","transition-colors"],[1,"flex","items-center","gap-4"],[1,"relative"],[1,"w-10","h-10","rounded-full","border-2","border-white/10","group-hover:border-primary/50","transition-colors","object-cover",3,"src"],[1,"absolute","-bottom-0.5","-right-0.5","w-3","h-3","bg-emerald-500","rounded-full","border-2","border-[#1d1135]"],[1,"font-bold","text-sm","text-slate-300","group-hover:text-white","transition-colors","tracking-wide"],[1,"px-3","py-1","bg-white/5","rounded-full","text-[10px]","font-bold","text-slate-500","uppercase","tracking-wider","group-hover:bg-white/10","group-hover:text-primary","transition-colors"],[1,"px-8","py-5","font-mono","text-sm","text-slate-400","text-right","group-hover:text-white","transition-colors"],[1,"font-bold","text-emerald-500","text-sm"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1),p(2,"div",2)(3,"div",3)(4,"div",4),a(),r(5,"main",5)(6,"div",6)(7,"div",7)(8,"h1",8),s(9," ASTRA TOP "),r(10,"span",9),s(11,"BRAWLERS"),a()(),r(12,"p",10),s(13," The highest-ranked operatives in the mission network. Performance. Precision. Results. "),a()()(),b(14,_a,38,3),U(15,"async"),a()()),e&2){let o;c(7),w("appThreeDTilt",10),c(7),_((o=$(15,2,i.leaderboard$))?14:-1,o)}},dependencies:[re,Fe,ie],styles:['@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.animate-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 4s ease-in-out infinite}.animate-float-delayed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 6s ease-in-out infinite;animation-delay:3s}.animate-bounce-slow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 3s infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(-5%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(0);animation-timing-function:cubic-bezier(0,0,.2,1)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s cubic-bezier(.16,1,.3,1) backwards}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.glow-text-gold[_ngcontent-%COMP%]{text-shadow:0 0 15px rgba(234,179,8,.5)}.perspective-1000[_ngcontent-%COMP%]{perspective:1000px}.astra-card[_ngcontent-%COMP%]{position:relative;border-radius:18px;background:radial-gradient(circle at center,#140c2e,#070312);display:flex;flex-direction:column;align-items:center;justify-content:flex-start;overflow:hidden;backface-visibility:hidden;transition:all .5s cubic-bezier(.4,0,.2,1);box-shadow:0 10px 30px -10px #00000080}.astra-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 20px 40px -5px #0006}.astra-card[_ngcontent-%COMP%]:hover   .astra-frame[_ngcontent-%COMP%]{box-shadow:0 0 30px #7c3aed66}.astra-frame[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:18px;padding:1px;background:linear-gradient(120deg,#ffffff1a,#ffffff0d);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;z-index:10}.rank-1[_ngcontent-%COMP%]   .astra-frame[_ngcontent-%COMP%]{background:linear-gradient(120deg,#f59e0b,#fcd34d,#f59e0b);background-size:200% 200%;animation:_ngcontent-%COMP%_borderFlow 4s linear infinite;box-shadow:0 0 15px #f59e0b4d}.rank-2[_ngcontent-%COMP%]   .astra-frame[_ngcontent-%COMP%]{background:linear-gradient(120deg,#94a3b8,#cbd5e1,#94a3b8);background-size:200% 200%;animation:_ngcontent-%COMP%_borderFlow 6s linear infinite}.rank-3[_ngcontent-%COMP%]   .astra-frame[_ngcontent-%COMP%]{background:linear-gradient(120deg,#c2410c,#fdba74,#c2410c);background-size:200% 200%;animation:_ngcontent-%COMP%_borderFlow 6s linear infinite}@keyframes _ngcontent-%COMP%_borderFlow{0%{background-position:0%}to{background-position:200%}}.astra-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;border-radius:18px;background:#0f071acc;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;flex-direction:column;align-items:center;padding:2rem;z-index:1}.leaderboard-page[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:#0f0714;background-image:radial-gradient(circle at 50% 50%,rgba(76,29,149,.15) 0%,transparent 50%),linear-gradient(0deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(255,255,255,.03) 25%,rgba(255,255,255,.03) 26%,transparent 27%,transparent 74%,rgba(255,255,255,.03) 75%,rgba(255,255,255,.03) 76%,transparent 77%,transparent);background-size:100% 100%,50px 50px,50px 50px;color:#e2e8f0;padding-top:100px;padding-bottom:5rem;overflow-x:hidden}.leaderboard-page[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;inset:0;background:linear-gradient(#12101000 50%,#0000001a 50%),linear-gradient(90deg,#ff000008,#00ff0003,#0000ff08);background-size:100% 3px,3px 100%;pointer-events:none;z-index:1;opacity:.8}.tech-corners[_ngcontent-%COMP%]:before, .tech-corners[_ngcontent-%COMP%]:after{content:"";position:absolute;width:20px;height:20px;border:2px solid rgba(255,255,255,.2);pointer-events:none;transition:all .3s ease}.tech-corners[_ngcontent-%COMP%]:before{top:8px;left:8px;border-right:none;border-bottom:none}.tech-corners[_ngcontent-%COMP%]:after{bottom:8px;right:8px;border-left:none;border-top:none}.rank-1[_ngcontent-%COMP%]   .tech-corners[_ngcontent-%COMP%]:before, .rank-1[_ngcontent-%COMP%]   .tech-corners[_ngcontent-%COMP%]:after{border-color:#f59e0b99}.rank-2[_ngcontent-%COMP%]   .tech-corners[_ngcontent-%COMP%]:before, .rank-2[_ngcontent-%COMP%]   .tech-corners[_ngcontent-%COMP%]:after{border-color:#94a3b899}.rank-3[_ngcontent-%COMP%]   .tech-corners[_ngcontent-%COMP%]:before, .rank-3[_ngcontent-%COMP%]   .tech-corners[_ngcontent-%COMP%]:after{border-color:#c2410c99}.scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.5),transparent);animation:_ngcontent-%COMP%_scanVertical 4s linear infinite;opacity:.3;pointer-events:none;z-index:5}@keyframes _ngcontent-%COMP%_scanVertical{0%{top:0;opacity:0}10%{opacity:.5}90%{opacity:.5}to{top:100%;opacity:0}}.avatar-ring[_ngcontent-%COMP%]{position:relative;border-radius:50%;z-index:2;padding:3px;background:#00000080}.avatar-ring[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;position:relative;z-index:2}.avatar-ring[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:50%;padding:2px;background:conic-gradient(from 0deg,transparent,currentColor,transparent);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;animation:_ngcontent-%COMP%_spin-slow 4s linear infinite}.rank-1[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]{color:#f59e0b;box-shadow:0 0 30px #f59e0b33}.rank-2[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]{color:#94a3b8;box-shadow:0 0 20px #94a3b833}.rank-3[_ngcontent-%COMP%]   .avatar-ring[_ngcontent-%COMP%]{color:#c2410c;box-shadow:0 0 20px #c2410c33}@keyframes _ngcontent-%COMP%_spin-slow{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.rank-badge-3d[_ngcontent-%COMP%]{transform-style:preserve-3d;backface-visibility:hidden;filter:drop-shadow(0 4px 8px rgba(0,0,0,.6));z-index:20}.search-box-expandable[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;background:#0f071a;border:1px solid rgba(255,255,255,.1);border-radius:12px;transition:all .5s cubic-bezier(.4,0,.2,1);overflow:hidden;display:flex;align-items:center}.search-box-expandable[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:10px;color:#64748b;transition:color .3s;pointer-events:none;z-index:10;-webkit-user-select:none;user-select:none}.search-box-expandable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border:none;outline:none;padding-left:40px;padding-right:15px;color:#fff;font-size:.75rem;font-weight:700;opacity:0;transition:opacity .3s}.search-box-expandable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#475569}.search-box-expandable[_ngcontent-%COMP%]:hover, .search-box-expandable[_ngcontent-%COMP%]:focus-within{width:240px;border-color:#7c3aed80;box-shadow:0 0 15px #7c3aed33}.search-box-expandable[_ngcontent-%COMP%]:hover   .search-icon[_ngcontent-%COMP%], .search-box-expandable[_ngcontent-%COMP%]:focus-within   .search-icon[_ngcontent-%COMP%]{color:#7c3aed}.search-box-expandable[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%], .search-box-expandable[_ngcontent-%COMP%]:focus-within   input[_ngcontent-%COMP%]{opacity:1}']})};var bi=[{path:"",component:ut},{path:"login",component:ht},{path:"profile",component:St,canActivate:[K],runGuardsAndResolvers:"always"},{path:"missions",component:Tt,canActivate:[K],runGuardsAndResolvers:"always"},{path:"missions/:id",loadComponent:()=>import("./chunk-ZLIUNOE4.js").then(n=>n.MissionDetail),canActivate:[K]},{path:"joined-missions",component:At,canActivate:[K],runGuardsAndResolvers:"always"},{path:"mission-chat/:id",loadComponent:()=>import("./chunk-VJ4MAVS5.js").then(n=>n.MissionChatPage),canActivate:[K]},{path:"mission-summary",component:It,canActivate:[K],runGuardsAndResolvers:"always"},{path:"about-us",loadComponent:()=>import("./chunk-QEYOSCVG.js").then(n=>n.About)},{path:"leaderboard",component:Dt,canActivate:[K],runGuardsAndResolvers:"always"},{path:"notifications",loadComponent:()=>import("./chunk-7IP2DVG6.js").then(n=>n.NotificationsComponent),canActivate:[K]},{path:"chief",component:zt,runGuardsAndResolvers:"always",canActivate:[K]},{path:"chief/mission/:id",loadComponent:()=>import("./chunk-47ECKQ2B.js").then(n=>n.MissionSpecificManager),canActivate:[K]},{path:"server-error",component:Et},{path:"**",component:Ft}];function ya(n,t){n&1&&(x(0,"div",0),X(1,"div",1),u())}var Ut=class n{isLoading=!1;show(){this.isLoading=!0}hide(){this.isLoading=!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-spinner"]],decls:1,vars:1,consts:[[1,"loading-overlay"],[1,"spinner"]],template:function(e,i){e&1&&b(0,ya,2,0,"div",0),e&2&&_(i.isLoading?0:-1)},styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var Bt=class n{loadingRequestCount=0;_componentRef=null;_appRef=m(fn);_injector=m(dn);loading(){this.loadingRequestCount++,this.loadingRequestCount===1&&(this._componentRef||(this._componentRef=bn(Ut,{environmentInjector:this._injector})),document.body.appendChild(this._componentRef.location.nativeElement),this._appRef.attachView(this._componentRef.hostView),this._componentRef.instance.show())}idle(){if(this.loadingRequestCount--,this.loadingRequestCount<=0){if(this.loadingRequestCount=0,!this._componentRef)return;this._componentRef.instance.hide(),this._appRef.detachView(this._componentRef.hostView),this._componentRef.location.nativeElement.remove(),this._componentRef.destroy(),this._componentRef=null}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var _i=(n,t)=>{let e=m(Bt);return e.loading(),t(n).pipe(ln(()=>e.idle()))};var jt=class n{_router=m(W);_snackBar=m(xt);_snackBarConfig={horizontalPosition:"right",verticalPosition:"top"};handleError(t){if(t)switch(t.status){case 400:console.log(t),t.error==="Record not found"?this._snackBar.open("Invalid username or password","ok",this._snackBarConfig):t.error!==""?this._snackBar.open(t.error,"ok",this._snackBarConfig):this._snackBar.open("bad request","ok",this._snackBarConfig);break;case 404:this._router.navigate(["/not-found"]);break;case 401:this._snackBar.open("Unauthorized","ok",this._snackBarConfig);break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 508:case 509:case 510:case 511:let e={state:{error:t.error}};this._router.navigate(["/server-error"],e);break;default:this._snackBar.open("some thing went wrong!!, please try again later","ok",this._snackBarConfig);break}return an(()=>t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var yi=(n,t)=>{let e=m(jt);return t(n).pipe(sn(i=>e.handleError(i)))};var vi=(n,t)=>{let i=m(j).data()?.token;if(i){let o=`Bearer ${i}`;n=n.clone({setHeaders:{Authorization:o}})}return t(n)};var wi={providers:[pn(),On(bi,Sn()),Cn(kn([_i,yi,vi]))]};var va=()=>({exact:!0}),wa=(n,t)=>t.id;function Ca(n,t){n&1&&p(0,"div",11)}function ka(n,t){n&1&&p(0,"div",11)}function Ma(n,t){if(n&1&&(r(0,"span",18),s(1),a()),n&2){let e=f(3);c(),y(" ",e.invite_count()," ")}}function Pa(n,t){n&1&&(r(0,"div",23)(1,"span",40),s(2,"notifications_active"),a(),r(3,"p",41),s(4,"All systems quiet"),a()())}function Oa(n,t){if(n&1){let e=D();r(0,"div",25)(1,"div",42)(2,"div",43)(3,"span",44),s(4,"mail"),a()(),r(5,"div",45)(6,"div",46)(7,"p",47),s(8,"Mission Invite"),a(),r(9,"span",48),s(10),U(11,"date"),a()(),r(12,"p",49)(13,"span",50),s(14),a(),s(15," requested your assistance in "),r(16,"span",51),s(17),a(),s(18,". "),a(),r(19,"div",52)(20,"button",53),M("click",function(){let o=S(e).$implicit,l=f(3);return E(l.accept(o.id))}),s(21),a(),r(22,"button",54),M("click",function(){let o=S(e).$implicit,l=f(3);return E(l.decline(o.id))}),s(23," Decline "),a()()()()()}if(n&2){let e=t.$implicit,i=f(3);c(10),v(ge(11,6,e.created_at,"shortTime")),c(4),v(e.chief_name),c(3),v(e.mission_name),c(3),w("disabled",i.isProcessing(e.id)),c(),y(" ",i.isProcessing(e.id)?"Connecting...":"Accept"," "),c(),w("disabled",i.isProcessing(e.id))}}function Sa(n,t){if(n&1){let e=D();r(0,"div",15)(1,"button",16)(2,"span",17),s(3,"notifications"),a(),b(4,Ma,2,1,"span",18),a(),r(5,"div",19)(6,"div",20)(7,"h3",21),s(8,"Incoming Protocols "),a(),r(9,"span",22),s(10),a()(),b(11,Pa,5,0,"div",23),r(12,"div",24),L(13,Oa,24,9,"div",25,wa),a()()(),r(15,"div",26)(16,"button",27)(17,"span",28),s(18),a(),r(19,"div",29),p(20,"img",30),a()(),r(21,"div",31)(22,"div",32)(23,"p",33),s(24,"Menu"),a()(),r(25,"a",34)(26,"span",35),s(27,"person"),a(),r(28,"span",36),s(29,"Profile"),a()(),p(30,"div",37),r(31,"button",38),M("click",function(){S(e);let o=f(2);return E(o.logout())}),r(32,"span",39),s(33,"logout"),a(),r(34,"span",36),s(35,"Log-out"),a()()()()}if(n&2){let e=f(2);c(4),_(e.invite_count()>0?4:-1),c(6),y("",e.invite_count()," New"),c(),_(e.invites().length===0?11:-1),c(2),N(e.invites()),c(5),v(e.display_name()),c(2),w("src",e.avatar_url()||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=200",H)}}function Ea(n,t){n&1&&(r(0,"button",14),s(1," Sign In "),a())}function Fa(n,t){if(n&1&&(r(0,"nav",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"span",6),s(5,"auto_awesome"),a()(),r(6,"h1",7),s(7," ASTRA"),a()(),r(8,"ul",8)(9,"li",9)(10,"a",10,0),s(12," Missions "),a(),b(13,Ca,1,0,"div",11),a(),r(14,"li",9)(15,"a",12,1),s(17," Leaderboard "),a(),b(18,ka,1,0,"div",11),a()(),r(19,"div",13),b(20,Sa,36,5)(21,Ea,2,0,"button",14),a()()()),n&2){let e=Re(11),i=Re(16),o=f();c(10),ce("text-white",e.isActive)("text-slate-400",!e.isActive),w("routerLinkActiveOptions",et(12,va)),c(3),_(e.isActive?13:-1),c(2),ce("text-white",i.isActive)("text-slate-400",!i.isActive),c(3),_(i.isActive?18:-1),c(2),_(o.display_name()?20:21)}}var Lt=class n{_router=m(W);_passport=m(j);_inviteService=m(Ue);_notificationService=m(be);_dialog=m(Ie);_snackBar=m(xt);_cdr=m(nt);display_name;avatar_url;invite_count=ne(()=>this._inviteService.invites().length);isHidden=A(!1);showNotifications=A(!1);processing=A(new Set);invites=this._inviteService.invites;_pollingInterval;constructor(){this._router.events.subscribe(()=>{this.isHidden.set(this._router.url.includes("/login")||this._router.url.includes("/register"))}),this.display_name=ne(()=>this._passport.data()?.display_name),this.avatar_url=ne(()=>this._passport.avatar()),Qe(()=>{this.display_name()?(this.updateInviteCount(),this.startPolling()):this.stopPolling()}),this._notificationService.notifications$.subscribe(()=>{this.updateInviteCount()})}ngOnDestroy(){this.stopPolling()}startPolling(){this.stopPolling(),this._pollingInterval=setInterval(()=>{this.display_name()&&this.updateInviteCount()},1e4)}stopPolling(){this._pollingInterval&&(clearInterval(this._pollingInterval),this._pollingInterval=null)}async updateInviteCount(){try{if(!this.display_name())return;await this._inviteService.getMyInvites()}catch{}}toggleNotifications(){this.showNotifications.update(t=>!t)}isProcessing(t){return this.processing().has(t)}setProcessing(t,e){this.processing.update(i=>{let o=new Set(i);return e?o.add(t):o.delete(t),o})}async accept(t){if(this.isProcessing(t))return;this._dialog.open(Ht,{width:"400px",panelClass:"premium-dialog-panel",data:{title:"Accept Mission?",message:"You are about to join this mission. Confirm authorization?",confirmText:"Engage",cancelText:"Stand Down"}}).afterClosed().subscribe(async i=>{if(i){this.setProcessing(t,!0);try{await this._inviteService.accept(t),this._snackBar.open("Invitation accepted!","Close",{duration:3e3}),this.showNotifications.set(!1),this._cdr.detectChanges()}catch(o){let l=typeof o.error=="string"?o.error:o.error?.message||"Failed to accept invitation";this._snackBar.open(l,"Close",{duration:3e3})}finally{this.setProcessing(t,!1)}}})}async decline(t){if(this.isProcessing(t))return;this._dialog.open(Ht,{width:"400px",panelClass:"premium-dialog-panel",data:{title:"Decline Invitation?",message:"Reject this mission assignment? This action cannot be undone.",confirmText:"Reject",cancelText:"Cancel"}}).afterClosed().subscribe(async i=>{if(i){this.setProcessing(t,!0);try{await this._inviteService.decline(t),this._snackBar.open("Invitation declined","Close",{duration:3e3}),this._cdr.detectChanges()}catch(o){let l=typeof o.error=="string"?o.error:o.error?.message||"Failed to decline invitation";this._snackBar.open(l,"Close",{duration:3e3})}finally{this.setProcessing(t,!1)}}})}logout(){this._passport.destroy(),this._router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["rla1","routerLinkActive"],["rla3","routerLinkActive"],[1,"fixed","top-0","left-0","w-full","z-50","glass-panel","border-b-0"],[1,"max-w-7xl","mx-auto","px-6","py-4","flex","items-center","justify-between"],["routerLink","/",1,"flex","items-center","gap-3","cursor-pointer","group","btn-interactive-3d","rounded-lg","p-1"],[1,"w-10","h-10","bg-primary/20","rounded-lg","flex","items-center","justify-center","border","border-primary/40","group-hover:scale-110","transition-transform","duration-300"],[1,"material-symbols-outlined","text-primary","scale-110"],[1,"font-display","font-black","text-2xl","tracking-[0.2em]","text-primary","group-hover:tracking-[0.3em]","transition-all"],[1,"hidden","md:flex","items-center","gap-1","p-1","bg-white/5","border","border-white/10","rounded-full","backdrop-blur-md"],[1,"relative","btn-interactive-3d","rounded-full"],["routerLink","/missions","routerLinkActive","",1,"block","px-5","py-2","text-[10px]","font-bold","uppercase","tracking-[0.15em]","transition-colors","rounded-full","hover:text-white",3,"routerLinkActiveOptions"],[1,"absolute","inset-0","bg-white/10","rounded-full","-z-10","shadow-inner",2,"view-transition-name","active-nav-pill"],["routerLink","/leaderboard","routerLinkActive","",1,"block","px-5","py-2","text-[10px]","font-bold","uppercase","tracking-[0.15em]","transition-colors","rounded-full","hover:text-white"],[1,"flex","items-center","gap-4"],["routerLink","/login",1,"bg-primary","hover:bg-primary/90","text-white","px-6","py-2","rounded-lg","font-bold","uppercase","tracking-widest","text-[10px]","transition-all"],[1,"relative","group","btn-interactive-3d","rounded-full"],[1,"relative","p-2","text-slate-400","hover:text-primary","transition-colors","focus:outline-none"],[1,"material-symbols-outlined"],[1,"absolute","top-1.5","right-1.5","w-4","h-4","bg-red-500","text-[9px]","font-bold","text-white","rounded-full","flex","items-center","justify-center","border-2","border-background-dark"],[1,"absolute","right-0","mt-2","w-80","bg-[#0F172A]","border","border-white/10","rounded-xl","shadow-[0_10px_40px_rgba(0,0,0,0.5)]","z-50","overflow-hidden","opacity-0","invisible","translate-y-4","scale-95","group-hover:opacity-100","group-hover:visible","group-hover:translate-y-0","group-hover:scale-100","transition-all","duration-300","cubic-bezier(0.34,","1.56,","0.64,","1)"],[1,"px-4","py-3","border-b","border-white/5","bg-white/5","flex","justify-between","items-center","backdrop-blur-sm"],[1,"text-[10px]","font-black","uppercase","tracking-widest","text-slate-400"],[1,"text-[9px]","bg-primary/10","text-primary","px-1.5","py-0.5","rounded","border","border-primary/20"],[1,"p-8","text-center","text-slate-500","flex","flex-col","items-center"],[1,"max-h-[24rem]","overflow-y-auto","custom-scrollbar"],[1,"p-4","border-b","border-white/5","hover:bg-white/5","transition-colors","group"],[1,"relative","group"],[1,"flex","items-center","gap-3","pl-2","pr-1","py-1","rounded-full","bg-slate-100","dark:bg-white/5","border","border-white/10","hover:border-primary/30","transition-all","btn-interactive-3d"],[1,"hidden","sm:block","text-[10px]","font-bold","uppercase","tracking-widest","text-slate-400","pl-2"],[1,"w-8","h-8","rounded-full","border","border-primary/40","p-0.5","overflow-hidden"],["alt","avatar",1,"w-full","h-full","rounded-full","object-cover",3,"src"],[1,"absolute","right-0","mt-3","w-56","py-3","bg-card-dark/95","backdrop-blur-xl","border","border-white/10","rounded-2xl","shadow-[0_20px_50px_rgba(0,0,0,0.5)]","opacity-0","-translate-y-4","scale-95","pointer-events-none","group-hover:opacity-100","group-hover:translate-y-0","group-hover:scale-100","group-hover:pointer-events-auto","transition-all","duration-500","cubic-bezier-[0.34,1.56,0.64,1]","z-50","dropdown-bridge"],[1,"px-4","pb-2","mb-2","border-b","border-white/5","lg:hidden"],[1,"text-[10px]","text-slate-500","uppercase","tracking-widest","font-bold"],["routerLink","/profile",1,"flex","items-center","gap-3","px-4","py-3","text-xs","font-bold","uppercase","tracking-widest","text-slate-400","hover:text-primary","hover:bg-white/5","transition-all","group/item"],[1,"material-symbols-outlined","text-sm","transition-transform","group-hover/item:scale-125"],[1,"group-hover/item:translate-x-1","transition-transform"],[1,"h-px","bg-white/5","mx-2","my-1"],[1,"w-full","flex","items-center","gap-3","px-4","py-3","text-xs","font-bold","uppercase","tracking-widest","text-red-400","hover:text-red-300","hover:bg-red-500/5","transition-all","group/item",3,"click"],[1,"material-symbols-outlined","text-sm","transition-transform","group-hover/item:rotate-12"],[1,"material-symbols-outlined","text-4xl","mb-3","opacity-20"],[1,"text-[10px]","uppercase","tracking-widest","opacity-60"],[1,"flex","items-start","gap-3"],[1,"w-8","h-8","rounded-lg","bg-primary/10","border","border-primary/20","flex","items-center","justify-center","shrink-0"],[1,"material-symbols-outlined","text-primary","text-sm"],[1,"flex-1","min-w-0"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-[9px]","text-primary","uppercase","font-bold","tracking-wider"],[1,"text-[9px]","text-slate-600"],[1,"text-xs","text-slate-300","mb-3","leading-relaxed"],[1,"text-white","font-bold"],[1,"text-white","font-bold","break-words"],[1,"flex","gap-2"],[1,"flex-1","py-1.5","bg-emerald-500/10","hover:bg-emerald-500/20","text-emerald-400","border","border-emerald-500/30","rounded","text-[10px]","font-black","uppercase","tracking-wider","transition-all","disabled:opacity-50","hover:shadow-[0_0_10px_rgba(16,185,129,0.2)]",3,"click","disabled"],[1,"flex-1","py-1.5","bg-rose-500/10","hover:bg-rose-500/20","text-rose-400","border","border-rose-500/30","rounded","text-[10px]","font-black","uppercase","tracking-wider","transition-all","disabled:opacity-50","hover:shadow-[0_0_10px_rgba(244,63,94,0.2)]",3,"click","disabled"]],template:function(e,i){e&1&&b(0,Fa,22,13,"nav",2),e&2&&_(i.isHidden()?-1:0)},dependencies:[ae,Pn,Vn,re,pt,Ee],styles:['.dropdown-bridge[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-12px;left:0;width:100%;height:12px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff05}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:10px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}@keyframes _ngcontent-%COMP%_dropdownEnter{0%{opacity:0;transform:translateY(-8px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}.animate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_dropdownEnter .2s cubic-bezier(.2,0,.13,1.5) forwards;transform-origin:top right}[_ngcontent-%COMP%]::view-transition-group(active-nav-pill){animation-duration:.4s;animation-timing-function:cubic-bezier(.4,0,.2,1)}[_ngcontent-%COMP%]::view-transition-old(active-nav-pill), [_ngcontent-%COMP%]::view-transition-new(active-nav-pill){height:100%}']})};var Nt=class n{title=A("client");inviteService=m(Ue);notificationService=m(be);passportService=m(j);async ngOnInit(){this.passportService.data()&&this.checkInvites()}async checkInvites(){try{setTimeout(async()=>{if(!this.passportService.data())return;let t=await this.inviteService.getMyInvites();t&&t.length>0&&this.notificationService.showLocalNotification({title:"Mission Invites",message:`You have ${t.length} pending invite(s). Check your profile!`,type:"info",metadata:{}})},2e3)}catch(t){console.error("Failed to check invites",t)}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"],[1,"content"]],template:function(e,i){e&1&&(r(0,"div",0),p(1,"app-navbar"),r(2,"div",1),p(3,"router-outlet"),a()())},dependencies:[Mn,Lt],encapsulation:2})};vn(Nt,wi).catch(n=>console.error(n));
